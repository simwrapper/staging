import{d as k,n as S,p as G,g as m,a as zt,f as tt,b as O,s as gt,V as Q,S as At}from"./index-20e8de26.js";import{H as I,m as D}from"./HTTPFileSystem-8b936912.js";import{m as B}from"./index-0080ce84.js";import{y as q}from"./index-1759c666.js";import{T as Ot}from"./TopSheet-468693f9.js";import{D as Nt}from"./DashBoard-b3bbd769.js";import{D as jt}from"./DashboardDataManager-2f7df77c.js";import"./util-52c79c95.js";import"./RoadNetworkLoader.worker-eb6a0892.js";import"./group-f6e6d4c5.js";import"./index-f6506551.js";const It=k({name:"BreadCrumbs",components:{},props:{root:{type:String,required:!0},subfolder:{type:String,required:!0},isLoading:{type:Boolean,required:!1}},computed:{fileSystem(){const s=this.$store.state.svnProjects.filter(t=>t.slug===this.root);if(s.length===0)throw console.log("no such project"),Error;return s[0]},crumbs(){if(!this.fileSystem)return[];const s=[{label:"SimWrapper",url:"/",root:"",subfolder:""},{label:this.fileSystem.name,url:"/"+this.fileSystem.slug,root:this.fileSystem.slug,subfolder:""}],t=this.subfolder.split("/");let e="",a=this.fileSystem.name;for(const o of t)o&&(e+=`/${o}`,e.startsWith("/")&&(e=e.substring(1)),s.push({label:o,url:"/"+this.fileSystem.slug+e,root:this.fileSystem.slug,subfolder:e}),a=o);return this.$emit("crumbs",{crumbs:s,finalFolder:a}),s}},methods:{clickedBreadcrumb(s){if(this.isLoading||!this.fileSystem)return;if(!s.root){this.$emit("navigate",{component:"SplashPage",props:{}});return}const t={root:s.root,xsubfolder:s.subfolder};this.$emit("navigate",{component:"TabbedDashboardView",props:t})}}});var Bt=function(){var t=this,e=t._self._c;return t._self._setupProxy,t.root?e("div",{staticClass:"trail"},[e("div",{staticClass:"x-home"},[e("p",{on:{click:function(a){return t.clickedBreadcrumb({url:"/"})}}},[e("i",{staticClass:"fa fa-home"})])]),t.root?e("div",{staticClass:"x-breadcrumbs"},t._l(t.crumbs.slice(1),function(a,o){return e("p",{key:a.url,on:{click:function(i){return t.clickedBreadcrumb(a)}}},[t._v(" • "+t._s(a.label))])}),0):t._e()]):t._e()},Wt=[];var Ht=S(It,Bt,Wt,!1,null,"2ece6f17",null,null);const pt=Ht.exports;/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */var T=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a])}return s},U=function(t){return t.tagName==="IMG"},Mt=function(t){return NodeList.prototype.isPrototypeOf(t)},V=function(t){return t&&t.nodeType===1},ut=function(t){var e=t.currentSrc||t.src;return e.substr(-4).toLowerCase()===".svg"},ht=function(t){try{return Array.isArray(t)?t.filter(U):Mt(t)?[].slice.call(t).filter(U):V(t)?[t].filter(U):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(U):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Ut=function(t){var e=document.createElement("div");return e.classList.add("medium-zoom-overlay"),e.style.background=t,e},Vt=function(t){var e=t.getBoundingClientRect(),a=e.top,o=e.left,i=e.width,n=e.height,l=t.cloneNode(),h=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,_=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return l.removeAttribute("id"),l.style.position="absolute",l.style.top=a+h+"px",l.style.left=o+_+"px",l.style.width=i+"px",l.style.height=n+"px",l.style.transform="",l},A=function(t,e){var a=T({bubbles:!1,cancelable:!1,detail:void 0},e);if(typeof window.CustomEvent=="function")return new CustomEvent(t,a);var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,a.bubbles,a.cancelable,a.detail),o},qt=function s(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=window.Promise||function(c){function d(){}c(d,d)},o=function(c){var d=c.target;if(d===H){y();return}x.indexOf(d)!==-1&&rt({target:d})},i=function(){if(!(E||!r.original)){var c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(nt-c)>f.scrollOffset&&setTimeout(y,150)}},n=function(c){var d=c.key||c.keyCode;(d==="Escape"||d==="Esc"||d===27)&&y()},l=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c;if(c.background&&(H.style.background=c.background),c.container&&c.container instanceof Object&&(d.container=T({},f.container,c.container)),c.template){var g=V(c.template)?c.template:document.querySelector(c.template);d.template=g}return f=T({},f,d),x.forEach(function(v){v.dispatchEvent(A("medium-zoom:update",{detail:{zoom:b}}))}),b},h=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s(T({},f,c))},_=function(){for(var c=arguments.length,d=Array(c),g=0;g<c;g++)d[g]=arguments[g];var v=d.reduce(function(u,w){return[].concat(u,ht(w))},[]);return v.filter(function(u){return x.indexOf(u)===-1}).forEach(function(u){x.push(u),u.classList.add("medium-zoom-image")}),W.forEach(function(u){var w=u.type,$=u.listener,z=u.options;v.forEach(function(L){L.addEventListener(w,$,z)})}),b},p=function(){for(var c=arguments.length,d=Array(c),g=0;g<c;g++)d[g]=arguments[g];r.zoomed&&y();var v=d.length>0?d.reduce(function(u,w){return[].concat(u,ht(w))},[]):x;return v.forEach(function(u){u.classList.remove("medium-zoom-image"),u.dispatchEvent(A("medium-zoom:detach",{detail:{zoom:b}}))}),x=x.filter(function(u){return v.indexOf(u)===-1}),b},R=function(c,d){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return x.forEach(function(v){v.addEventListener("medium-zoom:"+c,d,g)}),W.push({type:"medium-zoom:"+c,listener:d,options:g}),b},F=function(c,d){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return x.forEach(function(v){v.removeEventListener("medium-zoom:"+c,d,g)}),W=W.filter(function(v){return!(v.type==="medium-zoom:"+c&&v.listener.toString()===d.toString())}),b},P=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.target,g=function(){var u={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},w=void 0,$=void 0;if(f.container)if(f.container instanceof Object)u=T({},u,f.container),w=u.width-u.left-u.right-f.margin*2,$=u.height-u.top-u.bottom-f.margin*2;else{var z=V(f.container)?f.container:document.querySelector(f.container),L=z.getBoundingClientRect(),Z=L.width,wt=L.height,kt=L.left,xt=L.top;u=T({},u,{width:Z,height:wt,left:kt,top:xt})}w=w||u.width-f.margin*2,$=$||u.height-f.margin*2;var N=r.zoomedHd||r.original,Ft=ut(N)?w:N.naturalWidth||w,$t=ut(N)?$:N.naturalHeight||$,M=N.getBoundingClientRect(),Dt=M.top,Pt=M.left,lt=M.width,ct=M.height,Lt=Math.min(Ft,w)/lt,Tt=Math.min($t,$)/ct,Y=Math.min(Lt,Tt),Rt=(-Pt+(w-lt)/2+f.margin+u.left)/Y,Et=(-Dt+($-ct)/2+f.margin+u.top)/Y,dt="scale("+Y+") translate3d("+Rt+"px, "+Et+"px, 0)";r.zoomed.style.transform=dt,r.zoomedHd&&(r.zoomedHd.style.transform=dt)};return new a(function(v){if(d&&x.indexOf(d)===-1){v(b);return}var u=function Z(){E=!1,r.zoomed.removeEventListener("transitionend",Z),r.original.dispatchEvent(A("medium-zoom:opened",{detail:{zoom:b}})),v(b)};if(r.zoomed){v(b);return}if(d)r.original=d;else if(x.length>0){var w=x;r.original=w[0]}else{v(b);return}if(r.original.dispatchEvent(A("medium-zoom:open",{detail:{zoom:b}})),nt=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,E=!0,r.zoomed=Vt(r.original),document.body.appendChild(H),f.template){var $=V(f.template)?f.template:document.querySelector(f.template);r.template=document.createElement("div"),r.template.appendChild($.content.cloneNode(!0)),document.body.appendChild(r.template)}if(document.body.appendChild(r.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),r.original.classList.add("medium-zoom-image--hidden"),r.zoomed.classList.add("medium-zoom-image--opened"),r.zoomed.addEventListener("click",y),r.zoomed.addEventListener("transitionend",u),r.original.getAttribute("data-zoom-src")){r.zoomedHd=r.zoomed.cloneNode(),r.zoomedHd.removeAttribute("srcset"),r.zoomedHd.removeAttribute("sizes"),r.zoomedHd.src=r.zoomed.getAttribute("data-zoom-src"),r.zoomedHd.onerror=function(){clearInterval(z),console.warn("Unable to reach the zoom image target "+r.zoomedHd.src),r.zoomedHd=null,g()};var z=setInterval(function(){r.zoomedHd.complete&&(clearInterval(z),r.zoomedHd.classList.add("medium-zoom-image--opened"),r.zoomedHd.addEventListener("click",y),document.body.appendChild(r.zoomedHd),g())},10)}else if(r.original.hasAttribute("srcset")){r.zoomedHd=r.zoomed.cloneNode(),r.zoomedHd.removeAttribute("sizes"),r.zoomedHd.removeAttribute("loading");var L=r.zoomedHd.addEventListener("load",function(){r.zoomedHd.removeEventListener("load",L),r.zoomedHd.classList.add("medium-zoom-image--opened"),r.zoomedHd.addEventListener("click",y),document.body.appendChild(r.zoomedHd),g()})}else g()})},y=function(){return new a(function(c){if(E||!r.original){c(b);return}var d=function g(){r.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(r.zoomed),r.zoomedHd&&document.body.removeChild(r.zoomedHd),document.body.removeChild(H),r.zoomed.classList.remove("medium-zoom-image--opened"),r.template&&document.body.removeChild(r.template),E=!1,r.zoomed.removeEventListener("transitionend",g),r.original.dispatchEvent(A("medium-zoom:closed",{detail:{zoom:b}})),r.original=null,r.zoomed=null,r.zoomedHd=null,r.template=null,c(b)};E=!0,document.body.classList.remove("medium-zoom--opened"),r.zoomed.style.transform="",r.zoomedHd&&(r.zoomedHd.style.transform=""),r.template&&(r.template.style.transition="opacity 150ms",r.template.style.opacity=0),r.original.dispatchEvent(A("medium-zoom:close",{detail:{zoom:b}})),r.zoomed.addEventListener("transitionend",d)})},rt=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.target;return r.original?y():P({target:d})},St=function(){return f},_t=function(){return x},Ct=function(){return r.original},x=[],W=[],E=!1,nt=0,f=e,r={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?f=t:(t||typeof t=="string")&&_(t),f=T({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},f);var H=Ut(f.background);document.addEventListener("click",o),document.addEventListener("keyup",n),document.addEventListener("scroll",i),window.addEventListener("resize",y);var b={open:P,close:y,toggle:rt,update:l,clone:h,attach:_,detach:p,on:R,off:F,getOptions:St,getImages:_t,getZoomedImage:Ct};return b};function Gt(s,t){t===void 0&&(t={});var e=t.insertAt;if(!(!s||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=s:o.appendChild(document.createTextNode(s))}}var Jt=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Gt(Jt);const et=qt,Zt={messages:{en:{title:"Key Performance Indicators"}}},Yt=k({name:"TopsheetsFinder",i18n:Zt,components:{TopSheet:Ot},props:{fileSystemConfig:{type:Object,required:!0},subfolder:{type:String,required:!0},files:{type:Array,required:!0}},computed:{fileApi(){return new I(this.fileSystemConfig)}},data:()=>({allConfigFiles:{},topsheets:[]}),watch:{subfolder(){this.filesUpdated()},files(){this.filesUpdated()}},methods:{async findTopsheetsForThisFolder(){return this.allConfigFiles=await this.fileApi.findAllYamlConfigs(this.subfolder),Object.values(this.allConfigFiles.topsheets)},async filesUpdated(){this.files.length&&(this.topsheets=await this.findTopsheetsForThisFolder())}}});var Kt=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"topsheets-finder curate-content"},t._l(t.topsheets,function(a){return e("top-sheet",{key:a,attrs:{fileSystemConfig:t.fileSystemConfig,subfolder:t.subfolder,files:t.files,yaml:a,allConfigFiles:t.allConfigFiles}})}),1)},Qt=[];var Xt=S(Yt,Kt,Qt,!1,null,"2ec385c7",null,null);const st=Xt.exports,te={messages:{en:{Maps:"Maps",Images:"Images",Analysis:"Analysis",Files:"Files",Folders:"Folders",Topsheet:"Topsheet"},de:{Maps:"Karten",Images:"Bilder",Analysis:"Ergebnisse",Files:"Dateien",Folders:"Ordner",Topsheet:"Topsheet"}}},ee={"":"#118860","aggregate-od":"#E98B52","vehicle-anim":"#330033","x-y-t":"#583270","carrier-viewer":"#c97A2C",events:"#4400ff",hexagons:"#900564","area-map":"#c94264",network:"#894654",sankey:"#D8A672",summary:"#2EA95B",transit:"#3B6FE4"},se=k({name:"FolderBrowser",i18n:te,components:Object.assign({TopsheetsFinder:st},G),props:{root:{type:String,required:!0},allConfigFiles:{type:Object,required:!0},xsubfolder:String},data:()=>({globalState:m.state,summaryYamlFilename:"viz-summary.yml",mdRenderer:new B({html:!0,linkify:!0,typographer:!0}),myState:{errorStatus:"",folders:[],files:[],isLoading:!1,readme:"",svnProject:null,svnRoot:void 0,subfolder:"",vizes:[],summary:!1,finalFolder:""}}),computed:{vizImages(){const s={};for(let t=0;t<this.myState.vizes.length;t++)this.myState.vizes[t].component==="image-view"&&(s[t]=this.myState.vizes[t]);return s},vizMaps(){const s={};for(let t=0;t<this.myState.vizes.length;t++)this.myState.vizes[t].component!=="image-view"&&(s[t]=this.myState.vizes[t]);return s}},methods:{cleanName(s){return decodeURIComponent(s)},getFileSystem(s){const t=m.state.svnProjects.filter(e=>e.slug===s);if(t.length===0)throw console.log("no such project"),Error;return t[0]},clickedVisualization(s){const t=this.myState.vizes[s];if(t.component==="image-view"||!this.myState.svnProject)return;const e={root:this.myState.svnProject.slug,xsubfolder:this.myState.subfolder,subfolder:this.myState.subfolder,yamlConfig:t.config,thumbnail:!1};this.$emit("navigate",{component:t.component,props:e})},updateTitle(s,t){this.myState.vizes[s].title=t},async showReadme(){if(!this.myState.svnRoot)return;this.myState.readme="";const s="readme.md",t=this.myState.files.map(e=>e.toLocaleLowerCase()).indexOf(s);if(t>-1){const e=this.myState.files[t];try{const a=await this.myState.svnRoot.getFileText(this.myState.subfolder+"/"+e);this.myState.readme=this.mdRenderer.render(a)}catch{}}},buildShowEverythingView(){for(const s of this.globalState.visualizationTypes.values()){const t=D(this.myState.files,s.filePatterns,{nocase:!0});for(const e of t)this.myState.vizes.push({component:s.kebabName,config:e,title:".."})}},async buildCuratedSummaryView(){if(!this.myState.svnRoot)return;const s=q.parse(await this.myState.svnRoot.getFileText(this.myState.subfolder+"/"+this.summaryYamlFilename));for(const t of s.plugins){const e=this.globalState.visualizationTypes.get(t);if(e)if(s[e.kebabName])for(const a of s[e.kebabName]){const o=await this.findMatchingFiles(a);for(const i of o)this.myState.vizes.push({component:e.kebabName,config:i,title:i})}else{const a=D(this.myState.files,e.filePatterns);for(const o of a)this.myState.vizes.push({component:e.kebabName,config:o,title:".."})}}},async findMatchingFiles(s){if(this.myState.files.indexOf(s)>-1)return[s];const t=D(this.myState.files,s);if(t.length)return t;if(!this.myState.svnRoot)return[];try{const e=s.split("/"),a=this.myState.subfolder+"/"+e[0];console.log(a);const o=await this.myState.svnRoot.getDirectory(a);return D(o.files,e[1]).map(n=>e[0]+"/"+n)}catch{}return[]},async fetchFolderContents(){if(!this.myState.svnRoot)return[];this.myState.isLoading=!0,this.myState.errorStatus="",this.myState.files=[];try{const s=await this.myState.svnRoot.getDirectory(this.myState.subfolder),t=s.dirs.filter(i=>!i.startsWith(".")).sort(),e=s.files.filter(i=>!i.startsWith(".")).sort(),a=Object.assign({},this.allConfigFiles.vizes);for(const i of e)a[i]=i;const o=Object.values(a);this.myState.errorStatus="",this.myState.folders=[" UP"].concat(t),this.myState.files=o}catch(s){const t=s;console.log("BAD PAGE"),console.log({eeee:t}),this.myState.folders=[],this.myState.files=[],this.myState.errorStatus="<h3>",t.status&&(this.myState.errorStatus+=`${t.status} `),t.statusText&&(this.myState.errorStatus+=`${t.statusText}`),this.myState.errorStatus==="<h3>"&&(this.myState.errorStatus+="Error"),this.myState.errorStatus+="</h3>",t.url&&(this.myState.errorStatus+=`<p>${t.url}</p>`),t.message&&(this.myState.errorStatus+=`<p>${t.message}</p>`),this.myState.errorStatus==="<h3>Error</h3>"&&(this.myState.errorStatus=""+t),this.myState.svnProject&&(this.myState.errorStatus+=`<p><i>${this.myState.svnProject.baseURL}${this.myState.subfolder}</i></p>`),this.myState.svnProject&&this.myState.svnProject.needPassword&&t.status===401&&m.commit("requestLogin",this.myState.svnProject.slug)}finally{this.myState.isLoading=!1}},openOutputFolder(s){if(this.myState.isLoading||!this.myState.svnProject)return;if(s===" UP"){this.$emit("up");return}let t=s===".."?this.myState.subfolder.substring(0,this.myState.subfolder.lastIndexOf("/")):this.myState.subfolder+"/"+s;t.startsWith("/")&&(t=t.slice(1));const e={root:this.myState.svnProject.slug,xsubfolder:t};!t&&!this.myState.subfolder?this.$emit("navigate",{component:"SplashPage",props:{}}):this.$emit("navigate",{component:"TabbedDashboardView",props:e})},getTabColor(s){return{backgroundColor:ee[s]||"#8778BB"}},updateRoute(){const s=this.getFileSystem(this.root);this.myState.svnProject=s,this.myState.subfolder=this.xsubfolder||"",this.myState.readme="",this.myState.svnProject&&(this.myState.svnRoot=new I(this.myState.svnProject),this.fetchFolderContents())}},watch:{"globalState.colorScheme"(){this.fetchFolderContents()},xsubfolder(){this.updateRoute()},allConfigFiles(){this.updateRoute()},"globalState.authAttempts"(){console.log("AUTH CHANGED - Reload"),this.updateRoute()},async"myState.files"(){if(this.myState.vizes=[],this.myState.files.length!==0){this.showReadme(),this.myState.summary=this.myState.files.indexOf(this.summaryYamlFilename)!==-1,this.myState.summary?await this.buildCuratedSummaryView():this.buildShowEverythingView(),await this.$nextTick();try{setTimeout(()=>{et(".medium-zoom",{background:"#333344"})},250)}catch{}}}},mounted(){this.updateRoute()}});var ae=function(){var a,o;var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"folder-browser"},[t.myState.errorStatus?e("div",{staticClass:"stripe details"},[e("div",{staticClass:"vessel"},[e("div",{staticClass:"badnews",domProps:{innerHTML:t._s(t.myState.errorStatus)}})])]):e("div",{staticClass:"stripe details"},[e("div",{staticClass:"vessel"},[e("div",{staticClass:"curated-sections"},[t.myState.folders.length?e("h3",{staticClass:"curate-heading"},[t._v(" "+t._s(t.$t("Folders")))]):t._e(),t.myState.folders.length?e("div",{staticClass:"curate-content"},[e("div",{staticClass:"folder-table"},t._l(t.myState.folders,function(i,n){return e("div",{key:i.name,staticClass:"folder",class:{fade:t.myState.isLoading,"up-folder":n==0},on:{click:function(l){return t.openOutputFolder(i)}}},[e("p",[e("i",{staticClass:"fa",class:n==0?"fa-arrow-up":"fa-folder-open"}),t._v(" "+t._s(t.cleanName(i)))])])}),0)]):t._e(),t.myState.readme?e("div",{staticClass:"readme-header markdown"},[e("div",{staticClass:"curate-content markdown",domProps:{innerHTML:t._s(t.myState.readme)}})]):t._e(),Object.keys(t.vizMaps).length?e("div",{staticClass:"section-maps"},[e("h3",{staticClass:"curate-heading"},[t._v(t._s(t.$t("Maps")))]),e("div",{staticClass:"curate-content"},[e("div",{staticClass:"viz-table"},t._l(Object.entries(t.vizMaps),function([i,n]){return e("div",{key:i,staticClass:"viz-grid-item",on:{click:function(l){return t.clickedVisualization(i)}}},[e("div",{staticClass:"viz-frame"},[e("p",{staticClass:"v-title"},[e("b",[t._v(t._s(n.title))])]),e("p",{staticClass:"v-filename"},[t._v(t._s(n.config))]),e("p",{staticClass:"v-plugin",style:t.getTabColor(n.component)},[t._v(t._s(n.component||"dashboard"))]),e(n.component,{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],tag:"component",staticClass:"viz-frame-component",style:{"pointer-events":"none"},attrs:{root:t.myState.svnProject.slug,subfolder:t.myState.subfolder,yamlConfig:n.config,thumbnail:!0,fileApi:t.myState.svnRoot},on:{title:function(l){return t.updateTitle(i,l)}}})],1)])}),0)])]):t._e(),Object.keys(t.vizImages).length?e("div",{staticClass:"section-images"},[e("h3",{staticClass:"curate-heading"},[t._v(t._s(t.$t("Images")))]),e("div",{staticClass:"curate-content"},[e("div",{staticClass:"viz-image-table"},t._l(Object.entries(t.vizImages),function([i,n]){return e("div",{key:i,staticClass:"viz-image-grid-item",on:{click:function(l){return t.clickedVisualization(i)}}},[e("div",{staticClass:"viz-image-frame"},[e(n.component,{tag:"component",staticClass:"viz-image-frame-component",style:{"pointer-events":"auto"},attrs:{root:t.myState.svnProject.slug,subfolder:t.myState.subfolder,yamlConfig:n.config,thumbnail:!0,fileApi:t.myState.svnRoot},on:{title:function(l){return t.updateTitle(i,l)}}}),e("p",[t._v(t._s(n.title))])],1)])}),0)])]):t._e(),(o=(a=t.myState)==null?void 0:a.svnProject)!=null&&o.baseURL?e("div",{staticClass:"files-section"},[t.myState.files.length?e("h3",{staticClass:"curate-heading"},[t._v(t._s(t.$t("Files")))]):t._e(),t.myState.files.length?e("div",{staticClass:"curate-content"},[e("div",{staticClass:"file-table"},t._l(t.myState.files,function(i){return e("div",{key:i,staticClass:"file",class:{fade:t.myState.isLoading}},[e("a",{attrs:{href:`${t.myState.svnProject.baseURL}/${t.myState.subfolder}/${i}`}},[t._v(t._s(t.cleanName(i)))])])}),0)]):t._e()]):t._e()])])])])},oe=[];var ie=S(se,ae,oe,!1,null,"a5eb06ba",null,null);const vt=ie.exports,re={messages:{en:{sync:"Sync folders",theme:"Light/Dark",lang:"EN/DE",split:"Split view"},de:{sync:"Sync",theme:"Hell/Dunkel",lang:"DE/EN",split:"Aufteilen"}}},ne=k({name:"ErrorPanel",i18n:re,data:()=>({state:m.state,showDescription:!1,descriptionIndexListWarning:[],descriptionIndexListError:[],isError:!1}),watch:{"$route.path"(){this.clearAllButtons()}},computed:{headerTextColor(){let s={};return this.state.statusWarnings.length&&(s={color:"#fe8"}),this.state.statusErrors.length&&(s={color:"#f66"}),s}},methods:{cleanError(s){return s?s.startsWith("Error: ")?s.slice(7):s:""},clearAllButtons(){this.$store.commit("clearAllErrors"),this.$emit("activate",{name:"Files",class:"BrowserPanel",onlyIfVisible:!0})},toggleShowDescription(s,t){if(this.isError=t,t)if(this.descriptionIndexListError.includes(s)){var e=this.descriptionIndexListError.indexOf(s);this.descriptionIndexListError.splice(e,1)}else this.descriptionIndexListError.push(s);else if(this.descriptionIndexListWarning.includes(s)){var e=this.descriptionIndexListWarning.indexOf(s);this.descriptionIndexListWarning.splice(e,1)}else this.descriptionIndexListWarning.push(s)}}});var le=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"panel"},[e("div",{staticClass:"warnings"},[!t.state.statusErrors.length&&!t.state.statusWarnings.length?e("div",{staticClass:"no-error"},[e("p",{staticClass:"check"},[t._v("☑️")]),e("p",[t._v("No issues for this page.")])]):e("div",{staticClass:"has-errors"},[e("div",{staticClass:"clear-button"},[t.state.statusErrors.length||t.state.statusWarnings.length?e("b-button",{staticClass:"is-small",attrs:{type:"is-warning is-outlined",expanded:""},on:{click:function(a){return t.clearAllButtons()}}},[t._v("Clear all messages")]):t._e()],1),e("div",{staticClass:"message-area"},[t.state.statusErrors.length?e("h3",[t._v("Errors: "+t._s(t.state.statusErrors.length))]):t._e(),t._l(t.state.statusErrors,function(a,o){return e("div",{staticClass:"single-message"},[e("p",{domProps:{innerHTML:t._s(t.cleanError(a.msg))},on:{click:function(i){return t.toggleShowDescription(o,!0)}}}),t.descriptionIndexListError.includes(o)?e("div",{staticClass:"description"},[e("p",{domProps:{innerHTML:t._s(a.desc)}})]):t._e()])}),t.state.statusWarnings.length?e("h3",[t._v("Warnings: "+t._s(t.state.statusWarnings.length))]):t._e(),t._l(t.state.statusWarnings,function(a,o){return e("div",{staticClass:"single-message"},[e("p",{domProps:{innerHTML:t._s(a.msg)},on:{click:function(i){return t.toggleShowDescription(o,!1)}}}),t.descriptionIndexListWarning.includes(o)?e("div",{staticClass:"description"},[e("p",{domProps:{innerHTML:t._s(a.desc)}})]):t._e()])})],2)])])])},ce=[];var de=S(ne,le,ce,!1,null,"b2378bec",null,null);const at=de.exports,ue={messages:{en:{},de:{}}},he=Object.assign({ErrorPanel:at}),me=k({name:"ProjectLeftPanel",i18n:ue,components:he,props:{currentFolder:{type:String,required:!0},projectFolder:{type:String,required:!0},navRoot:{type:String,required:!1}},data:()=>({globalState:m.state,subfolder:"",root:"",summaryYamlFilename:"viz-summary.yml",highlightedViz:-2,allConfigFiles:{dashboards:{},topsheets:{},vizes:{},configs:{}},allRoots:[],errorStatus:"",folders:[],isLoading:!1}),mounted(){},watch:{"globalState.leftNavItems"(){console.log("CHANGED!!!")},subfolder(){this.updateRoute()}},computed:{fileSystem(){const s=this.$store.state.svnProjects.filter(t=>t.slug===this.navRoot);if(s.length===0)throw console.log("no such project"),Error;return s[0]},topItems(){var s;return((s=this.globalState.leftNavItems)==null?void 0:s.top)||[]},middleItems(){var s;return((s=this.globalState.leftNavItems)==null?void 0:s.middle)||[]},bottomItems(){var s;return((s=this.globalState.leftNavItems)==null?void 0:s.bottom)||[]},hasErrors(){return this.globalState.statusErrors.length>0}},methods:{updateLanguage(){this.$store.commit("setLocale",this.$store.state.locale=="en"?"de":"en"),this.$root.$i18n.locale=this.$store.state.locale},hasLabel(s){return s.text||s.text_de||s.text_en},getLabel(s){let t="";return this.$store.state.locale==="de"?t=s.text_de||s.text||s.text_en||"item":t=s.text_en||s.text||s.text_de||"item",t},getUrl(s){return s.startsWith("http")?s:`${this.fileSystem.baseURL}${s}`},getStyle(s,t){let e={};return s.style&&Object.assign(e,s.style),t&&s.url&&this.currentFolder.length>1&&s.url.indexOf(this.currentFolder)>-1&&(e.backgroundColor="#e3e3e0",e.borderRadius="4px",e.color="black"),e},navigate(s){if(s.startsWith("http"))window.location.href=s;else{const t=s.startsWith("/")?s:`${this.projectFolder}/${s}`,e={root:this.navRoot||"",xsubfolder:t,thumbnail:!1};this.$emit("navigate",{component:"TabbedDashboardView",props:e})}},updateRoute(){this.root&&(this.subfolder=this.subfolder||"",this.highlightedViz=-2)},authenticationChanged(){console.log("AUTH CHANGED - Reload"),this.updateRoute()},updateShortcuts(){const s=this.globalState.svnProjects.filter(t=>!t.hidden&&!t.slug.startsWith("fs"));this.allRoots=s},cleanName(s){return decodeURIComponent(s)},getFileSystem(s){const t=m.state.svnProjects.filter(e=>e.slug===s);if(t.length===0)throw console.log("no such project"),Error;return t[0]},clickedOnFolder(s){const t={component:"TabbedDashboardView",props:{root:s.root,xsubfolder:""}};this.$emit("navigate",t)},clickedLogo(){this.$router.push("/")}}});var fe=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"panel"},[e("div",{staticClass:"sw-leftpanel-top"},t._l(t.topItems,function(a,o){return e("div",{key:`top-${o}`,staticClass:"span"},[a.image?e("img",{staticClass:"sw-nav-item",style:t.getStyle(a),attrs:{src:t.getUrl(a.image)}}):a.section?e("h3",{staticClass:"sw-nav-item"},[t._v(t._s(t.getLabel(a)))]):t.hasLabel(a)?e("div",{staticClass:"sw-nav-item"},[a.url&&a.url.startsWith("http")?e("p",[e("a",{attrs:{href:a.url}},[t._v(t._s(t.getLabel(a)))])]):a.url?e("p",[e("a",{on:{click:function(i){return t.navigate(a.url)}}},[t._v(t._s(t.getLabel(a)))])]):e("p",[t._v(t._s(t.getLabel(a)))])]):t._e()])}),0),e("div",{staticClass:"sw-leftpanel-middle"},t._l(t.middleItems,function(a,o){return e("div",{key:`middle-${o}`,staticClass:"span",style:t.getStyle(a)},[a.image?e("img",{staticClass:"sw-nav-item",style:t.getStyle(a),attrs:{src:t.getUrl(a.image)}}):a.section?e("h3",{staticClass:"sw-nav-item",style:t.getStyle(a)},[t._v(t._s(t.getLabel(a)))]):t.hasLabel(a)?e("div",{staticClass:"sw-nav-item",style:t.getStyle(a)},[a.url?e("p",[e("a",{style:t.getStyle(a,!0),on:{click:function(i){return t.navigate(a.url)}}},[t._v(t._s(t.getLabel(a)))])]):e("p",{style:t.getStyle(a)},[t._v(t._s(t.getLabel(a)))])]):t._e()])}),0),e("div",{staticClass:"sw-leftpanel-bottom"},t._l(t.bottomItems,function(a,o){return e("div",{key:`bottom-${o}`,staticClass:"span"},[a.image?e("img",{staticClass:"sw-nav-item",style:t.getStyle(a),attrs:{src:t.getUrl(a.image)}}):a.section?e("h3",{staticClass:"sw-nav-item"},[t._v(t._s(t.getLabel(a)))]):t.hasLabel(a)?e("div",{staticClass:"sw-nav-item"},[a.url?e("p",[e("a",{on:{click:function(i){return t.navigate(a.url)}}},[t._v(t._s(t.getLabel(a)))])]):e("p",[t._v(t._s(t.getLabel(a)))])]):t._e()])}),0)])},ge=[];var pe=S(me,fe,ge,!1,null,"c8c2681e",null,null);const ve=pe.exports;var X={exports:{}},J={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};Object.defineProperty(J,"__esModule",{value:!0});J.isDarkColor=void 0;var be=ot;J.isDarkColor=function(t,e){if(e&&e.override){var a=Object.keys(e.override).find(function(p){return p.toLowerCase()===t.toLowerCase()});if(a!==void 0)return e.override[a]}var o=(0,be.hexToRgb)(t),i=o.r,n=o.g,l=o.b,h=[i/255,n/255,l/255].map(function(p){return p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)}),_=.2126*h[0]+.7152*h[1]+.0722*h[2];return _<=.179};(function(s,t){Object.defineProperty(t,"__esModule",{value:!0});var e=J;t.default=e.isDarkColor,s.exports=t.default})(X,X.exports);var ye=X.exports;const Se=zt(ye),_e=k({name:"SiteNavBar",components:{},props:{currentFolder:{type:String,required:!0},projectFolder:{type:String,required:!0}},data:()=>({selectedGroup:-1,isDark:!1}),computed:{navbar(){const s=this.$store.state.topNavItems;return s||{left:[],right:[],baseURL:""}}},methods:{hasLabel(s){return s.text||s.text_de||s.text_en},getLabel(s){let t="";return this.$store.state.locale==="de"?t=s.text_de||s.text||s.text_en||"item":t=s.text_en||s.text||s.text_de||"item",t},getUrl(s){return s.startsWith("http")?s:`${this.navbar.baseURL}${s}`},getStyle(s){const t={};return s.style&&Object.assign(t,s.style),t},getNavbarStyle(s){const t={};return s.style&&Object.assign(t,s.style),["black","blue","brown","green","red","purple"].includes(t.backgroundColor)&&(this.isDark=!0),t.backgroundColor&&t.backgroundColor.startsWith("#")&&(this.isDark=Se(t.backgroundColor)),"useDarkText"in t&&(this.isDark=!t.useDarkText),t},navigate(s,t){if(t!==void 0&&(this.selectedGroup=t),s.startsWith("http"))window.location.href=s;else{const e=s.startsWith("/")?s:`${this.projectFolder}/${s}`,a={root:this.$store.state.topNavItems.fileSystem.slug||"",xsubfolder:e,thumbnail:!1};this.$emit("navigate",{component:"TabbedDashboardView",props:a})}}}});var Ce=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("b-navbar",{style:t.getNavbarStyle(t.navbar),attrs:{id:"site-nav-bar",type:t.isDark?"is-black":"is-white"},scopedSlots:t._u([t.navbar.logo?{key:"brand",fn:function(){return[e("b-navbar-item",{style:t.getStyle(t.navbar.logo),on:{click:function(a){return t.navigate(t.navbar.logo.url)}}},[e("img",{style:t.getStyle(t.navbar.logo),attrs:{src:t.navbar.logo.image}})])]},proxy:!0}:null,{key:"start",fn:function(){return t._l(t.navbar.left,function(a,o){return e(a.dropdown?"BNavbarDropdown":"BNavbarItem",{key:`${o}`,tag:"component",style:t.getStyle(a),attrs:{hoverable:"",label:a.dropdown?t.getLabel(a):void 0},on:{click:function(i){return t.navigate(a.url)}}},[t._v(t._s(a.dropdown?void 0:t.getLabel(a))),t._l(a.dropdown,function(i){return e("b-navbar-item",{key:`child-${o}`,on:{click:function(n){return t.navigate(i.url)}}},[t._v(t._s(t.getLabel(i)))])})],2)})},proxy:!0},{key:"end",fn:function(){return t._l(t.navbar.right,function(a,o){return e(a.dropdown?"BNavbarDropdown":"BNavbarItem",{key:`${o}`,tag:"component",style:t.getStyle(a),attrs:{hoverable:"",label:a.dropdown?t.getLabel(a):void 0},on:{click:function(i){return t.navigate(a.url)}}},[t._v(t._s(a.dropdown?void 0:t.getLabel(a))),t._l(a.dropdown,function(i,n){return e("b-navbar-item",{key:`child-${n}`,on:{click:function(l){return t.navigate(i.url)}}},[t._v(t._s(t.getLabel(i)))])})],2)})},proxy:!0}],null,!0)})},we=[];var ke=S(_e,Ce,we,!1,null,"6163ef72",null,null);const xe=ke.exports,Fe=k({name:"FileSystemComponents",data:()=>({sources:[]}),mounted(){this.sources=m.state.svnProjects.filter(s=>!s.hidden&&!s.slug.startsWith("fs"))},methods:{openProjectPage(s){const t=Object.assign({},s);t.component="TabbedDashboardView",t.props={root:s.slug,xsubfolder:""},this.$emit("navigate",t)},openProjectTab(s){window.open(s,"_blank")}}});var $e=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"svn-projects"},t._l(t.sources,function(a){return e("div",{key:a.url,staticClass:"project",on:{click:[function(o){return t.openProjectPage(a)},function(o){return o.metaKey?t.openProjectTab(a):null},function(o){return o.ctrlKey?t.openProjectTab(a):null}],mouseup:function(o){return"button"in o&&o.button!==1?null:t.openProjectTab(a)}}},[e("div",{staticClass:"desc"},[e("h3",[t._v(t._s(a.name))]),e("p",[t._v(t._s(a.description))])])])}),0)},De=[];var Pe=S(Fe,$e,De,!1,null,"c18a2dce",null,null);const it=Pe.exports,Le={},Te={data(){return{frontmatter:Le}}};var Re=function(){var t=this;return t._self._c,t._m(0)},Ee=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"markdown-body"},[t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://simwrapper.github.io/docs"}},[s._v("Documentation and users guide")]),s._v(" including examples and getting started")])]),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/simwrapper/simwrapper"}},[s._v("Source code")]),s._v(" available on Github")])])])])}],ze=S(Te,Re,Ee,!1,null,null,null,null);const Ae=ze.exports,Oe="/staging/assets/berlin-a47b2528.jpg",Ne={messages:{en:{"more-info":"Documentation:",tagLine:"the simulation browser and data visualizer from TU&nbsp;Berlin.",privacy:`SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.

SimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.`},de:{"more-info":"Für weitere Informationen:",tagLine:"Der Modellergebnis-Browser der TU Berlin."}}},mt="/staging/",je=[{url:"https://tu.berlin",image:"tu-logo.png",name:"TU Berlin"},{url:"https://vsp.berlin/en/",image:"vsp-logo-300dpi.png",name:"VSP TU-Berlin"},{url:"https://matsim.org/",image:"matsim-logo-blue.png",name:"MATSim"},{url:"https://bmbf.de",image:"bmbf-logo.png",name:"German Federal BMBF"},{url:"https://metrocouncil.org/",image:"metcouncil.png",name:"Met Council"},{url:"https://www.sfcta.org/",image:"sfcta.png",name:"SFCTA"},{url:"http://www.sandag.org/",image:"sandag.jpg",name:"SANDAG"},{url:"https://mtc.ca.gov/",image:"mtc.png",name:"MTC"},{url:"https://www.mwcog.org/",image:"mwcog.png",name:"MWCOG"},{url:"https://www.oregon.gov/ODOT",image:"oregondot.png",name:"Oregon DOT"},{url:"https://www.transportation.ohio.gov/",image:"ohiodot.png",name:"Ohio DOT"},{url:"https://www.psrc.org/",image:"psrc.png",name:"Puget Sound Regional Council"},{url:"https://atlantaregional.org/",image:"arc.png",name:"ARC"},{url:"http://semcog.org/",image:"semcog.jpg",name:"SEMCOG"}],Ie=k({name:"SplashPage",i18n:Ne,components:{FileSystemProjects:it,InfoBottom:Ae},data:()=>({state:m.state,allRoots:[],screenshots:{berlin:Oe}}),computed:{allLogos(){return je.map(s=>({url:s.url,image:`${mt}images/logos/${s.image}`}))},exampleRoots(){return this.allRoots.filter(s=>s.example)},mainRoots(){return this.allRoots.filter(s=>!s.example)},isChrome(){return!!window.showDirectoryPicker},localFileHandles(){return this.$store.state.localFileHandles.concat().sort((s,t)=>parseInt(s.key.substring(2))<parseInt(t.key.substring(2))?-1:1)}},methods:{onNavigate(s){console.log("ZZLDIJFSD",s),this.$emit("navigate",s)},showDocumentation(){console.log("here"),window.location.href="https://simwrapper.github.io/docs"},updateShortcuts(){const s=this.state.svnProjects.filter(t=>!t.hidden&&!t.slug.startsWith("fs"));this.allRoots=s},configureSources(){this.$emit("activate",{name:"Settings",class:"SettingsPanel"})},clickedOnFolder(s){const{folder:t,root:e,i:a}=s;this.$emit("navigate",{component:"TabbedDashboardView",props:{root:e,xsubfolder:""}})},async clickedBrowseChromeLocalFolder(s){try{const t=await s.handle.requestPermission({mode:"read"});if(console.log(s.handle,t),t!=="granted")return;tt.find(o=>o.slug==s.key)||O(s.handle,s.key);const a={root:s.key};this.clickedOnFolder(a)}catch(t){console.error(""+t)}},async showChromeDirectory(){try{const t=await window.showDirectoryPicker(),e=O(t,null);this.$router.push(`${mt}${e}/`)}catch{}},async clickedDelete(s){const e=this.$store.state.localFileHandles.filter(a=>a.key!==s.key);await gt("fs",e),this.$store.commit("setLocalFileSystem",e)},openDataStrip(){this.$store.commit("setShowLeftStrip",!0),this.$store.commit("setShowLeftBar",!0)}},mounted(){if(!this.state.breadcrumbs.length){const s=[{label:"SimWrapper",url:"/"}];m.commit("setBreadCrumbs",s)}this.updateShortcuts()}}),bt="/staging/assets/SW_logo_white-f31b052f.png",Be="/staging/assets/vsp-2023-logo-473dadf2.png";var We=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"splash-page"},[e("div",{staticClass:"splash-scroll-area white-text"},[t._m(0),e("div",{staticClass:"diagonal data-area"},[e("div",{staticClass:"content"},[e("h2",{staticClass:"section-head"},[t._v("Explore Data Sources")]),e("p",[t._v("Configure more data sources from the "),e("a",{on:{click:function(a){return t.openDataStrip()}}},[t._v("data")]),t._v(" tab on the left-side strip.")]),e("div",{staticClass:"roots"},t._l(t.mainRoots,function(a){return e("div",{key:a.slug,staticClass:"project-root",on:{click:function(o){return t.clickedOnFolder({root:a.slug})}}},[e("h5",[t._v(t._s(a.name))]),e("p",[t._v(t._s(a.description))])])}),0),t.isChrome?e("div",{staticClass:"section-head is-chrome"},[e("h2",[t._v("Local Folders")]),t.localFileHandles.length?t._e():e("p",[t._v("This Chromium-based browser can access local folders that you authorize on a per-folder basis. To explore files on your local filesystem right now:")]),e("div",{staticClass:"roots"},t._l(t.localFileHandles,function(a){return e("div",{key:a.key,staticClass:"project-root local mb1",on:{click:function(o){return t.clickedBrowseChromeLocalFolder(a)}}},[e("h5",{staticClass:"remove-local",staticStyle:{flex:"1"}},[t._v(t._s(a.handle.name)),e("i",{staticClass:"fa fa-times",on:{click:function(o){return o.stopPropagation(),t.clickedDelete(a)}}})]),e("p",[t._v("Local folder")])])}),0),e("b-button",{staticClass:"config-sources",attrs:{type:"is-success"},on:{click:t.showChromeDirectory}},[t._v("Open local folder...")])],1):t._e()])]),e("div",{staticClass:"diagonal newbie-area white-text"},[e("div",{staticClass:"content"},[e("h2",{staticClass:"section-head mb1"},[t._v("What is SimWrapper?")]),e("img",{staticClass:"screenshot",attrs:{src:t.screenshots.berlin}}),t._m(1),e("p",[t._v("Explore simulation results directly, or create interactive project dashboards with Simwrapper. It provides many statistical views and chart types, just like other visualization frameworks. But SimWrapper also knows a lot about transportation, and has good defaults for producing visualizations of network link volumes, agent movements through time, aggregate area maps, scenario comparison, and a lot more.")]),e("p",[t._v("You don't need to be a coder to use SimWrapper -- you point it at your files and write some small text configuration files to tell SimWrapper what to do. SimWrapper does the rest!")]),e("p",[t._v("If you do know JavaScript, the open-source code and plugin architecture of SimWrapper allows you to fork the project and create your own visualizations, too. But you don't need to know JavaScript if SimWrapper already does what you need.")]),t._m(2)])]),e("div",{staticClass:"diagonal data-area white-text"},[e("div",{staticClass:"content"},[e("h2",{staticClass:"section-head mb1"},[t._v("Getting started with SimWrapper")]),e("h4",{staticClass:"mb1"},[t._v("Tutorials and Documentation")]),e("p",[t._v("SimWrapper is not like other websites. Please read the docs! The main SimWrapper documentation has everything you need to get started.")]),e("b-button",{staticClass:"config-sources",attrs:{type:"is-warning"},on:{click:t.showDocumentation}},[t._v("Go to Documentation...")]),e("h4",{staticClass:"pt1"},[t._v("Example dashboards")]),e("p",[t._v("Explore these example dashboards to get a feeling for what SimWrapper can do:")]),e("div",{staticClass:"roots"},t._l(t.exampleRoots,function(a){return e("div",{key:a.slug,staticClass:"project-root example-root",on:{click:function(o){return t.clickedOnFolder({root:a.slug})}}},[e("h5",[t._v(t._s(a.name))]),e("p",[t._v(t._s(a.description))])])}),0),t.isChrome?e("div",{staticClass:"chrome-section"},[e("h4",{staticClass:"pt1"},[t._v("Local files on this computer")]),t.isChrome?e("p",[t._v("This is a Chromium-based browser. You can start exploring files on your own computer right now ("),e("a",{attrs:{href:"https://simwrapper.github.io/docs/#how-simwrapper-works"}},[t._v("see docs ")]),t._v("for file management details):")]):t._e(),e("b-button",{staticClass:"config-sources",attrs:{type:"is-success"},on:{click:t.showChromeDirectory}},[t._v("Open local folder...")])],1):t._e()],1)]),e("div",{staticClass:"diagonal sponsors-area dark-text"},[e("div",{staticClass:"content"},[e("h2",{staticClass:"section-head"},[t._v("Funding partners")]),e("div",{staticClass:"links-and-logos"},[e("div",{staticClass:"logos"},t._l(t.allLogos,function(a){return e("a",{attrs:{href:a.url,title:a.name,target:"_blank"}},[e("img",{staticClass:"img-logo",attrs:{src:a.image}})])}),0)]),e("p",[t._v("Funded by TU Berlin, the German Bundesministerium für Bildung und Forschung, and the ActivitySim Consortium member agencies above.")])])]),t._m(3)])])},He=[function(){var s=this,t=s._self._c;return s._self._setupProxy,t("div",{staticClass:"diagonal top-logo-area"},[t("div",{staticClass:"content"},[t("div",{staticClass:"top-banner flex-row"},[t("div",{staticClass:"flex1"},[t("img",{staticClass:"simwrapper-logo",attrs:{src:bt}})])]),t("div",{staticClass:"tagline"},[s._v("The transport simulation data visualizer from TU Berlin.")])])])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("p",[s._v("SimWrapper is a unique, web-based data visualization tool for researchers building disaggregate transportation simulations with software such as "),t("a",{attrs:{href:"https://matsim.org"}},[s._v("MATSim")]),s._v(" and "),t("a",{attrs:{href:"https://activitysim.github.io"}},[s._v("ActivitySim.")])])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("p",[s._v("SimWrapper is a"),t("b",[s._v(" 100% client-side ")]),s._v("browser application. There is no back-end database, no tracking cookies, and no data is transferred from your browser to any server; everything on your computer stays on your local computer.")])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("div",{staticClass:"diagonal footer-area white-text"},[t("div",{staticClass:"content"},[t("div",{staticClass:"flex-row"},[t("div",{staticClass:"legal flex1"},[t("h4",{staticClass:"section-head"},[s._v("SimWrapper, © 2024 Technische Universität Berlin")]),t("p",[s._v("SimWrapper is open source and available on "),t("a",{attrs:{href:"https://github.com/simwrapper/simwrapper"}},[s._v("GitHub.")])]),t("p",[t("a",{attrs:{href:"https://vsp.berlin/en/",target:"_blank"}},[s._v("VSP TU Berlin")]),t("a",{attrs:{href:"https://vsp.berlin/impressum/",target:"_blank"}},[s._v("Impressum")]),t("a",{attrs:{href:"https://www.vsp.tu-berlin.de/menue/service/privacy/parameter/en/",target:"_blank"}},[s._v("Privacy")])])]),t("div",{staticClass:"badges"},[t("img",{staticClass:"vsp-logo",attrs:{src:Be}})])])])])}];var Me=S(Ie,We,He,!1,null,"7c3ebd78",null,null);const Ue=Me.exports,Ve="/staging/",qe=[".nodashboards","nodashboards","nodashboards.txt"],Ge={messages:{en:{Maps:"Maps & Dashboards",Images:"Images",Analysis:"Analysis",Files:"Files",Folders:"Folders",Topsheet:"Table",privacy:`SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.

SimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.`},de:{Maps:"Karten",Images:"Bilder",Analysis:"Ergebnisse",Files:"Dateien",Folders:"Ordner",Topsheet:"Tabelle"}}},Je={"":"#118860","aggregate-od":"#E98B52","vehicle-anim":"#330033","x-y-t":"#583270",carriers:"#c97A2C",events:"#4400ff",hexagons:"#900564",map:"#c94264",network:"#894654",sankey:"#D8A672",summary:"#2EA95B",transit:"#3B6FE4"},Ze=Object.assign({FileSystemProjects:it,TopsheetsFinder:st},G),Ye=k({name:"BrowserPanel",i18n:Ge,components:Ze,data:()=>({globalState:m.state,subfolder:"/",root:"",summaryYamlFilename:"viz-summary.yml",highlightedViz:-2,needDoubleClickHint:!1,allConfigFiles:{dashboards:{},topsheets:{},vizes:{},configs:{}},allRoots:[],mdRenderer:new B({html:!0,linkify:!0,typographer:!0}),myState:{errorStatus:"",folders:[],files:[],isLoading:!1,readme:"",svnProject:null,svnRoot:void 0,subfolder:"",vizes:[],summary:!1},clicks:0,clickTimer:{}}),mounted(){this.updateShortcuts(),this.getRootAndRoute(this.$route.params.pathMatch)},watch:{"globalState.svnProjects"(){this.updateShortcuts()},"globalState.colorScheme"(){this.fetchFolderContents()},subfolder(){this.updateRoute()},"globalState.authAttempts"(){this.authenticationChanged()},"myState.files"(){this.filesChanged()}},computed:{isChrome(){return!!window.showDirectoryPicker},localFileHandles(){return this.$store.state.localFileHandles.concat().sort((s,t)=>parseInt(s.key.substring(2))<parseInt(t.key.substring(2))?-1:1)}},methods:{updateRoute(){if(!this.root)return;const s=this.getFileSystem(this.root);this.myState.svnProject=s,this.myState.subfolder=this.subfolder||"",this.myState.readme="",this.highlightedViz=-2,this.myState.svnProject&&(this.myState.svnRoot=new I(this.myState.svnProject,m),this.generateBreadcrumbs(),this.fetchFolderContents())},authenticationChanged(){console.log("AUTH CHANGED - Reload"),this.updateRoute()},async filesChanged(){this.myState.vizes=[],this.myState.files.length!==0&&(this.showReadme(),this.myState.summary=this.myState.files.indexOf(this.summaryYamlFilename)!==-1,this.myState.summary?await this.buildCuratedSummaryView():this.buildShowEverythingView(),await this.$nextTick(),et(".medium-zoom",{background:"#444450"}))},updateShortcuts(){const s=this.globalState.svnProjects.filter(t=>!t.hidden&&!t.slug.startsWith("fs"));this.allRoots=s},cleanName(s){return decodeURIComponent(s)},getFileSystem(s){const t=m.state.svnProjects.filter(e=>e.slug===s);if(t.length===0)throw console.log("no such project"),Error;return t[0]},generateBreadcrumbs(){if(!this.myState.svnProject)return[];const s=[{label:"SimWrapper",url:"/"},{label:this.myState.svnProject.name,url:"/"+this.myState.svnProject.slug}],t=this.myState.subfolder.split("/");let e="/";for(const a of t)a&&(e+=a+"/",s.push({label:a,url:"/"+this.myState.svnProject.slug+e}));return m.commit("setBreadCrumbs",s),s},clickedBreadcrumb(s){this.getRootAndRoute(s.url.slice(1))},getRootAndRoute(s){if(!s)return;if(s==="/"){this.root="";return}if(s.startsWith("split/")){console.log("SPLIT"),s.substring(6);return}let t=s,e="";const a=s.indexOf("/");a>-1&&(t=s.substring(0,a),e=s.substring(a+1)),this.root=t,this.subfolder=e},activateVisualization(s){const t=this.myState.vizes[s]||{component:"TabbedDashboardView",title:"Dashboard"};if(t.component==="image-view"||!this.myState.svnProject)return;this.highlightedViz=-2;const e=this.myState.subfolder.replaceAll("//","/"),a={root:this.myState.svnProject.slug,xsubfolder:e,subfolder:e,yamlConfig:t.config,thumbnail:!1};this.$emit("navigate",{component:t.component,props:a})},updateTitle(s,t){this.myState.vizes[s].title=t},configureSources(){this.$emit("activate",{name:"Settings",class:"SettingsPanel"})},getTabColor(s){return{backgroundColor:Je[s]||"#8778BB"}},async showReadme(){this.myState.readme="";const s="readme.md";if(this.myState.files.map(t=>t.toLocaleLowerCase()).indexOf(s)>-1){if(!this.myState.svnRoot)return;const t=await this.myState.svnRoot.getFileText(this.myState.subfolder+"/"+s);this.myState.readme=this.mdRenderer.render(t)}},buildShowEverythingView(){for(const s of this.globalState.visualizationTypes.values()){const t=D(this.myState.files,s.filePatterns);for(const e of t)this.myState.vizes.push({component:s.kebabName,config:e,title:".."})}},async buildCuratedSummaryView(){if(!this.myState.svnRoot)return;const s=q.parse(await this.myState.svnRoot.getFileText(this.myState.subfolder+"/"+this.summaryYamlFilename));for(const t of s.plugins){const e=this.globalState.visualizationTypes.get(t);if(e)if(s[e.kebabName])for(const a of s[e.kebabName]){const o=await this.findMatchingFiles(a);for(const i of o)this.myState.vizes.push({component:e.kebabName,config:i,title:i})}else{const a=D(this.myState.files,e.filePatterns);for(const o of a)this.myState.vizes.push({component:e.kebabName,config:o,title:".."})}}},async findMatchingFiles(s){if(this.myState.files.indexOf(s)>-1)return[s];const t=D(this.myState.files,s);if(t.length)return t;if(!this.myState.svnRoot)return[];try{const e=s.split("/"),a=this.myState.subfolder+"/"+e[0];console.log(a);const o=await this.myState.svnRoot.getDirectory(a);return D(o.files,e[1]).map(n=>e[0]+"/"+n)}catch{}return[]},async fetchFolderContents(){if(!this.myState.svnRoot)return[];this.myState.isLoading=!0,this.myState.errorStatus="",this.myState.files=[];try{this.allConfigFiles=await this.findAllConfigsAndDashboards();const s=await this.myState.svnRoot.getDirectory(this.myState.subfolder),t=s.dirs.filter(i=>!i.startsWith(".")).sort(),e=s.files.filter(i=>!i.startsWith(".")).sort(),a=Object.assign({},this.allConfigFiles.vizes);for(const i of e)a[i]=i;const o=Object.values(a);this.myState.errorStatus="",this.myState.folders=["UP"].concat(t),this.myState.files=o}catch{const t=this.myState.subfolder.lastIndexOf("/");if(t>-1){this.subfolder=this.myState.subfolder.slice(0,t);return}else{this.subfolder="";return}}finally{this.myState.isLoading=!1}},clickedOnFolder(s){this.needDoubleClickHint=!1;const{folder:t,root:e,i:a}=s;if(e){this.root=e,this.subfolder="",this.updateRoute();return}if(this.myState.isLoading||!this.myState.svnProject)return;if(a==0&&t==="UP"){if(this.subfolder==="/"||this.subfolder==="")this.root="";else{const i=this.subfolder.lastIndexOf("/");this.subfolder=i>-1?this.subfolder.slice(0,i):"/"}return}let o=`${this.subfolder}/${t}`;o.startsWith("/")&&(o=o.slice(1)),this.subfolder=o},dragEnd(){this.$emit("isDragging",!1)},dragStart(s,t){var l;this.$emit("isDragging",!0);const e={component:"TabbedDashboardView",props:{}},a=this.root||t,o=this.root?t:"",i=Object.assign({},e,{root:a,subfolder:o,xsubfolder:o});i.yamlConfig=i.config,delete i.config;const n=JSON.stringify(i);(l=s.dataTransfer)==null||l.setData("bundle",n)},dragBreadCrumb(s,t){let e=t.startsWith("/")?t.slice(1):t;e.endsWith("/")&&(e=e.slice(0,-1));let a=e.indexOf("/")>-1?e.slice(e.indexOf("/")):"";this.dragStart(s,a)},async findAllConfigsAndDashboards(){if(!this.myState.svnRoot)return{dashboards:{},configs:{},vizes:{},topsheets:{}};try{const{files:s}=await this.myState.svnRoot.getDirectory(this.subfolder);let t=!0;qe.forEach(a=>{s.indexOf(a)>-1&&(t=!1)});const e=await this.myState.svnRoot.findAllYamlConfigs(this.subfolder);return t||(e.dashboards={}),e}catch{return{dashboards:{},configs:{},vizes:{},topsheets:{}}}},async clickedBrowseChromeLocalFolder(s){try{const t=await s.handle.requestPermission({mode:"read"});if(console.log(s.handle,t),t!=="granted")return;tt.find(o=>o.slug==s.key)||O(s.handle,s.key);const a={root:s.key};this.clickedOnFolder(a)}catch(t){console.error(""+t)}},async showChromeDirectory(){try{const t=await window.showDirectoryPicker(),e=O(t,null);this.$router.push(`${Ve}${e}/`)}catch{}}}});var Ke=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"panel"},[e("div",{staticClass:"top-panel"},[e("h4",[t._v("Split View")]),t.root?e("div",{staticClass:"trail"},[e("div",{staticClass:"x-home"},[e("p",{on:{click:function(a){return t.clickedBreadcrumb({url:"//"})}}},[e("i",{staticClass:"fa fa-home"})])]),t.root?e("div",{staticClass:"x-breadcrumbs"},t._l(t.globalState.breadcrumbs.slice(1),function(a,o){return e("p",{key:a.url,attrs:{draggable:""},on:{click:function(i){return t.clickedBreadcrumb(a)},dragstart:function(i){return t.dragBreadCrumb(i,a.url)},dragend:t.dragEnd}},[t._v(" • "+t._s(a.label))])}),0):t._e()]):t._e()]),e("div",{staticClass:"middle-panel"},[t._m(0),t.root?e("div",{staticClass:"curated-sections"},[e("h3",{staticClass:"curate-heading",attrs:{draggable:""},on:{dragstart:function(a){return t.dragStart(a,t.subfolder)},dragend:t.dragEnd}},[t._v(t._s(t.globalState.breadcrumbs[t.globalState.breadcrumbs.length-1].label))]),t.myState.folders.length?e("div",{staticClass:"curate-content"},[e("div",{staticClass:"folder-table"},t._l(t.myState.folders,function(a,o){return e("div",{key:a,staticClass:"folder",class:{fade:t.myState.isLoading,upfolder:o==0},attrs:{draggable:""},on:{dragstart:function(i){return t.dragStart(i,`${t.myState.subfolder}/${a}`)},dragend:t.dragEnd,click:function(i){return t.clickedOnFolder({folder:a,i:o})}}},[e("i",{staticClass:"fa",class:o==0?"fa-arrow-up":"fa-folder-open"}),e("p",[t._v(t._s(t.cleanName(a)))])])}),0),t.myState.folders.length==1?e("p",{staticStyle:{"font-size":"0.9rem",opacity:"0.7",margin:"0.5rem 0","text-align":"right"}},[t._v("No subfolders.")]):t._e()]):t._e()]):e("div",{staticClass:"curated-sections"},[t.isChrome?e("div",{staticClass:"is-chrome"},[e("h3",[t._v("Local Folders")]),t.localFileHandles.length?t._e():e("p",[t._v("Chrome & Edge can browse folders directly:")]),t._l(t.localFileHandles,function(a){return e("div",{key:a.key,staticClass:"project-root local",attrs:{draggable:""},on:{click:function(o){return t.clickedBrowseChromeLocalFolder(a)},dragstart:function(o){return t.dragStart(o,a.slug)},dragend:t.dragEnd}},[e("h5",{staticClass:"remove-local",staticStyle:{flex:"1"}},[t._v(t._s(a.handle.name))]),e("p",[t._v("Local folder")])])}),e("p",{staticClass:"config-sources"},[e("a",{on:{click:t.showChromeDirectory}},[t._v("Add local folder...")])])],2):t._e(),e("h3",{staticStyle:{"margin-top":"1rem"}},[t._v("Data Sources")]),t._l(t.allRoots,function(a){return e("div",{key:a.slug,staticClass:"project-root",attrs:{draggable:""},on:{click:function(o){return t.clickedOnFolder({root:a.slug})},dragstart:function(o){return t.dragStart(o,a.slug)},dragend:t.dragEnd}},[e("h5",[t._v(t._s(a.name))]),e("p",[t._v(t._s(a.description))])])})],2)])])},Qe=[function(){var s=this,t=s._self._c;return s._self._setupProxy,t("div",{staticClass:"hint-clicks",staticStyle:{"margin-bottom":"1rem",opacity:"1"}},[t("p",[t("b",[s._v("Drag a folder ")]),s._v("from here to the main window area to open side-by-side.")])])}];var Xe=S(Ye,Ke,Qe,!1,null,"a645e521",null,null);const ts=Xe.exports,es=`
Add any URL-based data provider.
See SimWrapper documentation for details.
`,ss=k({name:"AddDataSource",props:{},data:()=>({labelField:"",urlField:"",noteField:"",notes:"",mdParser:new B}),mounted(){this.notes=this.mdParser.render(es)},watch:{labelField(){this.fixField()}},computed:{isValidURL(){return!(!this.labelField||!this.urlField||!this.urlField.startsWith("http"))}},methods:{addURL(){this.fixField(),console.log("Adding",this.labelField,this.urlField);const s="projectShortcuts";try{let t=localStorage.getItem(s)||"{}",e=JSON.parse(t);e[this.labelField]={name:`${this.labelField}`,slug:`${this.labelField}`,description:this.noteField,baseURL:this.urlField},console.log("NEW ROOTS",e),localStorage.setItem(s,JSON.stringify(e)),m.commit("setURLShortcuts",e)}catch(t){console.error(""+t)}this.$emit("close")},fixField(){this.labelField=this.labelField.toLowerCase().replaceAll(/[^a-z\-0-9@]*/g,"")}}});var as=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"add-data-panel"},[t._m(0),e("div",{staticClass:"add"},[e("div",{staticClass:"markdown",domProps:{innerHTML:t._s(t.notes)}}),e("div",{staticClass:"flex-row"},[t._m(1),e("b-input",{staticClass:"flex5",attrs:{size:"is-small",placeholder:"e.g. server1",maxlength:"32"},model:{value:t.labelField,callback:function(a){t.labelField=a},expression:"labelField"}})],1),e("div",{staticClass:"flex-row"},[t._m(2),e("b-input",{staticClass:"flex5",attrs:{size:"is-small",placeholder:"http://localhost:8001",maxlength:"512"},model:{value:t.urlField,callback:function(a){t.urlField=a},expression:"urlField"}})],1),e("div",{staticClass:"flex-row"},[t._m(3),e("b-input",{staticClass:"flex5",attrs:{size:"is-small",placeholder:"optional",maxlength:"255"},model:{value:t.noteField,callback:function(a){t.noteField=a},expression:"noteField"}})],1),e("div",{staticClass:"flex-row gap"},[e("p",{staticClass:"flex1"},[t._v(" ")]),e("b-button",{attrs:{size:"is-small",type:"is-primary",outlined:"",inverted:""},on:{click:function(a){return t.$emit("close")}}},[t._v("Cancel")]),e("b-button",{staticClass:"is-warning",attrs:{size:"is-small",disabled:!t.isValidURL,type:t.isValidURL?"":"is-outlined"},on:{click:t.addURL}},[t._v("Add Data URL")])],1)])])},os=[function(){var s=this,t=s._self._c;return s._self._setupProxy,t("div",{staticClass:"xtitle"},[t("i",{staticClass:"fa fa-plus"}),s._v(" Add Data Source")])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("p",{staticClass:"flex1"},[t("b",[s._v("Label")])])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("p",{staticClass:"flex1"},[t("b",[s._v("URL")])])},function(){var s=this,t=s._self._c;return s._self._setupProxy,t("p",{staticClass:"flex1"},[t("b",[s._v("Note")])])}];var is=S(ss,as,os,!1,null,"330c94d1",null,null);const yt=is.exports,rs="/staging/",ns=[".nodashboards","nodashboards","nodashboards.txt"],ls={messages:{en:{Maps:"Maps & Dashboards",Images:"Images",Analysis:"Analysis",Files:"Files",Folders:"Folders",Topsheet:"Table",privacy:`SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.

SimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.`},de:{Maps:"Karten",Images:"Bilder",Analysis:"Ergebnisse",Files:"Dateien",Folders:"Ordner",Topsheet:"Tabelle"}}},cs={"":"#118860","aggregate-od":"#E98B52","vehicle-anim":"#330033","x-y-t":"#583270",carriers:"#c97A2C",events:"#4400ff",hexagons:"#900564",map:"#c94264",network:"#894654",sankey:"#D8A672",summary:"#2EA95B",transit:"#3B6FE4"};Object.assign({AddDataSource:yt,FileSystemProjects:it,TopsheetsFinder:st,ErrorPanel:at},G);const ds=k({name:"SystemPanel",i18n:ls,components:{AddDataSource:yt},data:()=>({globalState:m.state,root:"",subfolder:"/",activeSection:"Files",allConfigFiles:{dashboards:{},topsheets:{},vizes:{},configs:{}},allRoots:[],mdRenderer:new B({html:!0,linkify:!0,typographer:!0}),showAddDataSource:!1,summaryYamlFilename:"viz-summary.yml",logo:bt,myState:{errorStatus:"",folders:[],files:[],isLoading:!1,readme:"",svnProject:null,svnRoot:void 0,subfolder:"",vizes:[],summary:!1}}),mounted(){this.updateShortcuts(),this.getRootAndRoute(this.$route.params.pathMatch),this.updateFavorites()},watch:{"globalState.svnProjects"(){this.updateShortcuts()},"globalState.colorScheme"(){},subfolder(){this.updateRoute()},"globalState.authAttempts"(){this.authenticationChanged()},"myState.files"(){this.filesChanged()}},computed:{hasDashboards(){return!!Object.keys(this.allConfigFiles.dashboards).length},isChrome(){return!!window.showDirectoryPicker},localFileHandles(){return this.$store.state.localFileHandles.concat().sort((s,t)=>parseInt(s.key.substring(2))<parseInt(t.key.substring(2))?-1:1)},hasErrors(){return this.globalState.statusErrors.length>0}},methods:{updateRoute(){if(!this.root)return;const s=this.getFileSystem(this.root);this.myState.svnProject=s,this.myState.subfolder=this.subfolder||"",this.myState.readme="",this.myState.svnProject&&(this.myState.svnRoot=new I(this.myState.svnProject,m))},updateLanguage(){this.$store.commit("setLocale",this.$store.state.locale=="en"?"de":"en"),this.$root.$i18n.locale=this.$store.state.locale},authenticationChanged(){console.log("AUTH CHANGED - Reload"),this.updateRoute()},async filesChanged(){this.myState.vizes=[],this.myState.files.length!==0&&(this.showReadme(),this.myState.summary=this.myState.files.indexOf(this.summaryYamlFilename)!==-1,this.myState.summary||this.buildShowEverythingView(),await this.$nextTick(),et(".medium-zoom",{background:"#444450"}))},updateShortcuts(){const s=this.globalState.svnProjects.filter(t=>!t.hidden&&!t.slug.startsWith("fs"));this.allRoots=s},async updateFavorites(){try{const s=localStorage.getItem("favoriteLocations")||"[]",t=JSON.parse(s);this.$store.commit("setFavorites",t)}catch{}},clickedDeleteFavorite(s){this.$store.commit("removeFavorite",s)},clickedOnFavorite(s){const t={component:"TabbedDashboardView",props:{root:s.root,xsubfolder:s.subfolder}};this.$emit("navigate",t)},cleanName(s){return decodeURIComponent(s)},getFileSystem(s){const t=m.state.svnProjects.filter(e=>e.slug===s);if(t.length===0)throw console.log("no such project"),Error;return t[0]},getRootAndRoute(s){if(!s)return;if(s==="/"){this.root="";return}if(s.startsWith("split/")){console.log("SPLIT"),s.substring(6);return}let t=s,e="";const a=s.indexOf("/");a>-1&&(t=s.substring(0,a),e=s.substring(a+1)),this.root=t,this.subfolder=e},updateTitle(s,t){this.myState.vizes[s].title=t},getTabColor(s){return{backgroundColor:cs[s]||"#8778BB"}},async showReadme(){this.myState.readme="";const s="readme.md";if(this.myState.files.map(t=>t.toLocaleLowerCase()).indexOf(s)>-1){if(!this.myState.svnRoot)return;const t=await this.myState.svnRoot.getFileText(this.myState.subfolder+"/"+s);this.myState.readme=this.mdRenderer.render(t)}},buildShowEverythingView(){for(const s of this.globalState.visualizationTypes.values()){const t=D(this.myState.files,s.filePatterns);for(const e of t)this.myState.vizes.push({component:s.kebabName,config:e,title:".."})}},clickedOnFolder(s){const t={component:"TabbedDashboardView",props:{root:s.root,xsubfolder:""}};this.$emit("navigate",t)},dragEnd(){this.$emit("isDragging",!1)},dragStart(s,t){var o;this.$emit("isDragging",!0);const e=Object.assign({},t,{root:this.root,subfolder:this.myState.subfolder,xsubfolder:this.myState.subfolder});e.yamlConfig=e.config,delete e.config;const a=JSON.stringify(e);(o=s.dataTransfer)==null||o.setData("bundle",a)},clickedLogo(){this.$router.push("/")},async findAllConfigsAndDashboards(){if(!this.myState.svnRoot)return{dashboards:{},configs:{},vizes:{},topsheets:{}};try{const{files:s}=await this.myState.svnRoot.getDirectory(this.subfolder);let t=!0;ns.forEach(a=>{s.indexOf(a)>-1&&(t=!1)});const e=await this.myState.svnRoot.findAllYamlConfigs(this.subfolder);return t||(e.dashboards={}),e}catch{return{dashboards:{},configs:{},vizes:{},topsheets:{}}}},async clickedBrowseChromeLocalFolder(s){try{const t=await s.handle.requestPermission({mode:"read"});if(console.log(s.handle,t),t!=="granted")return;tt.find(o=>o.slug==s.key)||O(s.handle,s.key);const a={root:s.key};this.clickedOnFolder(a)}catch(t){console.error(""+t)}},async showChromeDirectory(){try{const t=await window.showDirectoryPicker(),e=O(t,null);this.$router.push(`${rs}${e}/`)}catch{}},async clickedLocalDelete(s){const e=this.$store.state.localFileHandles.filter(a=>a.key!==s.key);await gt("fs",e),this.$store.commit("setLocalFileSystem",e)},async clickedDataSourceDelete(s){console.log({project:s}),this.$store.commit("removeURLShortcut",s.slug)}}});var us=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"panel"},[e("div",{staticClass:"top-panel"},[e("div",{staticClass:"simwrapper-logo",on:{click:function(a){return t.clickedOnFolder({root:""})}}},[e("img",{attrs:{src:t.logo}})])]),e("div",{staticClass:"middle-panel"},[t.isChrome?e("div",{staticClass:"is-chrome"},[e("h3",[t._v("Local Files")]),e("div",{staticClass:"items"},[t._l(t.localFileHandles,function(a){return e("div",{key:a.key,staticClass:"project-root local",on:{click:function(o){return t.clickedBrowseChromeLocalFolder(a)}}},[e("p",{staticClass:"root",staticStyle:{flex:"1"}},[t._v(t._s(a.handle.name)),e("i",{staticClass:"fa fa-times",on:{click:function(o){return o.stopPropagation(),t.clickedLocalDelete(a)}}})])])}),e("div",{staticClass:"project-root open-folder",on:{click:t.showChromeDirectory}},[e("p",{staticClass:"root"},[t._v("Open folder...")]),e("p",{staticClass:"description"},[t._v("This browser can access local folders")])])],2)]):t._e(),e("h3",[t._v("Data Sources")]),t.showAddDataSource?t._e():e("div",{staticClass:"items"},[t._l(t.allRoots,function(a){return e("div",{key:a.slug,staticClass:"project-root",on:{click:function(o){return t.clickedOnFolder({root:a.slug})}}},[e("p",{staticClass:"root"},[t._v(t._s(a.name)),e("i",{staticClass:"fa fa-times",on:{click:function(o){return o.stopPropagation(),t.clickedDataSourceDelete(a)}}})]),e("p",{staticClass:"description"},[t._v(t._s(a.description))])])}),e("p",{staticClass:"config-sources"},[e("a",{on:{click:function(a){t.showAddDataSource=!0}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Add data source...")])])],2),t.showAddDataSource?e("div",{staticClass:"items"},[e("add-data-source",{on:{close:function(a){t.showAddDataSource=!1}}})],1):t._e(),e("h3",[t._v("PINNED")]),e("div",{staticClass:"items"},t._l(t.globalState.favoriteLocations,function(a){return e("div",{key:a.fullPath,staticClass:"project-root",on:{click:function(o){return t.clickedOnFavorite(a)}}},[e("p",{staticClass:"root"},[t._v(t._s(a.label)),e("i",{staticClass:"fa fa-times",on:{click:function(o){return o.stopPropagation(),t.clickedDeleteFavorite(a)}}})]),e("p",{staticClass:"description"},[t._v(t._s(a.hint||`${a.root}${a.subfolder}`))])])}),0)])])},hs=[];var ms=S(ds,us,hs,!1,null,"d7d3c0ae",null,null);const fs=ms.exports,gs=[".nodashboards","nodashboards","nodashboards.txt"],ft=new B({html:!0,linkify:!0,typographer:!0}),ps=k({name:"TabbedDashboardView",components:{BreadCrumbs:pt,DashBoard:Nt,FolderBrowser:vt},props:{root:{type:String,required:!0},xsubfolder:{type:String,required:!0},isMultipanel:{type:Boolean,required:!1}},data:()=>({activeTab:"",allConfigFiles:{dashboards:{},topsheets:{},vizes:{},configs:{}},crumbs:[],customCSS:"",dashboards:[],dashboardDataManager:null,dashboardTabWithDelay:"",finalFolder:"",folderReadme:"",footer:"",globalState:m.state,header:"",isShowingBreadcrumbs:!1,isZoomed:!1,loadErrorMessage:"",pageHeader:"",showFooter:!1,styleElement:null,leftNavItems:null,topNavItems:null}),computed:{fileApi(){return new I(this.fileSystem,m)},fileSystem(){const s=this.$store.state.svnProjects.filter(t=>t.slug===this.root);if(s.length===0)throw console.log("no such project"),Error;return s[0]},wiide(){return this.$store.state.isFullWidth},dashWidthCalculator(){return this.$store.state.dashboardWidth&&this.$store.state.isFullWidth?{maxWidth:this.$store.state.dashboardWidth}:{}},isFavorite(){let s=this.root;return this.xsubfolder&&(s+=`/${this.xsubfolder}`),this.globalState.favoriteLocations.findIndex(e=>s==e.fullPath)>-1}},watch:{root(){this.updateRoute()},xsubfolder(){this.updateRoute()},"globalState.colorScheme"(){const s=Object.values(this.allConfigFiles.configs);if(!s.length)return;const e=`theme-${s[s.length-1]}`;localStorage.setItem(e,this.globalState.colorScheme)}},methods:{clearStyles(){this.styleElement&&(document.getElementsByTagName("head")[0].removeChild(this.styleElement),this.styleElement=null)},getPageHeader(){return this.xsubfolder?this.xsubfolder.substring(1+this.xsubfolder.lastIndexOf("/")):this.fileSystem.name||this.root},onNavigate(s){this.$emit("navigate",s),this.setTitle()},clickedFavorite(){let s=`${this.root}/${this.xsubfolder}`;s=s.substring(0,s.lastIndexOf("/"));const t={root:this.root,subfolder:this.xsubfolder,label:this.finalFolder,fullPath:`${this.root}/${this.xsubfolder}`,hint:s};this.$store.commit(this.isFavorite?"removeFavorite":"addFavorite",t),this.isFavorite&&this.$store.commit("setShowLeftBar",!0)},async getFolderReadme(){try{this.folderReadme="";const{files:s}=await this.fileApi.getDirectory(this.xsubfolder),t=s.filter(o=>o.toLocaleLowerCase()==="readme.md");if(!t.length)return;const e=await this.fileApi.getFileText(`${this.xsubfolder}/${t[0]}`),a=ft.render(e);this.folderReadme=a}catch{this.folderReadme=""}},async findConfigsAndDashboards(){if(this.loadErrorMessage="",!this.fileApi)return[];await this.fileApi.getChromePermission(this.fileSystem.handle),this.getFolderReadme();try{this.allConfigFiles=await this.fileApi.findAllYamlConfigs(this.xsubfolder);const{files:s}=await this.fileApi.getDirectory(this.xsubfolder);let t=!0;if(gs.forEach(e=>{s.indexOf(e)>-1&&(t=!1)}),t)for(const e of Object.values(this.allConfigFiles.dashboards))Q.set(this.dashboards,e,{header:{tab:"..."}}),await this.initDashboard(e)||delete this.dashboards[e];if(await this.setupProjectConfig(),this.globalState.isShowingFilesTab&&Q.set(this.dashboards,"FILE__BROWSER",{header:{tab:"Files"}}),this.$route.query.tab)try{const e=parseInt(""+this.$route.query.tab)-1,a=Object.keys(this.dashboards)[e];this.activeTab=a||Object.keys(this.dashboards)[0]}catch{this.activeTab=Object.keys(this.dashboards)[0]}else this.activeTab=Object.keys(this.dashboards)[0];this.dashboardTabWithDelay=this.activeTab}catch(s){console.warn({eeee:s}),this.fileSystem.handle?this.loadErrorMessage=`Click to grant access to folder "${this.fileSystem.handle.name}"`:this.loadErrorMessage=this.fileSystem.baseURL+"/"+this.xsubfolder+": Could not load"}},async setupProjectConfig(){const s=Object.values(this.allConfigFiles.configs);if(!s.length){this.isShowingBreadcrumbs=!0;return}let t="";for(const e of s)try{let a="";const o=await this.fileApi.getFileText(e),i=q.parse(o);if(!e.startsWith("http")){const l=e.indexOf("simwrapper-config.y");a=e.substring(0,l);const h=a.split("/");t=h.slice(0,h.length-2).join("/")}i.hideLeftBar===!0&&(this.$store.commit("setShowLeftBar",!1),this.$store.commit("setShowLeftStrip",!1)),i.hideLeftBar===!1&&(this.$store.commit("setShowLeftBar",!0),this.$store.commit("setShowLeftStrip",!0)),i.theme&&this.setProjectTheme(i.theme,e),this.$store.commit("setFullWidth",!!i.fullWidth),this.$store.commit("setDashboardWidth",""),i.width!==void 0&&(this.$store.commit("setDashboardWidth",""+i.width),this.$store.commit("setFullWidth",!0)),(i.hideFilesSection||i.hideFiles)&&this.$store.commit("setShowFilesTab",!1),this.isShowingBreadcrumbs=!i.hideBreadcrumbs,i.topNavBar&&(this.topNavItems={left:[],right:[],fileSystem:this.fileSystem,subfolder:this.xsubfolder,style:i.topNavBar.style},i.topNavBar.logo&&(this.topNavItems.logo=i.topNavBar.logo),i.topNavBar.left&&(this.topNavItems.left=this.topNavItems.left.concat(i.topNavBar.left)),i.topNavBar.right&&(this.topNavItems.right=this.topNavItems.right.concat(i.topNavBar.right))),this.$store.commit("setTopNavItems",this.topNavItems),i.leftNavBar&&(this.leftNavItems={top:[],middle:[],bottom:[]},i.leftNavBar.top&&(this.leftNavItems.top=this.leftNavItems.top.concat(i.leftNavBar.top)),i.leftNavBar.middle&&(this.leftNavItems.middle=this.leftNavItems.middle.concat(i.leftNavBar.middle)),i.leftNavBar.bottom&&(this.leftNavItems.bottom=this.leftNavItems.bottom.concat(i.leftNavBar.bottom)),this.$store.commit("setShowLeftBar",!0),this.$store.commit("setShowLeftStrip",!1),this.$store.commit("setLeftNavItems",this.leftNavItems),this.$emit("activate",{name:"Project",class:"LeftProjectPanel",onlyIfVisible:!1,navRoot:this.root,navSubfolder:this.xsubfolder}));const n=`${a}${i.css}`;try{i.css&&(this.customCSS=await this.fileApi.getFileText(n),this.styleElement=document.createElement("style"),this.styleElement.appendChild(document.createTextNode(this.customCSS)),document.getElementsByTagName("head")[0].appendChild(this.styleElement))}catch(l){console.error(`Error reading ${n}: `+l)}this.header=await this.buildPanel("header",i,a),this.footer=await this.buildPanel("footer",i,a)}catch(a){const o=`Error reading ${e}: `+a;this.$emit("error",o),console.error(o)}t&&this.$emit("projectFolder",t)},setProjectTheme(s,t){const e=`theme-${t}`,a=localStorage.getItem(e);if(console.log(e,a),a){this.$store.commit("setTheme",a);return}this.$store.commit("setTheme",s),localStorage.setItem(e,s)},async buildPanel(s,t,e){let a="";return this.$store.state.locale==="de"?a=t[s+"_de"]||t[s]||t[s+"_en"]||"":a=t[s+"_en"]||t[s]||t[s+"_de"]||"",a?(a.indexOf(`
`)==-1&&a.endsWith(".md")&&(a=await this.fileApi.getFileText(`${e}${a}`)),ft.render(a)):""},async initDashboard(s){var t;try{const e=await this.fileApi.getFileText(s),a=q.parse(e);if((t=a.header)!=null&&t.triggerPattern){const{files:i,dirs:n}=await this.fileApi.getDirectory(this.xsubfolder),l=[...i,...n];if(D.match(l,a.header.triggerPattern).length===0)return!1}const o=s.substring(0,s.lastIndexOf("."));return a.header||(a.header={title:s,tab:o}),a.header.tab||(a.header.tab=a.header.title||o),this.dashboards[s]=a,!0}catch(e){return this.$emit("error",{type:At.ERROR,msg:""+e}),!1}},updateRoute(){this.clearStyles(),this.dashboardDataManager&&this.dashboardDataManager.clearCache(),this.dashboardDataManager=new jt(this.root,this.xsubfolder),this.header="",this.footer="",this.dashboards=[],this.pageHeader=this.getPageHeader(),this.findConfigsAndDashboards()},updateCrumbs(s){this.finalFolder=s.finalFolder||"",this.crumbs=s.crumbs},async switchLeftTab(s,t){s!==this.activeTab&&(this.activeTab="",this.dashboardTabWithDelay="",this.showFooter=!1,await this.$nextTick(),this.activeTab=s,setTimeout(()=>{this.dashboardTabWithDelay=s,t?this.$router.replace({query:{tab:`${t+1}`}}):this.$router.replace({query:{}})},125))},handleZoom(s){this.isZoomed=!!s,this.$emit("zoom",this.isZoomed)},handleLayoutComplete(){this.showFooter=!0},getFileSystem(s){const t=this.$store.state.svnProjects.filter(e=>e.slug===s);return t.length===0?(console.warn("no such project"),this.loadErrorMessage=`Can't locate "${s}": please check running services and browser version.`,null):t[0]},goUpOneFolder(){let s=this.xsubfolder;this.xsubfolder.endsWith("/")&&(s=this.xsubfolder.slice(0,-1)),s=s.substring(0,s.lastIndexOf("/"));const t={root:this.fileSystem.slug,xsubfolder:s};!s&&!this.xsubfolder?this.onNavigate({component:"SplashPage",props:{}}):this.onNavigate({component:"TabbedDashboardView",props:t})},async authorizeAfterError(){try{const s=this.fileSystem.handle;s&&await s.requestPermission({mode:"read"})==="granted"&&this.updateRoute()}catch{}},setTitle(){const s=`${this.fileSystem.name}/${this.xsubfolder}`;let t=s.substring(1+s.lastIndexOf("/"));t||(t=this.fileSystem.name),this.$emit("title",t)}},mounted(){this.updateRoute(),this.setTitle()},beforeDestroy(){this.dashboardDataManager&&this.dashboardDataManager.clearCache(),this.clearStyles()}});var vs=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"tabbed-folder-view"},[e("p",{directives:[{name:"show",rawName:"v-show",value:t.loadErrorMessage,expression:"loadErrorMessage"}],staticClass:"load-error",on:{click:t.authorizeAfterError}},[e("b",[t._v(t._s(t.loadErrorMessage))])]),t.isShowingBreadcrumbs&&!t.isMultipanel&&!t.isZoomed?e("div",{staticClass:"tabholder",style:t.dashWidthCalculator},[e("div",{staticClass:"tabholdercontainer white-text"},[t.header?e("div",{staticClass:"project-header",domProps:{innerHTML:t._s(t.header)}}):e("div",{staticClass:"project-path"},[e("div",{staticClass:"nav-title"},[e("p",{staticClass:"title-text"},[t._v(t._s(t.finalFolder))]),e("p",{staticClass:"favorite-icon",class:{"is-favorite":t.isFavorite},attrs:{title:"Favorite"},on:{click:t.clickedFavorite}},[e("i",{staticClass:"fa fa-star"})])]),e("bread-crumbs",{staticClass:"breadcrumbs",attrs:{root:t.root,subfolder:t.xsubfolder},on:{navigate:t.onNavigate,crumbs:t.updateCrumbs}})],1)])]):t._e(),e("div",{staticClass:"dashboard-finder",class:{isMultipanel:t.isMultipanel,isZoomed:t.isZoomed}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:!t.isZoomed&&Object.keys(t.dashboards).length>1,expression:"!isZoomed && Object.keys(dashboards).length > 1"}],staticClass:"dashboard-right-sections"},t._l(Object.keys(t.dashboards),function(a,o){return e("li",{key:a,staticClass:"tab-list",class:{"is-active":a===t.activeTab,"is-not-active":a!==t.activeTab},style:{opacity:a===t.activeTab?1:.75},on:{click:function(i){return t.switchLeftTab(a,o)}}},[t.dashboards[a].header?e("a",{on:{click:function(i){return t.switchLeftTab(a,o)}}},[t._v(t._s(t.dashboards[a].header.tab))]):t._e()])}),0),t.dashboardTabWithDelay&&t.dashboardTabWithDelay!=="FILE__BROWSER"&&t.dashboards[t.dashboardTabWithDelay]&&t.dashboards[t.dashboardTabWithDelay].header.tab!=="..."?e("div",{staticClass:"dashboard-content",class:{"is-breadcrumbs-hidden":!t.isShowingBreadcrumbs&&!t.isZoomed}},[e("dash-board",{attrs:{root:t.root,xsubfolder:t.xsubfolder,config:t.dashboards[t.dashboardTabWithDelay],datamanager:t.dashboardDataManager,zoomed:t.isZoomed,allConfigFiles:t.allConfigFiles},on:{zoom:t.handleZoom,layoutComplete:t.handleLayoutComplete}})],1):t._e(),t.dashboardTabWithDelay&&t.dashboardTabWithDelay==="FILE__BROWSER"?e("folder-browser",{staticClass:"dashboard-folder-browser",attrs:{root:t.root,xsubfolder:t.xsubfolder,allConfigFiles:t.allConfigFiles},on:{navigate:t.onNavigate,up:function(a){return t.goUpOneFolder()}}}):t._e()],1),e("footer",{directives:[{name:"show",rawName:"v-show",value:t.showFooter&&!t.isZoomed,expression:"showFooter && !isZoomed"}],staticClass:"footer-holder",class:{wiide:t.wiide},style:t.dashWidthCalculator},[e("div",{staticClass:"tabholdercontainer",class:{wiide:t.wiide}},[t.footer?e("div",{staticClass:"project-footer",class:{wiide:t.wiide},domProps:{innerHTML:t._s(t.footer)}}):t._e()])])])},bs=[];var ys=S(ps,vs,bs,!1,null,"1d11a253",null,null);const Ss=ys.exports,_s={messages:{en:{translate:"Note: German translations are incomplete, but steadily improving",theme:"Theme",light:"Light",dark:"Dark",language:"Language",dataSources:"Data Sources",addDataSources:"Add Data Source"},de:{translate:"Die Übersetzungen sind unvollständig, werden aber immer besser...",theme:"Thema",light:"Hell",dark:"Dunkel",language:"Sprache",dataSources:"Datenquellen"}}},Cs=k({name:"SettingsPanel",i18n:_s,data:()=>({state:m.state,theme:"",shortcuts:[]}),mounted(){this.theme=this.state.isDarkMode?"dark":"light"},watch:{"state.isDarkMode"(){console.log("ooop!",this.state.isDarkMode),this.theme=this.state.isDarkMode?"dark":"light"}},computed:{isLight(){return this.theme=="light"?{backgroundColor:"#ffdd57",color:"#222",borderColor:"#aaa"}:{backgroundColor:"unset",color:"#888",borderColor:"#aaa"}},isDark(){return this.theme=="dark"?{backgroundColor:"#7957d5",color:"white",borderColor:"#aaa"}:{backgroundColor:"unset",color:"#888",borderColor:"#aaa"}},isEN(){return this.state.locale=="en"?{backgroundColor:"#ffdd57",color:"#222",borderColor:"#aaa"}:{backgroundColor:"unset",color:"#888",borderColor:"#aaa"}},isDE(){return this.state.locale=="de"?{backgroundColor:"#ffdd57",color:"#222",borderColor:"#aaa"}:{backgroundColor:"unset",color:"#888",borderColor:"#aaa"}}},methods:{setTheme(s){this.theme=s,console.log(this.theme),m.commit("setTheme",s)},setLanguage(s){this.$store.commit("setLocale",s),this.$root.$i18n.locale=s}}});var ws=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"panel"},[e("div",{staticClass:"close",on:{click:function(a){return a.stopPropagation(),t.$emit("close")}}},[e("i",{staticClass:"fa fa-times"})]),e("div",{staticClass:"option"},[e("h5",[t._v(t._s(t.$t("theme")))]),e("b-button",{staticClass:"button is-small is-white",style:t.isLight,attrs:{outlined:""},on:{click:function(a){return t.setTheme("light")}}},[t._v(t._s(t.$t("light")))]),e("b-button",{staticClass:"button is-small is-gray",style:t.isDark,attrs:{outlined:""},on:{click:function(a){return t.setTheme("dark")}}},[t._v(t._s(t.$t("dark")))])],1),e("div",{staticClass:"option"},[e("h5",[t._v(t._s(t.$t("language")))]),e("b-button",{staticClass:"button is-small is-white",style:t.isEN,attrs:{outlined:""},on:{click:function(a){return t.setLanguage("en")}}},[t._v("EN")]),e("b-button",{staticClass:"button is-small is-gray",style:t.isDE,attrs:{outlined:""},on:{click:function(a){return t.setLanguage("de")}}},[t._v("DE")])],1)])},ks=[];var xs=S(Cs,ws,ks,!1,null,"4c0fdb60",null,null);const Fs=xs.exports,$s="/staging/assets/settings-6e19bc2b.svg",Ds="/staging/assets/readme-bff70382.svg",Ps="data:image/png;base64,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",Ls="https://simwrapper.github.io/docs",Ts=k({name:"LeftIconPanel",components:{SettingsPanel:Fs},props:{activeSection:{type:String,required:!0}},data:()=>({state:m.state,isShowingSettings:!1,isDarkMode:!1,topSections:[{name:"Data",class:"LeftSystemPanel",icon:Ps},{name:"Split",class:"LeftSplitFolderPanel",fontAwesomeIcon:"fa-columns"}],bottomSections:[{name:"Documentation",link:Ls,icon:Ds},{name:"Settings",class:"SettingsPanel",icon:$s}]}),watch:{"state.isDarkMode"(){this.isDarkMode=this.state.isDarkMode}},computed:{isDark(){return this.state.isDarkMode},issueColor(){return this.state.statusErrors.length?"invert(60%) sepia(100%) hue-rotate(310deg) saturate(8.5)":this.state.statusWarnings.length?"invert(75%) sepia(100%) hue-rotate(15deg) saturate(5.5)":"invert(100%)"}},methods:{select(s){if(s.name=="Settings"){this.toggleSettings();return}s.name!==this.activeSection?(this.$store.commit("setShowLeftBar",!0),this.$emit("activate",s)):this.$store.commit("setShowLeftBar",!this.$store.state.isShowingLeftBar)},toggleSettings(){this.isShowingSettings=!this.isShowingSettings}}});var Rs=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"icon-panel"},[e("div",{staticClass:"top"},t._l(t.topSections,function(a){return e("div",{key:a.name,staticClass:"item",class:{"is-active":a.name===t.activeSection,"is-dark":t.isDarkMode},on:{click:function(o){return t.select(a)}}},[e("div",{staticClass:"sideways"},[e("p",[t._v(t._s(a.name))])]),a.icon?e("img",{staticClass:"svg-icon",style:{filter:a.colorize?t.issueColor:"invert(100%)"},attrs:{src:a.icon,draggable:!1}}):t._e(),a.fontAwesomeIcon?e("i",{staticClass:"fa-icon fas",class:a.fontAwesomeIcon}):t._e()])}),0),e("div",{staticClass:"bottom"},t._l(t.bottomSections,function(a){return e("div",{key:a.name,staticClass:"item",on:{click:function(o){return t.select(a)}}},[e("div",{staticClass:"sideways"},[e("p",[t._v(t._s(a.name))])]),a.icon?e("img",{staticClass:"svg-icon",style:{filter:a.colorize?t.issueColor:"invert(100%)"},attrs:{src:a.icon,draggable:!1}}):t._e()])}),0),t.isShowingSettings?e("settings-panel",{staticClass:"settings-popup",on:{close:function(a){return t.toggleSettings()}}}):t._e()],1)},Es=[];var zs=S(Ts,Rs,Es,!1,null,"8b17c12d",null,null);const As=zs.exports,Os={messages:{en:{close:"Close panel",back:"Go back"},de:{close:"Schließen",back:"Zurück"}}},j="/staging/",K=250,Ns=k({name:"LayoutManager",i18n:Os,components:Object.assign({BreadCrumbs:pt,ErrorPanel:at,FolderBrowser:vt,LeftIconPanel:As,LeftProjectPanel:ve,LeftSplitFolderPanel:ts,LeftSystemPanel:fs,TopNavBar:xe,SplashPage:Ue,TabbedDashboardView:Ss},G),data:()=>({activeLeftSection:{name:"Data",class:"LeftSystemPanel"},authHandles:[],dragX:-1,dragY:-1,dragQuadrant:null,dragStartWidth:0,firstPanelProjectFolder:"",firstPanelSubfolder:"",fullScreenPanel:{x:-1,y:-1},isDraggingDivider:0,isDragHappening:!1,isEmbedded:!1,isShowingActiveSection:!0,leftSectionWidth:K,navRoot:"",panels:[],panelsWithScrollbars:["TabbedDashboardView","FolderBrowser","calc-table"],zoomed:!1}),computed:{isMultipanel(){return this.panels.length>1?!0:this.panels[0].length>1},showLeftBar(){return this.$store.state.isShowingLeftBar},activeSectionStyle(){return this.activeLeftSection?{width:`${this.leftSectionWidth}px`}:{display:"none"}}},watch:{"$store.state.statusErrors"(){},$route(s,t){s.path===j?this.panels=[[{component:"SplashPage",key:Math.random(),props:{}}]]:(this.buildLayoutFromURL(),m.commit("resize"))}},methods:{setActiveLeftSection(s){if(!(s.onlyIfVisible&&!this.isShowingActiveSection)&&!(this.isShowingActiveSection&&s.name===this.activeLeftSection.name)){if(s.link){window.open(s.link,"_blank");return}s.navRoot&&(this.navRoot=s.navRoot),this.isShowingActiveSection=!0,this.activeLeftSection=s,localStorage.setItem("activeLeftSection",JSON.stringify(s)),this.leftSectionWidth<48&&(this.leftSectionWidth=K)}},setProjectFolder(s){this.firstPanelProjectFolder=s},buildLayoutFromURL(){let s=this.$route.params.pathMatch;if(s.startsWith("/")&&(s=s.slice(1)),!s||s==="/"){this.panels=[[{component:"SplashPage",key:Math.random(),props:{}}]],this.$store.commit("setShowLeftStrip",!0);return}if(s.startsWith("split/")){const F=s.substring(6);try{const P=atob(F),y=JSON.parse(P);this.panels=y}catch(P){console.error("PARSING SPLIT"+P),this.$router.replace("/")}return}let t=s,e="";const a=s.indexOf("/");a>-1&&(t=s.substring(0,a),e=s.substring(a+1),e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,-1)));const o=s.substring(1+s.lastIndexOf("/")),i=o.toLocaleLowerCase();for(const F of m.state.visualizationTypes.values())if(D.isMatch(i,F.filePatterns)){if(this.panels.length===1&&this.panels[0].length===1)this.panels=[[this.panels[0][0]]];else{let P=Math.random(),y=e.substring(0,e.lastIndexOf("/"));y.startsWith("/")&&(y=y.slice(1)),this.panels=[[{key:P,component:F.kebabName,title:"",description:"",props:{root:t,subfolder:y,yamlConfig:o,thumbnail:!1}}]]}return}let n=Math.random();this.panels.length===1&&this.panels[0].length===1&&(n=this.panels[0][0].key);const l=this.$store.state.svnProjects.filter(F=>F.slug===t);if(!l.length)throw Error("no such project");const h=l[0],_=e.startsWith("/")?e.slice(1):e,R=_.substring(1+_.lastIndexOf("/"))||h.name;this.panels=[[{key:n,title:R,component:"TabbedDashboardView",props:{root:t,xsubfolder:_}}]]},handleDragStartStop(s){this.isDragHappening=s},buildDragHighlightStyle(s,t){if(s==-1){const o=this.dragQuadrant=="rowTop"?"1":"0",i=this.isDragHappening?"auto":"none";return{top:0,opacity:o,pointerEvents:i,backgroundColor:"#ffcc4480"}}if(s==-2){const o=this.dragQuadrant=="rowBottom"?"1":"0",i=this.isDragHappening?"auto":"none";return{bottom:0,opacity:o,pointerEvents:i,backgroundColor:"#ffcc4480"}}if(s!==this.dragX||t!==this.dragY||!this.dragQuadrant)return{};const a={opacity:1,backgroundColor:this.dragQuadrant.quadrant=="center"?"#079f6f80":"#4444dd90"};return Object.entries(this.dragQuadrant).forEach(o=>a[o[0]]=`${o[1]}px`),a},stillDragging(s){const{event:t,x:e,y:a,row:o}=s;if(o){this.dragQuadrant=o;return}this.dragX=e,this.dragY=a;const i=this.$refs[`dragContainer${e}-${a}`],l=this.$refs.tileTable.offsetLeft,h=i[0],_=(t.clientX-h.offsetLeft-l)/h.offsetWidth;(t.clientY-h.offsetTop)/h.offsetHeight;let p=8;if(_<.3)this.dragQuadrant={quadrant:"left",width:h.offsetWidth/2-p*2,height:h.offsetHeight-p*2,marginLeft:p,marginTop:p};else if(_>.7)this.dragQuadrant={quadrant:"right",width:h.offsetWidth/2-p*2,height:h.offsetHeight-p*2,marginLeft:h.offsetWidth/2+p,marginTop:p};else{p*=5;const R=(h.offsetWidth-p*2)*.95,F=(h.offsetHeight-p*2)*.95;this.dragQuadrant={quadrant:"center",width:R,height:F,marginLeft:(h.offsetWidth-R)/2,marginTop:(h.offsetHeight-F)/2}}},dragEnd(){this.dragQuadrant=null,this.dragX=-1,this.dragY=-1},onDrop(s){var i;if(!this.dragQuadrant)return;const{event:t,x:e,y:a,row:o}=s;try{const n=(i=t.dataTransfer)==null?void 0:i.getData("bundle"),l=JSON.parse(n),_={component:l.component||"TabbedDashboardView",props:l};this.onSplit({x:e,y:a,row:o,quadrant:this.dragQuadrant.quadrant,viz:_})}catch(n){console.warn(""+n)}this.dragEnd()},splitMainPanel(s){let t=0,e=0;const a={component:"SplashPage",props:{},key:Math.random()};s.root&&(a.component="TabbedDashboardView",a.props.root=s.root,a.props.xsubfolder=s.xsubfolder||""),this.panels[e].splice(t,0,a),this.updateURL(),m.commit("resize")},async onSplit(s){const{x:t,y:e,row:a,quadrant:o,viz:i}=s,n={component:i.component,props:i.props,title:"",description:"",key:Math.random()};if(a)switch(a){case"rowTop":this.panels.unshift([n]);break;case"rowBottom":this.panels.push([n]);break;default:console.warn("HUH?",a);break}else switch(o){case"center":this.panels[e][t]=n;break;case"left":this.panels[e].splice(t,0,n);break;case"right":this.panels[e].splice(t+1,0,n);break;default:console.warn("TOP AND BOTTOM to be added later");return}this.updateURL(),m.commit("resize")},onNavigate(s,t,e){s.component==="SplashPage"?this.panels[e][t]={component:"SplashPage",props:{},key:Math.random()}:this.panels[e][t]=Object.assign({key:Math.random()},s),this.updateURL(),this.buildLayoutFromURL()},onClose(s,t){this.panels[t][s].component=null,this.panels[t].splice(s,1),this.panels[t].length||(this.panels.length>1?this.panels.splice(t,1):this.panels[0].push({component:"SplashPage",key:Math.random(),props:{}})),this.updateURL(),m.commit("resize")},onBack(s,t){const e=this.panels[t][s];if(e.component=="SplashPage")return;if(e.component!=="TabbedDashboardView"){e.component="TabbedDashboardView",e.props.xsubfolder=this.panels[t][s].props.subfolder,delete e.props.yamlConfig,this.updateURL();return}let a=""+e.props.xsubfolder;if(!a||a==="/"){e.component="SplashPage",e.props={},this.updateURL();return}a=a.replaceAll("//","/"),a.endsWith("/")&&(a=a.slice(0,-1));let i=a.split("/").slice(0,-1).join("/");e.props.xsubfolder=i,delete e.props.yamlConfig,this.updateURL()},getShowHeader(s){return this.panels.length>1||this.panels[0].length>1?!0:!["SplashPage","TabbedDashboardView"].includes(s.component)},updateURL(){var s,t;if(this.firstPanelSubfolder=((t=(s=this.panels[0][0])==null?void 0:s.props)==null?void 0:t.xsubfolder)||"",this.panels.length>1||this.panels[0].length>1){const e=btoa(JSON.stringify(this.panels));this.$router.push(`${j}split/${e}`)}else{const e=this.panels[0][0].props,a=e.root||"",o=e.xsubfolder||e.subfolder||"",i=e.yamlConfig||"";if(i.indexOf("/")>-1){const n=i.substring(i.lastIndexOf("/"));this.$router.replace(`${j}${a}/${o}/${n}`)}else if(i)this.$router.push(`${j}${a}/${o}/${i}`);else{let n=`${j}${a}/${o}`;e.config&&(n+=`/${e.config}`),this.$router.push(n)}}},cleanProps(s){const{title:t,...e}=s;return e},dividerDragStart(s){this.isDraggingDivider=s.clientX,this.dragStartWidth=this.leftSectionWidth},dividerDragEnd(s){this.isDraggingDivider=0},dividerDragging(s){if(!this.isDraggingDivider)return;const t=s.clientX-this.isDraggingDivider;this.leftSectionWidth=Math.max(0,this.dragStartWidth+t),localStorage.setItem("leftPanelWidth",`${this.leftSectionWidth}`)},setCardTitles(s,t){typeof t=="string"?(Q.set(s,"title",t),s.description=""):(s.title=t.title,s.description=t.description||"")},async handleToggleInfoClicked(s){console.log("CARD INFO?",s)},async toggleZoom(s,t,e){console.log("ZOOM",s),this.fullScreenPanel.x>-1?this.fullScreenPanel={x:-1,y:-1}:this.fullScreenPanel={x:t,y:e}},updateDimensions(s){},getTileStyle(s){return{overflow:this.panelsWithScrollbars.includes(s.component)?"auto":"hidden"}},restoreLeftPanel(){this.$store.commit("setShowLeftBar",!0),this.$store.commit("setManualLeftPanelHidden",!1)},getContainerStyle(s,t,e){const a=t===this.panels[e].length-1?"6px":"0";let o={padding:this.isMultipanel?`6px ${a} 6px 6px`:"0px 0px"};return this.fullScreenPanel.x==-1||(this.fullScreenPanel.x!==t?o.display="none":o={position:"absolute",top:0,bottom:0,left:0,right:0,margin:"6px 6px"}),o}},mounted(){var t,e;"embed"in this.$route.query&&(this.isEmbedded=!0);const s=localStorage.getItem("leftPanelWidth");this.leftSectionWidth=s==null?K:parseInt(s),this.leftSectionWidth<0&&(this.leftSectionWidth=2),this.activeLeftSection={name:"Data",class:"LeftSystemPanel"},this.buildLayoutFromURL(),this.firstPanelSubfolder=((e=(t=this.panels[0][0])==null?void 0:t.props)==null?void 0:e.xsubfolder)||""}});var js=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{attrs:{id:"layout-manager"}},[t.$store.state.topNavItems?e("top-nav-bar",{attrs:{projectFolder:t.firstPanelProjectFolder,currentFolder:t.firstPanelSubfolder},on:{navigate:function(a){return t.onNavigate(a,0,0)}}}):t._e(),e("div",{style:{userSelect:t.isDraggingDivider?"none":"unset"},attrs:{id:"split-screen"},on:{mousemove:t.dividerDragging,mouseup:t.dividerDragEnd}},[t.$store.state.isShowingLeftStrip?e("left-icon-panel",{staticClass:"left-icon-panel",attrs:{activeSection:t.activeLeftSection.name},on:{activate:t.setActiveLeftSection}}):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftBar,expression:"showLeftBar"}],staticClass:"left-panel"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowingActiveSection,expression:"isShowingActiveSection"}],staticClass:"left-panel-active-section",style:t.activeSectionStyle},[e(t.activeLeftSection.class,{tag:"component",attrs:{currentFolder:t.firstPanelSubfolder,projectFolder:t.firstPanelProjectFolder,navRoot:t.navRoot},on:{navigate:function(a){return t.onNavigate(a,0,0)},activate:t.setActiveLeftSection,isDragging:t.handleDragStartStop,split:t.splitMainPanel}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeLeftSection,expression:"activeLeftSection"}],staticClass:"left-panel-divider",on:{mousedown:t.dividerDragStart,mouseup:t.dividerDragEnd,mousemove:function(a){return a.stopPropagation(),t.dividerDragging.apply(null,arguments)}}})]),e("div",{ref:"tileTable",staticClass:"table-of-tiles"},[t.authHandles.length?e("div",{staticClass:"authorization-strip"},t._l(t.authHandles,function(a){return e("div",{staticClass:"auth-row"},[e("p",{staticClass:"flex1"},[t._v(t._s(""+a))])])}),0):t._e(),e("div",{staticClass:"row-drop-target",style:t.buildDragHighlightStyle(-1,-1),on:{drop:function(a){return t.onDrop({event:a,row:"rowTop"})},dragover:[function(a){return t.stillDragging({event:a,row:"rowTop"})},function(a){a.preventDefault()}],dragenter:function(a){a.preventDefault()},dragleave:t.dragEnd}}),t._l(t.panels,function(a,o){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreenPanel.y==-1||t.fullScreenPanel.y==o,expression:"fullScreenPanel.y == -1 || fullScreenPanel.y == y"}],key:o,staticClass:"tile-row"},t._l(a,function(i,n){return e("div",{key:i.key,ref:`dragContainer${n}-${o}`,refInFor:!0,staticClass:"drag-container",style:t.getContainerStyle(i,n,o),on:{drop:function(l){return t.onDrop({event:l,x:n,y:o})},dragover:[function(l){l.preventDefault()},function(l){return t.stillDragging({event:l,x:n,y:o})}],dragenter:function(l){l.preventDefault()},dragleave:t.dragEnd}},[t.getShowHeader(i)?e("div",{staticClass:"tile-header flex-row"},[i.component!=="SplashPage"?e("div",{staticClass:"tile-buttons"},[e("div",{staticClass:"nav-button is-small is-white",on:{click:function(l){return t.onBack(n,o)}}},[e("i",{staticClass:"fa fa-arrow-left"})])]):t._e(),e("div",{staticClass:"tile-labels",class:{"is-singlepanel":!t.isMultipanel}},[i.title?e("h3",{style:{textAlign:"left"}},[t._v(t._s(i.title))]):t._e(),i.description?e("p",[t._v(t._s(i.description))]):t._e()]),e("div",{staticClass:"flex-row"},[e("div",{staticClass:"tile-buttons"},[i.info?e("div",{staticClass:"nav-button is-small is-white",on:{click:function(l){return t.handleToggleInfoClicked(i)}}},[e("i",{staticClass:"fa fa-info-circle"})]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.panels.length>1||t.panels[0].length>1,expression:"panels.length > 1 || panels[0].length > 1"}],staticClass:"nav-button is-small is-white",attrs:{title:t.fullScreenPanel.x>-1?"Restore":"Enlarge"},on:{click:function(l){return t.toggleZoom(i,n,o)}}},[e("i",{staticClass:"fa fa-expand"})]),t.isMultipanel?e("div",{staticClass:"nav-button is-small is-white",attrs:{title:"Close"},on:{click:function(l){return t.onClose(n,o)}}},[e("i",{staticClass:"fa fa-times-circle"})]):t._e()])])]):t._e(),t.getShowHeader(i)?e("div",{staticClass:"breadcrumb-row"},[e("bread-crumbs",{staticClass:"bread-crumbs",attrs:{root:i.props.root||"",subfolder:i.props.xsubfolder||""},on:{navigate:function(l){return t.onNavigate(l,n,o)}}})],1):t._e(),e(i.component,t._b({tag:"component",staticClass:"map-tile",style:t.getTileStyle(i),attrs:{isMultipanel:t.isMultipanel},on:{navigate:function(l){return t.onNavigate(l,n,o)},title:function(l){return t.setCardTitles(i,l)},activate:t.setActiveLeftSection,projectFolder:t.setProjectFolder}},"component",t.cleanProps(i.props),!1)),t.isDragHappening?e("div",{staticClass:"drag-highlight",style:t.buildDragHighlightStyle(n,o)}):t._e()],1)}),0)}),t.isDragHappening?e("div",{staticClass:"row-drop-target",style:t.buildDragHighlightStyle(-2,-2),on:{drop:function(a){return t.onDrop({event:a,row:"rowBottom"})},dragover:[function(a){return t.stillDragging({event:a,row:"rowBottom"})},function(a){a.preventDefault()}],dragenter:function(a){a.preventDefault()},dragleave:t.dragEnd}}):t._e()],2)],1)],1)},Is=[];var Bs=S(Ns,js,Is,!1,null,"e1d638bf",null,null);const Qs=Bs.exports;export{Qs as default};
//# sourceMappingURL=LayoutManager-6de93a89.js.map
