{"version":3,"file":"LayoutManager-6de93a89.js","sources":["../../src/components/BreadCrumbs.vue","../../node_modules/medium-zoom/dist/medium-zoom.esm.js","../../src/components/TopsheetsFinder/TopsheetsFinder.vue","../../src/layout-manager/FolderBrowser.vue","../../src/components/left-panels/ErrorPanel.vue","../../src/layout-manager/LeftProjectPanel.vue","../../node_modules/is-dark-color/dist/hexToRgb.js","../../node_modules/is-dark-color/dist/isDarkColor.js","../../node_modules/is-dark-color/dist/index.js","../../src/layout-manager/TopNavBar.vue","../../src/components/FileSystemProjects.vue","../../src/assets/screenshots/berlin.jpg","../../src/layout-manager/SplashPage.vue","../../src/assets/simwrapper-logo/SW_logo_white.png","../../src/assets/vsp-logo/vsp-2023-logo.png","../../src/layout-manager/LeftSplitFolderPanel.vue","../../src/layout-manager/AddDataSource.vue","../../src/layout-manager/LeftSystemPanel.vue","../../src/layout-manager/TabbedDashboardView.vue","../../src/layout-manager/SettingsPanel.vue","../../src/assets/icons/settings.svg","../../src/assets/icons/readme.svg","../../src/assets/simwrapper-logo/SW_logo_icon_black.png","../../src/layout-manager/LeftIconPanel.vue","../../src/layout-manager/LayoutManager.vue"],"sourcesContent":["<template lang=\"pug\">\n.trail(v-if=\"root\")\n  .x-home\n    p(@click=\"clickedBreadcrumb({url: '/'})\")\n      i.fa.fa-home\n\n  .x-breadcrumbs(v-if=\"root\")\n    p(v-for=\"crumb,i in crumbs.slice(1)\"\n      :key=\"crumb.url\"\n      @click=\"clickedBreadcrumb(crumb)\"\n    ) &nbsp;•&nbsp;{{ crumb.label }}\n    //- •&nbsp;\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport { BreadCrumb, FileSystemConfig } from '@/Globals'\n\nexport default defineComponent({\n  name: 'BreadCrumbs',\n  components: {},\n\n  props: {\n    root: { type: String, required: true },\n    subfolder: { type: String, required: true },\n    isLoading: { type: Boolean, required: false },\n  },\n\n  computed: {\n    fileSystem(): FileSystemConfig {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === this.root\n      )\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n      return svnProject[0]\n    },\n\n    crumbs() {\n      if (!this.fileSystem) return []\n\n      const zcrumbs = [\n        {\n          label: 'SimWrapper',\n          url: '/',\n          root: '',\n          subfolder: '',\n        },\n        {\n          label: this.fileSystem.name,\n          url: '/' + this.fileSystem.slug,\n          root: this.fileSystem.slug,\n          subfolder: '',\n        },\n      ] as BreadCrumb[]\n\n      const subfolders = this.subfolder.split('/')\n      let buildFolder = ''\n      let finalFolder = this.fileSystem.name\n\n      for (const folder of subfolders) {\n        if (!folder) continue\n\n        buildFolder += `/${folder}`\n        // subfolder nevers starts/ends with a '/'\n        if (buildFolder.startsWith('/')) buildFolder = buildFolder.substring(1)\n\n        zcrumbs.push({\n          label: folder,\n          url: '/' + this.fileSystem.slug + buildFolder,\n          root: this.fileSystem.slug,\n          subfolder: buildFolder,\n        })\n        finalFolder = folder\n      }\n\n      this.$emit('crumbs', { crumbs: zcrumbs, finalFolder })\n      return zcrumbs\n    },\n  },\n\n  methods: {\n    clickedBreadcrumb(crumb: BreadCrumb) {\n      if (this.isLoading) return\n      if (!this.fileSystem) return\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!crumb.root) {\n        this.$emit('navigate', { component: 'SplashPage', props: {} })\n        return\n      }\n\n      const props = {\n        root: crumb.root,\n        xsubfolder: crumb.subfolder,\n      }\n\n      this.$emit('navigate', { component: 'TabbedDashboardView', props })\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.trail {\n  font-size: 1rem;\n  display: flex;\n  p:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n.x-home {\n  line-height: 1.4rem;\n  font-size: 0.8rem;\n}\n\n.x-breadcrumbs {\n  flex: 1;\n  display: flex;\n  flex-flow: row wrap;\n  line-height: 1.2rem;\n  max-width: 100%;\n  margin-top: 2px;\n\n  p {\n    width: max-content;\n  }\n\n  .cdrumb-link:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n@media only screen and (max-width: 640px) {\n}\n</style>\n","/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar isSupported = function isSupported(node) {\n  return node.tagName === 'IMG';\n};\n\n/* eslint-disable-next-line no-prototype-builtins */\nvar isNodeList = function isNodeList(selector) {\n  return NodeList.prototype.isPrototypeOf(selector);\n};\n\nvar isNode = function isNode(selector) {\n  return selector && selector.nodeType === 1;\n};\n\nvar isSvg = function isSvg(image) {\n  var source = image.currentSrc || image.src;\n  return source.substr(-4).toLowerCase() === '.svg';\n};\n\nvar getImagesFromSelector = function getImagesFromSelector(selector) {\n  try {\n    if (Array.isArray(selector)) {\n      return selector.filter(isSupported);\n    }\n\n    if (isNodeList(selector)) {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(selector).filter(isSupported);\n    }\n\n    if (isNode(selector)) {\n      return [selector].filter(isSupported);\n    }\n\n    if (typeof selector === 'string') {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);\n    }\n\n    return [];\n  } catch (err) {\n    throw new TypeError('The provided selector is invalid.\\n' + 'Expects a CSS selector, a Node element, a NodeList or an array.\\n' + 'See: https://github.com/francoischalifour/medium-zoom');\n  }\n};\n\nvar createOverlay = function createOverlay(background) {\n  var overlay = document.createElement('div');\n  overlay.classList.add('medium-zoom-overlay');\n  overlay.style.background = background;\n\n  return overlay;\n};\n\nvar cloneTarget = function cloneTarget(template) {\n  var _template$getBounding = template.getBoundingClientRect(),\n      top = _template$getBounding.top,\n      left = _template$getBounding.left,\n      width = _template$getBounding.width,\n      height = _template$getBounding.height;\n\n  var clone = template.cloneNode();\n  var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n\n  clone.removeAttribute('id');\n  clone.style.position = 'absolute';\n  clone.style.top = top + scrollTop + 'px';\n  clone.style.left = left + scrollLeft + 'px';\n  clone.style.width = width + 'px';\n  clone.style.height = height + 'px';\n  clone.style.transform = '';\n\n  return clone;\n};\n\nvar createCustomEvent = function createCustomEvent(type, params) {\n  var eventParams = _extends({\n    bubbles: false,\n    cancelable: false,\n    detail: undefined\n  }, params);\n\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(type, eventParams);\n  }\n\n  var customEvent = document.createEvent('CustomEvent');\n  customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);\n\n  return customEvent;\n};\n\nvar mediumZoom = function mediumZoom(selector) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * Ensure the compatibility with IE11 if no Promise polyfill are used.\n   */\n  var Promise = window.Promise || function Promise(fn) {\n    function noop() {}\n    fn(noop, noop);\n  };\n\n  var _handleClick = function _handleClick(event) {\n    var target = event.target;\n\n\n    if (target === overlay) {\n      close();\n      return;\n    }\n\n    if (images.indexOf(target) === -1) {\n      return;\n    }\n\n    toggle({ target: target });\n  };\n\n  var _handleScroll = function _handleScroll() {\n    if (isAnimating || !active.original) {\n      return;\n    }\n\n    var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n\n    if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {\n      setTimeout(close, 150);\n    }\n  };\n\n  var _handleKeyUp = function _handleKeyUp(event) {\n    var key = event.key || event.keyCode;\n\n    // Close if escape key is pressed\n    if (key === 'Escape' || key === 'Esc' || key === 27) {\n      close();\n    }\n  };\n\n  var update = function update() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var newOptions = options;\n\n    if (options.background) {\n      overlay.style.background = options.background;\n    }\n\n    if (options.container && options.container instanceof Object) {\n      newOptions.container = _extends({}, zoomOptions.container, options.container);\n    }\n\n    if (options.template) {\n      var template = isNode(options.template) ? options.template : document.querySelector(options.template);\n\n      newOptions.template = template;\n    }\n\n    zoomOptions = _extends({}, zoomOptions, newOptions);\n\n    images.forEach(function (image) {\n      image.dispatchEvent(createCustomEvent('medium-zoom:update', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    return zoom;\n  };\n\n  var clone = function clone() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return mediumZoom(_extends({}, zoomOptions, options));\n  };\n\n  var attach = function attach() {\n    for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {\n      selectors[_key] = arguments[_key];\n    }\n\n    var newImages = selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []);\n\n    newImages.filter(function (newImage) {\n      return images.indexOf(newImage) === -1;\n    }).forEach(function (newImage) {\n      images.push(newImage);\n      newImage.classList.add('medium-zoom-image');\n    });\n\n    eventListeners.forEach(function (_ref) {\n      var type = _ref.type,\n          listener = _ref.listener,\n          options = _ref.options;\n\n      newImages.forEach(function (image) {\n        image.addEventListener(type, listener, options);\n      });\n    });\n\n    return zoom;\n  };\n\n  var detach = function detach() {\n    for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      selectors[_key2] = arguments[_key2];\n    }\n\n    if (active.zoomed) {\n      close();\n    }\n\n    var imagesToDetach = selectors.length > 0 ? selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []) : images;\n\n    imagesToDetach.forEach(function (image) {\n      image.classList.remove('medium-zoom-image');\n      image.dispatchEvent(createCustomEvent('medium-zoom:detach', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    images = images.filter(function (image) {\n      return imagesToDetach.indexOf(image) === -1;\n    });\n\n    return zoom;\n  };\n\n  var on = function on(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.addEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners.push({ type: 'medium-zoom:' + type, listener: listener, options: options });\n\n    return zoom;\n  };\n\n  var off = function off(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.removeEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners = eventListeners.filter(function (eventListener) {\n      return !(eventListener.type === 'medium-zoom:' + type && eventListener.listener.toString() === listener.toString());\n    });\n\n    return zoom;\n  };\n\n  var open = function open() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref2.target;\n\n    var _animate = function _animate() {\n      var container = {\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      };\n      var viewportWidth = void 0;\n      var viewportHeight = void 0;\n\n      if (zoomOptions.container) {\n        if (zoomOptions.container instanceof Object) {\n          // The container is given as an object with properties like width, height, left, top\n          container = _extends({}, container, zoomOptions.container);\n\n          // We need to adjust custom options like container.right or container.bottom\n          viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;\n          viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;\n        } else {\n          // The container is given as an element\n          var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);\n\n          var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(),\n              _width = _zoomContainer$getBou.width,\n              _height = _zoomContainer$getBou.height,\n              _left = _zoomContainer$getBou.left,\n              _top = _zoomContainer$getBou.top;\n\n          container = _extends({}, container, {\n            width: _width,\n            height: _height,\n            left: _left,\n            top: _top\n          });\n        }\n      }\n\n      viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;\n      viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;\n\n      var zoomTarget = active.zoomedHd || active.original;\n      var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;\n      var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;\n\n      var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(),\n          top = _zoomTarget$getBoundi.top,\n          left = _zoomTarget$getBoundi.left,\n          width = _zoomTarget$getBoundi.width,\n          height = _zoomTarget$getBoundi.height;\n\n      var scaleX = Math.min(naturalWidth, viewportWidth) / width;\n      var scaleY = Math.min(naturalHeight, viewportHeight) / height;\n      var scale = Math.min(scaleX, scaleY);\n      var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;\n      var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;\n      var transform = 'scale(' + scale + ') translate3d(' + translateX + 'px, ' + translateY + 'px, 0)';\n\n      active.zoomed.style.transform = transform;\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = transform;\n      }\n    };\n\n    return new Promise(function (resolve) {\n      if (target && images.indexOf(target) === -1) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleOpenEnd = function _handleOpenEnd() {\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleOpenEnd);\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:opened', {\n          detail: { zoom: zoom }\n        }));\n\n        resolve(zoom);\n      };\n\n      if (active.zoomed) {\n        resolve(zoom);\n        return;\n      }\n\n      if (target) {\n        // The zoom was triggered manually via a click\n        active.original = target;\n      } else if (images.length > 0) {\nvar _images = images;\n        active.original = _images[0];\n      } else {\n        resolve(zoom);\n        return;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:open', {\n        detail: { zoom: zoom }\n      }));\n\n      scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n      isAnimating = true;\n      active.zoomed = cloneTarget(active.original);\n\n      document.body.appendChild(overlay);\n\n      if (zoomOptions.template) {\n        var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);\n        active.template = document.createElement('div');\n        active.template.appendChild(template.content.cloneNode(true));\n\n        document.body.appendChild(active.template);\n      }\n\n      document.body.appendChild(active.zoomed);\n\n      window.requestAnimationFrame(function () {\n        document.body.classList.add('medium-zoom--opened');\n      });\n\n      active.original.classList.add('medium-zoom-image--hidden');\n      active.zoomed.classList.add('medium-zoom-image--opened');\n\n      active.zoomed.addEventListener('click', close);\n      active.zoomed.addEventListener('transitionend', _handleOpenEnd);\n\n      if (active.original.getAttribute('data-zoom-src')) {\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Reset the `scrset` property or the HD image won't load.\n        active.zoomedHd.removeAttribute('srcset');\n        active.zoomedHd.removeAttribute('sizes');\n\n        active.zoomedHd.src = active.zoomed.getAttribute('data-zoom-src');\n\n        active.zoomedHd.onerror = function () {\n          clearInterval(getZoomTargetSize);\n          console.warn('Unable to reach the zoom image target ' + active.zoomedHd.src);\n          active.zoomedHd = null;\n          _animate();\n        };\n\n        // We need to access the natural size of the full HD\n        // target as fast as possible to compute the animation.\n        var getZoomTargetSize = setInterval(function () {\n          if ( active.zoomedHd.complete) {\n            clearInterval(getZoomTargetSize);\n            active.zoomedHd.classList.add('medium-zoom-image--opened');\n            active.zoomedHd.addEventListener('click', close);\n            document.body.appendChild(active.zoomedHd);\n            _animate();\n          }\n        }, 10);\n      } else if (active.original.hasAttribute('srcset')) {\n        // If an image has a `srcset` attribuet, we don't know the dimensions of the\n        // zoomed (HD) image (like when `data-zoom-src` is specified).\n        // Therefore the approach is quite similar.\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Resetting the sizes attribute tells the browser to load the\n        // image best fitting the current viewport size, respecting the `srcset`.\n        active.zoomedHd.removeAttribute('sizes');\n\n        // In Firefox, the `loading` attribute needs to be set to `eager` (default\n        // value) for the load event to be fired.\n        active.zoomedHd.removeAttribute('loading');\n\n        // Wait for the load event of the hd image. This will fire if the image\n        // is already cached.\n        var loadEventListener = active.zoomedHd.addEventListener('load', function () {\n          active.zoomedHd.removeEventListener('load', loadEventListener);\n          active.zoomedHd.classList.add('medium-zoom-image--opened');\n          active.zoomedHd.addEventListener('click', close);\n          document.body.appendChild(active.zoomedHd);\n          _animate();\n        });\n      } else {\n        _animate();\n      }\n    });\n  };\n\n  var close = function close() {\n    return new Promise(function (resolve) {\n      if (isAnimating || !active.original) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleCloseEnd = function _handleCloseEnd() {\n        active.original.classList.remove('medium-zoom-image--hidden');\n        document.body.removeChild(active.zoomed);\n        if (active.zoomedHd) {\n          document.body.removeChild(active.zoomedHd);\n        }\n        document.body.removeChild(overlay);\n        active.zoomed.classList.remove('medium-zoom-image--opened');\n        if (active.template) {\n          document.body.removeChild(active.template);\n        }\n\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleCloseEnd);\n\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:closed', {\n          detail: { zoom: zoom }\n        }));\n\n        active.original = null;\n        active.zoomed = null;\n        active.zoomedHd = null;\n        active.template = null;\n\n        resolve(zoom);\n      };\n\n      isAnimating = true;\n      document.body.classList.remove('medium-zoom--opened');\n      active.zoomed.style.transform = '';\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = '';\n      }\n\n      // Fade out the template so it's not too abrupt\n      if (active.template) {\n        active.template.style.transition = 'opacity 150ms';\n        active.template.style.opacity = 0;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:close', {\n        detail: { zoom: zoom }\n      }));\n\n      active.zoomed.addEventListener('transitionend', _handleCloseEnd);\n    });\n  };\n\n  var toggle = function toggle() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref3.target;\n\n    if (active.original) {\n      return close();\n    }\n\n    return open({ target: target });\n  };\n\n  var getOptions = function getOptions() {\n    return zoomOptions;\n  };\n\n  var getImages = function getImages() {\n    return images;\n  };\n\n  var getZoomedImage = function getZoomedImage() {\n    return active.original;\n  };\n\n  var images = [];\n  var eventListeners = [];\n  var isAnimating = false;\n  var scrollTop = 0;\n  var zoomOptions = options;\n  var active = {\n    original: null,\n    zoomed: null,\n    zoomedHd: null,\n    template: null\n\n    // If the selector is omitted, it's replaced by the options\n  };if (Object.prototype.toString.call(selector) === '[object Object]') {\n    zoomOptions = selector;\n  } else if (selector || typeof selector === 'string' // to process empty string as a selector\n  ) {\n      attach(selector);\n    }\n\n  // Apply the default option values\n  zoomOptions = _extends({\n    margin: 0,\n    background: '#fff',\n    scrollOffset: 40,\n    container: null,\n    template: null\n  }, zoomOptions);\n\n  var overlay = createOverlay(zoomOptions.background);\n\n  document.addEventListener('click', _handleClick);\n  document.addEventListener('keyup', _handleKeyUp);\n  document.addEventListener('scroll', _handleScroll);\n  window.addEventListener('resize', close);\n\n  var zoom = {\n    open: open,\n    close: close,\n    toggle: toggle,\n    update: update,\n    clone: clone,\n    attach: attach,\n    detach: detach,\n    on: on,\n    off: off,\n    getOptions: getOptions,\n    getImages: getImages,\n    getZoomedImage: getZoomedImage\n  };\n\n  return zoom;\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}\";\nstyleInject(css);\n\nexport default mediumZoom;\n","<template lang=\"pug\">\n.topsheets-finder.curate-content\n  top-sheet(v-for=\"sheet of topsheets\" :key=\"sheet\"\n    :fileSystemConfig=\"fileSystemConfig\"\n    :subfolder=\"subfolder\"\n    :files=\"files\"\n    :yaml=\"sheet\"\n    :allConfigFiles=\"allConfigFiles\"\n  )\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { title: 'Key Performance Indicators' },\n  },\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport { FileSystemConfig, YamlConfigs } from '@/Globals'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\nimport TopSheet from '@/components/TopSheet/TopSheet.vue'\n\nexport default defineComponent({\n  name: 'TopsheetsFinder',\n  i18n,\n  components: { TopSheet },\n  props: {\n    fileSystemConfig: { type: Object as PropType<FileSystemConfig>, required: true },\n    subfolder: { type: String, required: true },\n    files: { type: Array as PropType<string[]>, required: true },\n  },\n\n  computed: {\n    fileApi(): HTTPFileSystem {\n      return new HTTPFileSystem(this.fileSystemConfig)\n    },\n  },\n\n  data: () => {\n    return {\n      allConfigFiles: {} as YamlConfigs,\n      topsheets: [] as any[],\n    }\n  },\n\n  watch: {\n    subfolder() {\n      this.filesUpdated()\n    },\n    files() {\n      this.filesUpdated()\n    },\n  },\n\n  methods: {\n    async findTopsheetsForThisFolder(): Promise<string[]> {\n      this.allConfigFiles = await this.fileApi.findAllYamlConfigs(this.subfolder)\n      return Object.values(this.allConfigFiles.topsheets)\n    },\n    async filesUpdated() {\n      if (this.files.length) {\n        this.topsheets = await this.findTopsheetsForThisFolder()\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\nh3.curate-heading {\n  font-size: 1.8rem;\n  font-weight: bold;\n  color: var(--textFancy);\n  padding-top: 0.5rem;\n  margin-top: 0rem;\n  margin-bottom: 0.5rem;\n}\n\n.curate-content {\n  padding: 1rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.output-table {\n  width: 100%;\n  display: table;\n}\n\n.row {\n  display: table-row;\n}\n\n.cell {\n  padding-right: 1rem;\n  display: table-cell;\n  font-size: 1.1rem;\n}\n\n// .top-label {\n// }\n\n.top-value {\n  text-align: right;\n  font-weight: bold;\n}\n</style>\n","<template lang=\"pug\">\n.folder-browser\n\n  //- show network errors\n  .stripe.details(v-if=\"myState.errorStatus\")\n   .vessel\n    .badnews(v-html=\"myState.errorStatus\")\n\n  //- main content\n  .stripe.details(v-else)\n   .vessel\n\n    //- these are sections defined by viz-summary.yml etc\n    .curated-sections\n\n      //- file system folders\n      h3.curate-heading(v-if=\"myState.folders.length\")  {{ $t('Folders') }}\n\n      .curate-content(v-if=\"myState.folders.length\")\n        .folder-table\n          .folder(v-for=\"folder,i in myState.folders\"\n                  :key=\"folder.name\"\n                  :class=\"{fade: myState.isLoading, 'up-folder': i == 0}\"\n                  @click=\"openOutputFolder(folder)\"\n          )\n            p\n              i.fa(:class=\"i == 0 ? 'fa-arrow-up' : 'fa-folder-open'\")\n              | &nbsp;{{ cleanName(folder) }}\n\n      //- this is the content of readme.md, if it exists\n      .readme-header.markdown(v-if=\"myState.readme\")\n        .curate-content.markdown(v-html=\"myState.readme\")\n\n      //- MAPS: thumbnails of each viz map here\n      .section-maps(v-if=\"Object.keys(vizMaps).length\")\n        h3.curate-heading {{ $t('Maps')}}\n        .curate-content\n          .viz-table\n            .viz-grid-item(v-for=\"[index, viz] of Object.entries(vizMaps)\" :key=\"index\"\n                      @click=\"clickedVisualization(index)\")\n\n              .viz-frame\n                p.v-title: b {{ viz.title }}\n                p.v-filename {{ viz.config }}\n                p.v-plugin(:style=\"getTabColor(viz.component)\") {{ viz.component || 'dashboard' }}\n                component.viz-frame-component(\n                      v-show=\"false\"\n                      :is=\"viz.component\"\n                      :root=\"myState.svnProject.slug\"\n                      :subfolder=\"myState.subfolder\"\n                      :yamlConfig=\"viz.config\"\n                      :thumbnail=\"true\"\n                      :fileApi=\"myState.svnRoot\"\n                      :style=\"{'pointer-events': 'none'}\"\n                      @title=\"updateTitle(index, $event)\")\n\n      //- IMAGES here\n      .section-images(v-if=\"Object.keys(vizImages).length\")\n        h3.curate-heading {{ $t('Images')}}\n        .curate-content\n          .viz-image-table\n            .viz-image-grid-item(v-for=\"[index, viz] of Object.entries(vizImages)\" :key=\"index\"\n                      @click=\"clickedVisualization(index)\")\n\n              .viz-image-frame\n                component.viz-image-frame-component(\n                      :is=\"viz.component\"\n                      :root=\"myState.svnProject.slug\"\n                      :subfolder=\"myState.subfolder\"\n                      :yamlConfig=\"viz.config\"\n                      :thumbnail=\"true\"\n                      :fileApi=\"myState.svnRoot\"\n                      :style=\"{'pointer-events': 'auto'}\"\n                      @title=\"updateTitle(index, $event)\")\n                p {{ viz.title }}\n\n      //- FILES: individual links to files in this folder\n      //- this is DISABLED for Chrome API for now, because we\n      //- can't download those files via regular URL\n      .files-section(v-if=\"myState?.svnProject?.baseURL\")\n        h3.curate-heading(v-if=\"myState.files.length\") {{$t('Files')}}\n\n        .curate-content(v-if=\"myState.files.length\")\n          .file-table\n            .file(v-for=\"file in myState.files\" :key=\"file\"\n              :class=\"{fade: myState.isLoading}\"\n            )\n              a(:href=\"`${myState.svnProject.baseURL}/${myState.subfolder}/${file}`\") {{ cleanName(file) }}\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: {\n      Maps: 'Maps',\n      Images: 'Images',\n      Analysis: 'Analysis',\n      Files: 'Files',\n      Folders: 'Folders',\n      Topsheet: 'Topsheet',\n    },\n    de: {\n      Maps: 'Karten',\n      Images: 'Bilder',\n      Analysis: 'Ergebnisse',\n      Files: 'Dateien',\n      Folders: 'Ordner',\n      Topsheet: 'Topsheet',\n    },\n  },\n}\n\ninterface VizEntry {\n  component: string\n  config: string\n  title: string\n}\n\ninterface IMyState {\n  errorStatus: string\n  folders: string[]\n  files: string[]\n  isLoading: boolean\n  readme: string\n  svnProject: FileSystemConfig | null\n  svnRoot?: HTTPFileSystem\n  subfolder: string\n  summary: boolean\n  vizes: VizEntry[]\n  finalFolder: string\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport markdown from 'markdown-it'\nimport mediumZoom from 'medium-zoom'\nimport micromatch from 'micromatch'\nimport yaml from 'yaml'\n\nimport globalStore from '@/store'\nimport { BreadCrumb, FileSystemConfig, YamlConfigs } from '@/Globals'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\n\nimport TopsheetsFinder from '@/components/TopsheetsFinder/TopsheetsFinder.vue'\n\nconst tabColors = {\n  // blank means dashboard:\n  '': '#118860',\n  // others are kebab-case:\n  'aggregate-od': '#E98B52',\n  'vehicle-anim': '#330033',\n  'x-y-t': '#583270',\n  'carrier-viewer': '#c97A2C',\n  events: '#4400ff',\n  hexagons: '#900564',\n  'area-map': '#c94264',\n  network: '#894654',\n  sankey: '#D8A672',\n  summary: '#2EA95B',\n  transit: '#3B6FE4',\n} as any\n\nexport default defineComponent({\n  name: 'FolderBrowser',\n  i18n,\n  components: Object.assign({ TopsheetsFinder }, pluginComponents),\n  props: {\n    root: { type: String, required: true },\n    allConfigFiles: { type: Object as PropType<YamlConfigs>, required: true },\n    xsubfolder: String,\n  },\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      summaryYamlFilename: 'viz-summary.yml',\n      mdRenderer: new markdown({\n        html: true,\n        linkify: true,\n        typographer: true,\n      }),\n      myState: {\n        errorStatus: '',\n        folders: [],\n        files: [],\n        isLoading: false,\n        readme: '',\n        svnProject: null,\n        svnRoot: undefined,\n        subfolder: '',\n        vizes: [],\n        summary: false,\n        finalFolder: '',\n      } as IMyState,\n    }\n  },\n  computed: {\n    vizImages(): any {\n      const images: { [index: number]: any } = {}\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (this.myState.vizes[i].component === 'image-view') {\n          images[i] = this.myState.vizes[i]\n        }\n      }\n      return images\n    },\n\n    vizMaps(): any {\n      const maps: { [index: number]: any } = {}\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (this.myState.vizes[i].component !== 'image-view') {\n          maps[i] = this.myState.vizes[i]\n        }\n      }\n      return maps\n    },\n  },\n  methods: {\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    clickedVisualization(vizNumber: number) {\n      const viz = this.myState.vizes[vizNumber]\n\n      // special case: images don't click thru\n      if (viz.component === 'image-view') return\n\n      if (!this.myState.svnProject) return\n\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: this.myState.subfolder,\n        subfolder: this.myState.subfolder,\n        yamlConfig: viz.config,\n        thumbnail: false,\n      }\n\n      this.$emit('navigate', { component: viz.component, props })\n    },\n\n    updateTitle(viz: number, title: string) {\n      this.myState.vizes[viz].title = title\n    },\n\n    async showReadme() {\n      if (!this.myState.svnRoot) return\n      this.myState.readme = ''\n      const readme = 'readme.md'\n      const readmeIndex = this.myState.files.map(f => f.toLocaleLowerCase()).indexOf(readme)\n      if (readmeIndex > -1) {\n        const readmeFilename = this.myState.files[readmeIndex]\n        try {\n          const text = await this.myState.svnRoot.getFileText(\n            this.myState.subfolder + '/' + readmeFilename\n          )\n          this.myState.readme = this.mdRenderer.render(text)\n        } catch (e) {\n          // no readme\n        }\n      }\n    },\n\n    buildShowEverythingView() {\n      // loop on each viz type\n      for (const viz of this.globalState.visualizationTypes.values()) {\n        // match based on file patterns registered for each viz\n        const matches = micromatch(this.myState.files, viz.filePatterns, { nocase: true })\n        for (const file of matches) {\n          // add thumbnail for each matching file\n          this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n        }\n      }\n    },\n\n    // Curate the view, if viz-summary.yml exists\n    async buildCuratedSummaryView() {\n      if (!this.myState.svnRoot) return\n\n      const summaryYaml = yaml.parse(\n        await this.myState.svnRoot.getFileText(\n          this.myState.subfolder + '/' + this.summaryYamlFilename\n        )\n      )\n\n      // loop on each curated viz type\n      for (const vizName of summaryYaml.plugins) {\n        // load plugin user asked for\n        const viz = this.globalState.visualizationTypes.get(vizName)\n        if (!viz) continue\n\n        // curate file list if provided for this plugin\n        if (summaryYaml[viz.kebabName]) {\n          for (const pattern of summaryYaml[viz.kebabName]) {\n            // add thumbnail for each matching file\n            const matches = await this.findMatchingFiles(pattern)\n            for (const file of matches) {\n              this.myState.vizes.push({ component: viz.kebabName, config: file, title: file })\n            }\n          }\n        } else {\n          // filter based on file matching\n          const matches = micromatch(this.myState.files, viz.filePatterns)\n          for (const file of matches) {\n            // add thumbnail for each matching file\n            this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n          }\n        }\n      }\n    },\n\n    async findMatchingFiles(glob: string): Promise<string[]> {\n      // first see if file itself is in this folder\n      if (this.myState.files.indexOf(glob) > -1) return [glob]\n\n      // return globs in this folder\n      const matches = micromatch(this.myState.files, glob)\n      if (matches.length) return matches\n\n      // search subfolder for glob, for now just one subfolder down\n      if (!this.myState.svnRoot) return []\n      try {\n        const split = glob.split('/')\n        const subsubfolder = this.myState.subfolder + '/' + split[0]\n        console.log(subsubfolder)\n        const contents = await this.myState.svnRoot.getDirectory(subsubfolder)\n        const matches = micromatch(contents.files, split[1])\n        return matches.map(f => split[0] + '/' + f)\n      } catch (e) {\n        // oh well, we tried\n      }\n\n      return []\n    },\n\n    async fetchFolderContents() {\n      if (!this.myState.svnRoot) return []\n\n      this.myState.isLoading = true\n      this.myState.errorStatus = ''\n      this.myState.files = []\n\n      try {\n        const folderContents = await this.myState.svnRoot.getDirectory(this.myState.subfolder)\n\n        // hide dot folders\n        const folders = folderContents.dirs.filter(f => !f.startsWith('.')).sort()\n        const files = folderContents.files.filter(f => !f.startsWith('.')).sort()\n\n        // Also show any project-level viz thumbnails from other folders\n        // (but, ensure that files in this folder supercede any project viz files\n        // with the same name)\n        const mergedFilesAndVizes = Object.assign({}, this.allConfigFiles.vizes)\n        for (const file of files) {\n          mergedFilesAndVizes[file] = file\n        }\n\n        const allVizes = Object.values(mergedFilesAndVizes)\n\n        this.myState.errorStatus = ''\n        this.myState.folders = [' UP'].concat(folders)\n        this.myState.files = allVizes\n      } catch (err) {\n        // Bad things happened! Tell user\n        const e = err as any\n        console.log('BAD PAGE')\n        console.log({ eeee: e })\n\n        this.myState.folders = []\n        this.myState.files = []\n\n        this.myState.errorStatus = '<h3>'\n        if (e.status) this.myState.errorStatus += `${e.status} `\n        if (e.statusText) this.myState.errorStatus += `${e.statusText}`\n        if (this.myState.errorStatus === '<h3>') this.myState.errorStatus += 'Error'\n        this.myState.errorStatus += `</h3>`\n        if (e.url) this.myState.errorStatus += `<p>${e.url}</p>`\n        if (e.message) this.myState.errorStatus += `<p>${e.message}</p>`\n        if (this.myState.errorStatus === '<h3>Error</h3>') this.myState.errorStatus = '' + e\n\n        if (this.myState.svnProject) {\n          this.myState.errorStatus += `<p><i>${this.myState.svnProject.baseURL}${this.myState.subfolder}</i></p>`\n        }\n\n        // maybe it failed because password?\n        if (this.myState.svnProject && this.myState.svnProject.needPassword && e.status === 401) {\n          globalStore.commit('requestLogin', this.myState.svnProject.slug)\n        }\n      } finally {\n        this.myState.isLoading = false\n      }\n    },\n\n    openOutputFolder(folder: string) {\n      if (this.myState.isLoading) return\n      if (!this.myState.svnProject) return\n\n      if (folder === ' UP') {\n        this.$emit('up')\n        return\n      }\n\n      let target =\n        folder === '..'\n          ? this.myState.subfolder.substring(0, this.myState.subfolder.lastIndexOf('/'))\n          : this.myState.subfolder + '/' + folder\n      if (target.startsWith('/')) target = target.slice(1)\n\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: target,\n      }\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!target && !this.myState.subfolder) {\n        this.$emit('navigate', { component: 'SplashPage', props: {} })\n      } else {\n        this.$emit('navigate', { component: 'TabbedDashboardView', props })\n      }\n    },\n\n    getTabColor(kebabName: string) {\n      const color = tabColors[kebabName] || '#8778BB'\n      return { backgroundColor: color }\n    },\n\n    updateRoute() {\n      const svnProject = this.getFileSystem(this.root)\n\n      this.myState.svnProject = svnProject\n      this.myState.subfolder = this.xsubfolder || ''\n      this.myState.readme = ''\n\n      if (!this.myState.svnProject) return\n      this.myState.svnRoot = new HTTPFileSystem(this.myState.svnProject)\n\n      // this happens async\n      this.fetchFolderContents()\n    },\n  },\n  watch: {\n    'globalState.colorScheme'() {\n      // medium-zoom freaks out if color theme is swapped.\n      // so let's reload images just in case.\n      this.fetchFolderContents()\n    },\n    xsubfolder() {\n      this.updateRoute()\n    },\n    allConfigFiles() {\n      this.updateRoute()\n    },\n    'globalState.authAttempts'() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n    async 'myState.files'() {\n      // clear visualizations\n      this.myState.vizes = []\n      if (this.myState.files.length === 0) return\n\n      this.showReadme()\n\n      this.myState.summary = this.myState.files.indexOf(this.summaryYamlFilename) !== -1\n\n      if (this.myState.summary) {\n        await this.buildCuratedSummaryView()\n      } else {\n        this.buildShowEverythingView()\n      }\n\n      // make sure page is rendered before we attach zoom semantics\n      await this.$nextTick()\n      try {\n        setTimeout(() => {\n          mediumZoom('.medium-zoom', {\n            background: '#333344',\n          })\n        }, 250)\n      } catch (e) {\n        // oh well\n      }\n    },\n  },\n  mounted() {\n    this.updateRoute()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.folder-browser {\n  padding: 0 0.5rem;\n}\n.vessel {\n  margin: 0 0;\n  padding: 0rem 0rem 2rem 0rem;\n  max-width: $dashboardWidth + 3;\n}\n\n.white {\n  background-color: var(--bgBold);\n}\n\n.cream {\n  background-color: var(--bgCream);\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\nh3,\nh4 {\n  margin-top: 2rem;\n}\n\n.badnews {\n  border-left: 3rem solid #af232f;\n  margin: 0rem 0rem;\n  padding: 0.5rem 0rem;\n  background-color: #ffc;\n  color: $matsimBlue;\n}\n\n.viz-table {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n}\n\n.viz-grid-item {\n  z-index: 1;\n  // text-align: center;\n  margin: 4px 0 0 0;\n  padding: 0 0;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  vertical-align: top;\n  background-color: var(--bgCream5);\n  // border: var(--borderThin);\n  border-radius: 5px;\n}\n\n.viz-frame {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  flex: 1;\n  overflow: hidden;\n  padding: 5px 0 0 5px;\n  p {\n    margin: 0 0 0 0;\n    line-height: 1rem;\n    padding: 0 0;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-frame:hover {\n  background-color: var(--bgPanel);\n  transition: background-color 0.1s ease-in-out;\n}\n\n.viz-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.logo {\n  margin-left: auto;\n}\n\n.folder-table {\n  display: grid;\n  gap: 4px;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n  margin-bottom: 0px;\n  padding-left: 0px;\n}\n\n.folder {\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bgCream5);\n  padding: 0.25rem 0.75rem;\n  border-radius: 5px;\n  word-wrap: break-word;\n}\n\n.folder:hover {\n  background-color: var(--bgPanel);\n  // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08), 0 3px 10px 0 rgba(0, 0, 0, 0.08);\n  transition: background-color 0.1s ease-in-out;\n  color: var(--yellowHighlight);\n}\n\n.file-table {\n  display: grid;\n  row-gap: 0rem;\n  column-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.file {\n  word-break: break-all;\n  line-height: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.file a {\n  color: var(--textFancy);\n}\n\n.file a:hover {\n  color: var(--textLink);\n}\n\n.markdown {\n  padding: 1rem 0rem;\n}\n\n.curated-sections {\n  padding-top: 0rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.curate-heading {\n  padding: 0rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.readme-header {\n  font-size: 1.1rem;\n  padding-bottom: 1rem;\n}\n\nh3.curate-heading {\n  font-size: 1.8rem;\n  font-weight: bold;\n  color: var(--textBold);\n  padding-top: 0.5rem;\n  margin-top: 1rem;\n  line-height: 1.5rem;\n}\n\n.curate-content {\n  padding: 1rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.viz-image-table {\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n}\n\n.viz-image-grid-item {\n  z-index: 1;\n  text-align: center;\n  margin: 0 0;\n  padding: 0 0;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  vertical-align: top;\n  background-color: var(--bgBold);\n  border: var(--borderSymbology);\n}\n\n.viz-image-frame {\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  min-height: $thumbnailHeight;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    margin: auto 0 0 0;\n    background-color: var(--bgBold);\n    font-size: 1rem;\n    font-weight: bold;\n    line-height: 1.2rem;\n    padding: 0.5rem 0.5rem;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-image-frame:hover {\n  transition: box-shadow 0.1s ease-in-out;\n}\n\n.viz-image-frame-component {\n  background-color: var(--bgPanel);\n}\n\np.v-filename {\n  margin: 5px 0;\n}\n\np.v-plugin {\n  text-align: right;\n  text-transform: uppercase;\n  margin-left: auto;\n  color: white;\n  background-color: var(--bgCream3);\n  padding: 2px 3px;\n  // border-radius: 0 0 4px 0;\n}\n\n.up-folder {\n  background-color: var(--bgTreeItem);\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n  .warnings\n    .no-error(v-if=\"!state.statusErrors.length && !state.statusWarnings.length\")\n      p.check ☑️\n      p No issues for this page.\n\n    .has-errors(v-else)\n\n      .clear-button\n        b-button.is-small(\n          v-if=\"state.statusErrors.length || state.statusWarnings.length\"\n          type=\"is-warning is-outlined\"\n          expanded\n          @click=\"clearAllButtons()\"\n        ) Clear all messages\n\n      .message-area\n\n        h3(v-if=\"state.statusErrors.length\") Errors: {{state.statusErrors.length}}\n        .single-message(v-for=\"err,i in state.statusErrors\")\n          p(v-html=\"cleanError(err.msg)\" @click=\"toggleShowDescription(i, true)\")\n          .description(v-if=\"descriptionIndexListError.includes(i)\")\n            p(v-html=\"err.desc\")\n\n        h3(v-if=\"state.statusWarnings.length\") Warnings: {{state.statusWarnings.length}}\n        .single-message(v-for=\"err,i in state.statusWarnings\")\n          p(v-html=\"err.msg\" @click=\"toggleShowDescription(i, false)\")\n          .description(v-if=\"descriptionIndexListWarning.includes(i)\")\n            p(v-html=\"err.desc\")\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { sync: 'Sync folders', theme: 'Light/Dark', lang: 'EN/DE', split: 'Split view' },\n    de: { sync: 'Sync', theme: 'Hell/Dunkel', lang: 'DE/EN', split: 'Aufteilen' },\n  },\n}\n\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\n\nexport default defineComponent({\n  name: 'ErrorPanel',\n  i18n,\n  data: () => {\n    return {\n      state: globalStore.state,\n      showDescription: false,\n      descriptionIndexListWarning: [] as number[],\n      descriptionIndexListError: [] as number[],\n      isError: false,\n    }\n  },\n  watch: {\n    '$route.path'() {\n      this.clearAllButtons()\n    },\n  },\n  computed: {\n    headerTextColor() {\n      let color = {}\n      if (this.state.statusWarnings.length) color = { color: '#fe8' }\n      if (this.state.statusErrors.length) color = { color: '#f66' }\n      return color\n    },\n  },\n  methods: {\n    cleanError(message: string) {\n      if (!message) return ''\n\n      if (message.startsWith('Error: ')) return message.slice(7)\n      return message\n    },\n\n    clearAllButtons() {\n      this.$store.commit('clearAllErrors')\n\n      // if error panel is actually open and visible, switch to file panel\n      this.$emit('activate', { name: 'Files', class: 'BrowserPanel', onlyIfVisible: true })\n    },\n\n    toggleShowDescription(i: number, isError: boolean) {\n      this.isError = isError\n      if (isError) {\n        if (this.descriptionIndexListError.includes(i)) {\n          var index = this.descriptionIndexListError.indexOf(i)\n          this.descriptionIndexListError.splice(index, 1)\n        } else {\n          this.descriptionIndexListError.push(i)\n        }\n      } else {\n        if (this.descriptionIndexListWarning.includes(i)) {\n          var index = this.descriptionIndexListWarning.indexOf(i)\n          this.descriptionIndexListWarning.splice(index, 1)\n        } else {\n          this.descriptionIndexListWarning.push(i)\n        }\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.panel {\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 0 0;\n  color: var(--text);\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n  color: #ddd;\n}\n\na {\n  font-size: 1.1rem;\n}\n\n.top {\n  margin-top: 1rem;\n}\n\n.commands {\n  display: flex;\n  flex-direction: row;\n  // margin-right: -0.5rem;\n}\n\n.commands .button {\n  flex: 1;\n  color: #a19ebb;\n  margin-right: 0.25rem;\n  padding: 0 0;\n}\n\n.commands .button:hover {\n  color: var(--link);\n}\n\n.warnings {\n  display: flex;\n  flex-direction: column;\n  padding: 0rem 0rem;\n  margin: 0 0 0 0.25rem;\n  text-align: left;\n  font-size: 0.9rem;\n}\n\n.message-area {\n  text-indent: -8px;\n  margin-left: 8px;\n  margin-right: 4px;\n}\n\n.message-area h3 {\n  margin-top: 0.25rem;\n  font-size: 1rem;\n}\n\n.single-message {\n  list-style-position: outside;\n  cursor: pointer;\n}\n\n.description {\n  width: 100%;\n  height: min-content;\n  background-color: #5f7ba7;\n  margin-bottom: 0.25rem;\n  padding: 0 0.25rem;\n  text-indent: 0;\n  margin-left: 0px;\n  color: white;\n}\n\n.no-error p {\n  user-select: none;\n  text-align: center;\n}\n\n.check {\n  margin-top: 2rem;\n  margin-bottom: 0.5rem;\n  font-size: 2rem;\n}\n\n::-webkit-scrollbar-corner {\n  background: rgba(0, 0, 0, 0);\n}\n\np {\n  padding-bottom: 0.5rem;\n  line-height: 1.1rem;\n  list-style-type: square;\n  word-wrap: break-word;\n}\n\n.clear-button {\n  margin-right: 0.775rem;\n}\n\n@media only screen and (max-width: 640px) {\n}\n</style>\n","<template lang=\"pug\">\n.panel\n  .sw-leftpanel-top\n    .span(v-for=\"item,idx of topItems\" :key=\"`top-${idx}`\")\n      img.sw-nav-item(v-if=\"item.image\" :src=\"getUrl(item.image)\" :style=\"getStyle(item)\")\n      h3.sw-nav-item(v-else-if=\"item.section\") {{ getLabel(item)}}\n      .sw-nav-item(v-else-if=\"hasLabel(item)\")\n        p(v-if=\"item.url && item.url.startsWith('http')\"): a(:href=\"item.url\") {{ getLabel(item) }}\n        p(v-else-if=\"item.url\"): a(@click=\"navigate(item.url)\") {{ getLabel(item) }}\n        p(v-else) {{ getLabel(item) }}\n\n  .sw-leftpanel-middle\n    .span(v-for=\"item,idx of middleItems\" :key=\"`middle-${idx}`\" :style=\"getStyle(item)\")\n      img.sw-nav-item(v-if=\"item.image\" :src=\"getUrl(item.image)\" :style=\"getStyle(item)\")\n      h3.sw-nav-item(v-else-if=\"item.section\" :style=\"getStyle(item)\") {{ getLabel(item)}}\n      .sw-nav-item(v-else-if=\"hasLabel(item)\" :style=\"getStyle(item)\")\n        p(v-if=\"item.url\"): a(@click=\"navigate(item.url)\" :style=\"getStyle(item, true)\") {{ getLabel(item) }}\n        p(v-else :style=\"getStyle(item)\") {{ getLabel(item) }}\n\n  .sw-leftpanel-bottom\n    .span(v-for=\"item,idx of bottomItems\" :key=\"`bottom-${idx}`\")\n      img.sw-nav-item(v-if=\"item.image\" :src=\"getUrl(item.image)\" :style=\"getStyle(item)\")\n      h3.sw-nav-item(v-else-if=\"item.section\") {{ getLabel(item)}}\n      .sw-nav-item(v-else-if=\"hasLabel(item)\")\n        p(v-if=\"item.url\"): a(@click=\"navigate(item.url)\") {{ getLabel(item) }}\n        p(v-else) {{ getLabel(item) }}\n\n    //- .action-buttons\n    //-   p.show-hide(@click=\"$store.commit('setShowLeftBar', false)\")\n    //-     i.fas.fa-arrow-left\n    //-     | &nbsp;&nbsp;hide\n    //-   p.settings-icon(@click=\"$store.commit('rotateColors')\")\n    //-     i.fas.fa-adjust\n    //-     | &nbsp;&nbsp;{{ globalState.isDarkMode ? 'dark':'light' }}\n    //-   p.settings-icon(@click=\"updateLanguage\")\n    //-     i.fas.fa-globe\n    //-     | &nbsp;&nbsp;{{ globalState.locale }}\n    //-   p.settings-icon(@click=\"$emit('split', {root, xsubfolder: subfolder})\")\n    //-     i.fas.fa-columns\n    //-     | &nbsp;&nbsp;split\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: {},\n    de: {},\n  },\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport globalStore from '@/store'\nimport {\n  BreadCrumb,\n  FavoriteLocation,\n  FileSystemConfig,\n  NavigationItem,\n  YamlConfigs,\n} from '@/Globals'\n\nimport ErrorPanel from '@/components/left-panels/ErrorPanel.vue'\n\nconst components = Object.assign({ ErrorPanel })\n\nexport default defineComponent({\n  name: 'ProjectLeftPanel',\n  i18n,\n  components,\n  props: {\n    currentFolder: { type: String, required: true },\n    projectFolder: { type: String, required: true },\n    navRoot: { type: String, required: false },\n  },\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      subfolder: '',\n      root: '',\n      summaryYamlFilename: 'viz-summary.yml',\n      highlightedViz: -2, // -2:none, -1: dashboard, 0-x: tile\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      allRoots: [] as FileSystemConfig[],\n      errorStatus: '',\n      folders: [],\n      isLoading: false,\n    }\n  },\n  mounted() {\n    // this.updateShortcuts()\n    // this.updateFavorites()\n  },\n\n  watch: {\n    'globalState.leftNavItems'() {\n      console.log('CHANGED!!!')\n    },\n\n    subfolder() {\n      this.updateRoute()\n    },\n  },\n  computed: {\n    fileSystem(): FileSystemConfig {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === this.navRoot\n      )\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n      return svnProject[0]\n    },\n\n    topItems(): NavigationItem[] {\n      return this.globalState.leftNavItems?.top || []\n    },\n\n    middleItems(): NavigationItem[] {\n      return this.globalState.leftNavItems?.middle || []\n    },\n\n    bottomItems(): NavigationItem[] {\n      return this.globalState.leftNavItems?.bottom || []\n    },\n\n    hasErrors(): any {\n      return this.globalState.statusErrors.length > 0\n    },\n  },\n  methods: {\n    updateLanguage() {\n      this.$store.commit('setLocale', this.$store.state.locale == 'en' ? 'de' : 'en')\n      this.$root.$i18n.locale = this.$store.state.locale\n    },\n\n    hasLabel(item: NavigationItem): any {\n      return item.text || item.text_de || item.text_en\n    },\n\n    getLabel(item: NavigationItem): string {\n      let label = ''\n      if (this.$store.state.locale === 'de') {\n        label = item.text_de || item.text || item.text_en || 'item'\n      } else {\n        label = item.text_en || item.text || item.text_de || 'item'\n      }\n      return label\n    },\n\n    getUrl(url: string) {\n      if (url.startsWith('http')) return url\n\n      const fullUrl = `${this.fileSystem.baseURL}${url}`\n      return fullUrl\n    },\n\n    getStyle(item: any, isLink: boolean) {\n      let style = {} as any\n      if (item.style) Object.assign(style, item.style)\n\n      // Current folder gets special highlight\n      if (\n        isLink &&\n        item.url &&\n        this.currentFolder.length > 1 &&\n        item.url.indexOf(this.currentFolder) > -1\n      ) {\n        style.backgroundColor = '#e3e3e0'\n        style.borderRadius = '4px'\n        style.color = 'black'\n      }\n      return style\n    },\n\n    navigate(url: string) {\n      if (url.startsWith('http')) {\n        window.location.href = url\n      } else {\n        // is subfolder absolute path or relative to project?\n        const xsubfolder = url.startsWith('/') ? url : `${this.projectFolder}/${url}`\n\n        const props = {\n          root: this.navRoot || '',\n          xsubfolder,\n          thumbnail: false,\n        }\n\n        this.$emit('navigate', {\n          component: 'TabbedDashboardView',\n          props,\n        })\n      }\n    },\n\n    updateRoute() {\n      if (!this.root) return\n\n      this.subfolder = this.subfolder || ''\n      this.highlightedViz = -2\n    },\n\n    authenticationChanged() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n\n    updateShortcuts() {\n      const roots = this.globalState.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    clickedOnFolder(props: { root: string }) {\n      // if (this.myState.isLoading) return\n\n      const rootPage = {\n        component: 'TabbedDashboardView',\n        props: {\n          root: props.root,\n          xsubfolder: '',\n        },\n      }\n\n      this.$emit('navigate', rootPage)\n      return\n    },\n\n    clickedLogo() {\n      this.$router.push('/')\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n.panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  user-select: none;\n  font-size: 0.9rem;\n  color: #eee;\n  background-color: $themeColorPale;\n}\n\n.sw-leftpanel-top {\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  color: $colorPurple;\n}\n\nh1 {\n  letter-spacing: -1px;\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\nh3 {\n  font-family: $mainFont;\n  font-size: 1rem;\n  line-height: 1.1rem;\n  margin-top: 1.5rem;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.25rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #ddd;\n}\n\n.sw-leftpanel-middle,\n.sw-leftpanel-bottom {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n  user-select: none;\n\n  p,\n  a {\n    max-width: 100%;\n    overflow-wrap: break-word;\n  }\n}\n\n.sw-leftpanel-middle {\n  padding-top: 1rem;\n  flex: 1;\n}\n\n// .sw-leftpanel-bottom {\n// }\n\n.fade {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.fa-arrow-up {\n  margin-right: 2px;\n}\n\n.flex-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.highlighted {\n  background-color: var(--bgHover);\n}\n\n.sw-nav-item {\n  padding: 0 1rem 1px 1rem;\n  a {\n    margin-left: -4px;\n    padding: 2px 4px;\n    color: #ccc;\n  }\n  a:hover {\n    color: $yellowHighlight;\n  }\n}\n\nimg.sw-nav-item {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  max-height: 7rem;\n}\n\n.root {\n  font-weight: bold;\n  color: #5fe2a7; // $appTag;\n}\n\n.description {\n  font-size: 0.75rem;\n  margin-top: -2px;\n}\n\n.action-buttons {\n  background-color: #48485f;\n  margin-top: 1.25rem;\n  display: flex;\n  flex-direction: row;\n\n  p {\n    padding: 2px 0;\n    font-size: 0.8rem;\n    text-align: center;\n    vertical-align: center;\n    flex: 1;\n  }\n\n  p:hover {\n    background-color: #3c3c49;\n    color: $yellowHighlight;\n    cursor: pointer;\n  }\n}\n\n.settings-icon {\n  border-left: 1px solid #888;\n}\n</style>\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// credits go to https://stackoverflow.com/a/5624139/491075\nvar hexToRgb = exports.hexToRgb = function hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isDarkColor = undefined;\n\nvar _hexToRgb2 = require('./hexToRgb');\n\n// adapted from https://stackoverflow.com/a/3943023/491075\nvar isDarkColor = exports.isDarkColor = function isDarkColor(hexColor, options) {\n  if (options && options.override) {\n    var overridedColor = Object.keys(options.override).find(function (k) {\n      return k.toLowerCase() === hexColor.toLowerCase();\n    });\n    if (overridedColor !== undefined) {\n      return options.override[overridedColor];\n    }\n  }\n\n  var _hexToRgb = (0, _hexToRgb2.hexToRgb)(hexColor),\n      r = _hexToRgb.r,\n      g = _hexToRgb.g,\n      b = _hexToRgb.b;\n\n  var colorArray = [r / 255, g / 255, b / 255].map(function (v) {\n    if (v <= 0.03928) {\n      return v / 12.92;\n    }\n\n    return Math.pow((v + 0.055) / 1.055, 2.4);\n  });\n\n  var luminance = 0.2126 * colorArray[0] + 0.7152 * colorArray[1] + 0.0722 * colorArray[2];\n\n  return luminance <= 0.179;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _isDarkColor = require('./isDarkColor');\n\nexports.default = _isDarkColor.isDarkColor;\nmodule.exports = exports['default'];","<template lang=\"pug\">\nb-navbar#site-nav-bar(\n  :style=\"getNavbarStyle(navbar)\"\n  :type=\"isDark ? 'is-black' : 'is-white'\"\n)\n\n  template(\"#brand\" v-if=\"navbar.logo\")\n    b-navbar-item(\n      @click=\"navigate(navbar.logo.url)\" :style=\"getStyle(navbar.logo)\"\n    ): img(:src=\"navbar.logo.image\" :style=\"getStyle(navbar.logo)\")\n\n  template(\"#start\")\n\n    component(v-for=\"item,i in navbar.left\" :key=\"`${i}`\"\n      hoverable\n      :is=\"item.dropdown ? 'BNavbarDropdown' : 'BNavbarItem'\"\n      :style=\"getStyle(item)\"\n      :label=\"item.dropdown ? getLabel(item) : undefined\"\n      @click=\"navigate(item.url)\"\n    ) {{ item.dropdown ? undefined : getLabel(item) }}\n\n      b-navbar-item(v-for=\"child in item.dropdown\" :key=\"`child-${i}`\"\n        @click=\"navigate(child.url)\"\n      ) {{ getLabel(child) }}\n\n  template(\"#end\")\n\n    component(v-for=\"item,i in navbar.right\" :key=\"`${i}`\"\n      hoverable\n      :is=\"item.dropdown ? 'BNavbarDropdown' : 'BNavbarItem'\"\n      :style=\"getStyle(item)\"\n      :label=\"item.dropdown ? getLabel(item) : undefined\"\n      @click=\"navigate(item.url)\"\n    ) {{ item.dropdown ? undefined : getLabel(item) }}\n\n      b-navbar-item(v-for=\"child,j in item.dropdown\" :key=\"`child-${j}`\"\n        @click=\"navigate(child.url)\"\n      ) {{ getLabel(child) }}\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport isDarkColor from 'is-dark-color'\n\nimport type { NavigationItem } from '@/Globals'\nexport default defineComponent({\n  name: 'SiteNavBar',\n  components: {},\n\n  props: {\n    currentFolder: { type: String, required: true },\n    projectFolder: { type: String, required: true },\n  },\n\n  data: () => {\n    return {\n      selectedGroup: -1,\n      isDark: false,\n    }\n  },\n\n  computed: {\n    navbar() {\n      const items = this.$store.state.topNavItems\n      if (!items) return { left: [], right: [], baseURL: '' }\n\n      return items\n    },\n  },\n\n  methods: {\n    hasLabel(item: NavigationItem): any {\n      return item.text || item.text_de || item.text_en\n    },\n\n    getLabel(item: NavigationItem): string {\n      let label = ''\n      if (this.$store.state.locale === 'de') {\n        label = item.text_de || item.text || item.text_en || 'item'\n      } else {\n        label = item.text_en || item.text || item.text_de || 'item'\n      }\n      return label\n    },\n\n    getUrl(url: string) {\n      if (url.startsWith('http')) return url\n\n      const baseURL = this.navbar.baseURL\n      const fullUrl = `${baseURL}${url}`\n      return fullUrl\n    },\n\n    getStyle(item: any) {\n      const style = {} as any\n      if (item.style) Object.assign(style, item.style)\n      return style\n    },\n\n    getNavbarStyle(item: any) {\n      const style = {} as any\n      if (item.style) Object.assign(style, item.style)\n\n      // light or dark?\n      const darks = ['black', 'blue', 'brown', 'green', 'red', 'purple']\n      if (darks.includes(style.backgroundColor)) this.isDark = true\n      if (style.backgroundColor && style.backgroundColor.startsWith('#')) {\n        this.isDark = isDarkColor(style.backgroundColor)\n      }\n      // override text color\n      if ('useDarkText' in style) this.isDark = !style.useDarkText\n      return style\n    },\n\n    navigate(url: string, group: number) {\n      if (group !== undefined) this.selectedGroup = group\n\n      if (url.startsWith('http')) {\n        window.location.href = url\n      } else {\n        // is subfolder absolute path or relative to project?\n        const xsubfolder = url.startsWith('/') ? url : `${this.projectFolder}/${url}`\n\n        const props = {\n          root: this.$store.state.topNavItems.fileSystem.slug || '',\n          xsubfolder,\n          thumbnail: false,\n        }\n\n        this.$emit('navigate', {\n          component: 'TabbedDashboardView',\n          props,\n        })\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n#site-nav-bar {\n  user-select: none;\n}\n</style>\n","<template lang=\"pug\">\n.svn-projects\n  .project(v-for=\"source in sources\" :key=\"source.url\"\n      @click='openProjectPage(source)'\n      @click.middle='openProjectTab(source)'\n      @click.meta='openProjectTab(source)'\n      @click.ctrl='openProjectTab(source)'\n      )\n      .desc\n        h3 {{ source.name }}\n        p {{ source.description }}\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\nimport { FileSystemConfig } from '@/Globals'\n\nexport default defineComponent({\n  name: 'FileSystemComponents',\n  data: () => {\n    return {\n      sources: [] as FileSystemConfig[],\n    }\n  },\n  mounted() {\n    this.sources = globalStore.state.svnProjects.filter(\n      source => !source.hidden && !source.slug.startsWith('fs')\n    )\n  },\n  methods: {\n    openProjectPage(source: FileSystemConfig) {\n      const destination: any = Object.assign({}, source)\n\n      destination.component = 'TabbedDashboardView'\n      destination.props = {\n        root: source.slug,\n        xsubfolder: '',\n      }\n      this.$emit('navigate', destination)\n    },\n\n    openProjectTab(source: any) {\n      window.open(source, '_blank')\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.svn-projects {\n  display: grid;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n  gap: 2rem;\n}\n\n.project {\n  flex: 1;\n  cursor: pointer;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bgBold);\n  border-radius: 16px;\n  border: 1px solid var(--bgPanel3);\n}\n\n.desc h3 {\n  color: var(--text);\n  margin-bottom: 0.25rem;\n}\n\n.desc p {\n  font-size: 0.9rem;\n}\n\n.project .desc {\n  padding: 1rem 1rem;\n}\n\n.project:hover {\n  // background-color: var(--bgHover);\n  box-shadow: var(--shadowMode);\n}\n\n@media only screen and (max-width: 64em) {\n  .svn-projects {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n\n@media only screen and (max-width: 40em) {\n  .svn-projects {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .project {\n    margin-bottom: 1rem;\n  }\n}\n</style>\n","export default \"__VITE_ASSET__dbaae888__\"","<template lang=\"pug\">\n.splash-page\n  .splash-scroll-area.white-text\n\n    .diagonal.top-logo-area\n      .content\n\n        .top-banner.flex-row\n          .flex1\n            img.simwrapper-logo(src=\"@/assets/simwrapper-logo/SW_logo_white.png\")\n            //- img(v-if=\"state.isDarkMode\" src=\"@/assets/simwrapper-logo/SW_logo_yellow.png\")\n            //- img(v-else src=\"@/assets/simwrapper-logo/SW_logo_purple.png\")\n\n        .tagline The transport simulation data visualizer from TU Berlin.\n\n    //- DATA SOURCES -------------------------------------------------------------------\n    .diagonal.data-area\n      .content\n\n        h2.section-head Explore Data Sources\n        p\n          | Configure more data sources from the&nbsp;\n          a(@click=\"openDataStrip()\") data\n          | &nbsp;tab on the left-side strip.\n\n        .roots\n          .project-root(v-for=\"project in mainRoots\" :key=\"project.slug\"\n            @click=\"clickedOnFolder({root: project.slug})\"\n          )\n            h5 {{ project.name }}\n            p {{ project.description }}\n\n        .section-head.is-chrome(v-if=\"isChrome\")\n          h2 Local Folders\n\n          p(v-if=\"!localFileHandles.length\") This Chromium-based browser can access local folders that you authorize on a per-folder basis. To explore files on your local filesystem right now:\n\n          .roots\n            .project-root.local.mb1(v-for=\"row in localFileHandles\" :key=\"row.key\"\n              @click=\"clickedBrowseChromeLocalFolder(row)\")\n\n              h5.remove-local(style=\"flex: 1;\") {{ row.handle.name}}\n                i.fa.fa-times(@click.stop=\"clickedDelete(row)\")\n              p Local folder\n\n          b-button.config-sources(\n            type=\"is-success\"\n            @click=\"showChromeDirectory\"\n          ) Open local folder...\n\n\n    //- WHAT IS SIMWRAPPER  ------------------------------------------------------\n\n    .diagonal.newbie-area.white-text\n      .content\n\n        h2.section-head.mb1 What is SimWrapper?\n\n        img.screenshot(:src=\"screenshots.berlin\")\n\n        p\n          | SimWrapper is a unique, web-based data visualization tool for researchers building disaggregate transportation simulations with software such as&nbsp;\n          a(href=\"https://matsim.org\") MATSim\n          | &nbsp;and&nbsp;\n          a(href=\"https://activitysim.github.io\") ActivitySim.\n\n        p Explore simulation results directly, or create interactive project dashboards with Simwrapper. It provides many statistical views and chart types, just like other visualization frameworks. But SimWrapper also knows a lot about transportation, and has good defaults for producing visualizations of network link volumes, agent movements through time, aggregate area maps, scenario comparison, and a lot more.\n\n        p You don't need to be a coder to use SimWrapper -- you point it at your files and write some small text configuration files to tell SimWrapper what to do. SimWrapper does the rest!\n\n        p If you do know JavaScript, the open-source code and plugin architecture of SimWrapper allows you to fork the project and create your own visualizations, too. But you don't need to know JavaScript if SimWrapper already does what you need.\n\n        p\n          | SimWrapper is a\n          b &nbsp;100% client-side&nbsp;\n          | browser application. There is no back-end database, no tracking cookies, and no data is transferred from your browser to any server; everything on your computer stays on your local computer.\n\n\n    //- GETTING STARTED ------------------------------------------------------\n\n    .diagonal.data-area.white-text\n      .content\n\n        h2.section-head.mb1 Getting started with SimWrapper\n\n        h4.mb1 Tutorials and Documentation\n\n        p SimWrapper is not like other websites. Please read the docs! The main SimWrapper documentation has everything you need to get started.\n\n        b-button.config-sources(\n            type=\"is-warning\"\n            @click=\"showDocumentation\"\n        ) Go to Documentation...\n\n\n        h4.pt1 Example dashboards\n\n        p Explore these example dashboards to get a feeling for what SimWrapper can do:\n\n        .roots\n          .project-root.example-root(v-for=\"project in exampleRoots\" :key=\"project.slug\"\n            @click=\"clickedOnFolder({root: project.slug})\"\n          )\n            h5 {{ project.name }}\n            p {{ project.description }}\n\n        .chrome-section(v-if=\"isChrome\")\n          h4.pt1 Local files on this computer\n\n          p(v-if=\"isChrome\")\n            | This is a Chromium-based browser. You can start exploring files on your own computer right now (\n            a(href=\"https://simwrapper.github.io/docs/#how-simwrapper-works\") see docs&nbsp;\n            | for file management details):\n\n          b-button.config-sources(\n            type=\"is-success\"\n            @click=\"showChromeDirectory\"\n          ) Open local folder...\n\n\n    //- SPONSORS -------------------------------------------------------------------\n\n    .diagonal.sponsors-area.dark-text\n      .content\n\n        h2.section-head Funding partners\n\n        .links-and-logos\n          .logos: a(v-for=\"logo in allLogos\"\n                    :href=\"logo.url\"\n                    :title=\"logo.name\"\n                    target=\"_blank\"\n                  ): img.img-logo(:src=\"logo.image\")\n\n        p Funded by TU Berlin, the German Bundesministerium für Bildung und Forschung, and the ActivitySim Consortium member agencies above.\n\n\n    //- FOOTER -------------------------------------------------------------------\n\n    .diagonal.footer-area.white-text\n      .content\n\n\n        .flex-row\n          .legal.flex1\n            h4.section-head SimWrapper, © 2024 Technische Universität Berlin\n            p SimWrapper is open source and available on&nbsp;\n              a(href=\"https://github.com/simwrapper/simwrapper\") GitHub.\n            p\n              a(href=\"https://vsp.berlin/en/\" target=\"_blank\") VSP&nbsp;TU&nbsp;Berlin\n              a(href=\"https://vsp.berlin/impressum/\" target=\"_blank\") Impressum\n              a(href=\"https://www.vsp.tu-berlin.de/menue/service/privacy/parameter/en/\" target=\"_blank\") Privacy\n\n          .badges\n            img.vsp-logo(src=\"@/assets/vsp-logo/vsp-2023-logo.png\")\n\n\n</template>\n\n<script lang=\"ts\">\n// Typescript doesn't know the Chrome File System API\ndeclare const window: any\n\nconst i18n = {\n  messages: {\n    en: {\n      'more-info': 'Documentation:',\n      tagLine: 'the simulation browser and data visualizer from TU&nbsp;Berlin.',\n      privacy:\n        'SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.\\n\\nSimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.',\n    },\n    de: {\n      'more-info': 'Für weitere Informationen:',\n      tagLine: 'Der Modellergebnis-Browser der TU Berlin.',\n    },\n  },\n}\n\nimport { defineComponent } from 'vue'\nimport { get, set, clear } from 'idb-keyval'\n\nimport globalStore from '@/store'\nimport FileSystemProjects from '@/components/FileSystemProjects.vue'\nimport InfoBottom from '@/assets/info-bottom.md'\nimport { FileSystemConfig } from '@/Globals'\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\n\nimport SCREENSHOT_BERLIN from '@/assets/screenshots/berlin.jpg'\n\nconst BASE_URL = import.meta.env.BASE_URL\n\nconst logos = [\n  { url: 'https://tu.berlin', image: 'tu-logo.png', name: 'TU Berlin' },\n  { url: 'https://vsp.berlin/en/', image: 'vsp-logo-300dpi.png', name: 'VSP TU-Berlin' },\n  { url: 'https://matsim.org/', image: 'matsim-logo-blue.png', name: 'MATSim' },\n  { url: 'https://bmbf.de', image: 'bmbf-logo.png', name: 'German Federal BMBF' },\n  { url: 'https://metrocouncil.org/', image: 'metcouncil.png', name: 'Met Council' },\n  { url: 'https://www.sfcta.org/', image: 'sfcta.png', name: 'SFCTA' },\n  { url: 'http://www.sandag.org/', image: 'sandag.jpg', name: 'SANDAG' },\n  { url: 'https://mtc.ca.gov/', image: 'mtc.png', name: 'MTC' },\n  { url: 'https://www.mwcog.org/', image: 'mwcog.png', name: 'MWCOG' },\n  { url: 'https://www.oregon.gov/ODOT', image: 'oregondot.png', name: 'Oregon DOT' },\n  { url: 'https://www.transportation.ohio.gov/', image: 'ohiodot.png', name: 'Ohio DOT' },\n  { url: 'https://www.psrc.org/', image: 'psrc.png', name: 'Puget Sound Regional Council' },\n  { url: 'https://atlantaregional.org/', image: 'arc.png', name: 'ARC' },\n  { url: 'http://semcog.org/', image: 'semcog.jpg', name: 'SEMCOG' },\n]\n\nexport default defineComponent({\n  name: 'SplashPage',\n  i18n,\n  components: { FileSystemProjects, InfoBottom },\n  data: () => {\n    return {\n      state: globalStore.state,\n      allRoots: [] as FileSystemConfig[],\n      screenshots: {\n        berlin: SCREENSHOT_BERLIN,\n      },\n    }\n  },\n  computed: {\n    allLogos(): any[] {\n      return logos.map(p => {\n        return { url: p.url, image: `${BASE_URL}images/logos/${p.image}` }\n      })\n    },\n\n    exampleRoots(): FileSystemConfig[] {\n      return this.allRoots.filter(f => f.example)\n    },\n\n    mainRoots(): FileSystemConfig[] {\n      return this.allRoots.filter(f => !!!f.example)\n    },\n\n    isChrome() {\n      return !!window.showDirectoryPicker\n    },\n\n    localFileHandles(): any[] {\n      // sort a copy of the array so we don't get an infinite loop\n      return this.$store.state.localFileHandles\n        .concat()\n        .sort((a: any, b: any) =>\n          parseInt(a.key.substring(2)) < parseInt(b.key.substring(2)) ? -1 : 1\n        )\n    },\n  },\n  methods: {\n    onNavigate(event: any) {\n      // pass it on up\n      console.log('ZZLDIJFSD', event)\n      this.$emit('navigate', event)\n    },\n\n    showDocumentation() {\n      console.log('here')\n      window.location.href = 'https://simwrapper.github.io/docs'\n    },\n\n    updateShortcuts() {\n      const roots = this.state.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    configureSources() {\n      this.$emit('activate', { name: 'Settings', class: 'SettingsPanel' })\n    },\n\n    clickedOnFolder(props: { folder: string; i: number; root: string }) {\n      const { folder, root, i } = props\n\n      let destination = `${root}`\n      if (folder) destination += `/${folder}`\n\n      this.$emit('navigate', {\n        component: 'TabbedDashboardView',\n        props: {\n          root,\n          xsubfolder: '',\n        },\n      })\n    },\n\n    async clickedBrowseChromeLocalFolder(row: { key: string; handle: any }) {\n      try {\n        const status = await row.handle.requestPermission({ mode: 'read' })\n        console.log(row.handle, status)\n\n        if (status !== 'granted') return\n\n        // if first time, add its key to the fileSystemConfig\n        const exists = fileSystems.find(f => f.slug == row.key)\n        if (!exists) addLocalFilesystem(row.handle, row.key)\n\n        const props = { root: row.key } as any\n        this.clickedOnFolder(props)\n      } catch (e) {\n        console.error('' + e)\n      }\n    },\n\n    async showChromeDirectory() {\n      try {\n        const FileSystemDirectoryHandle = window.showDirectoryPicker()\n        const dir = await FileSystemDirectoryHandle\n        const slug = addLocalFilesystem(dir, null) // no key yet\n        this.$router.push(`${BASE_URL}${slug}/`)\n      } catch (e) {\n        // shrug\n      }\n    },\n\n    async clickedDelete(row: { key: string; handle: any }) {\n      const handles = this.$store.state.localFileHandles\n      // just filter out the key I guess?\n      const filtered = handles.filter((f: any) => f.key !== row.key)\n\n      // and save it everywhere\n      await set('fs', filtered)\n      this.$store.commit('setLocalFileSystem', filtered)\n    },\n\n    openDataStrip() {\n      this.$store.commit('setShowLeftStrip', true)\n      this.$store.commit('setShowLeftBar', true)\n    },\n  },\n  mounted() {\n    // set initial breadcrumbs if we don't have any yet\n    if (!this.state.breadcrumbs.length) {\n      const crumbs = [{ label: 'SimWrapper', url: '/' }]\n      globalStore.commit('setBreadCrumbs', crumbs)\n    }\n\n    this.updateShortcuts()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n$angle: 1.25deg;\n\n.splash-page {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.splash-scroll-area {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.content {\n  transform: skewY($angle);\n  margin-bottom: 2rem;\n}\n\n.diagonal {\n  transform: skewY(-$angle);\n  padding: 3rem 2rem 0.5rem 2rem;\n}\n\n.top-logo-area {\n  // background-image: linear-gradient(45deg, #0c8ed3, #8f00ff);\n  margin-top: -2rem;\n  padding-bottom: 1rem;\n}\n\n.sponsors-area {\n  background-color: white;\n  margin-bottom: 1rem;\n  padding-bottom: 2rem;\n  color: #333;\n}\n\nh2 {\n  font-size: 1.9rem;\n  margin-bottom: 1px;\n}\n\nh4 {\n  padding: 1rem 0 0 0;\n}\n\n.data-area {\n  background-color: #222a35;\n  padding-bottom: 2rem;\n}\n\n.white-text {\n  color: #eee;\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: #eee;\n  }\n}\n\n.dark-text {\n  color: #335;\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: #335;\n  }\n}\n\n// .footer-area {\n// }\n\n// hello --------------------------\n\na {\n  color: #65d68f;\n}\n\na:hover {\n  color: #a8ffc8;\n}\n\n.simwrapper-logo {\n  max-width: 250px;\n  margin-top: 0.75rem;\n}\n\n.vsp-logo {\n  max-width: 300px;\n  margin-top: 0.5rem;\n  margin-bottom: 0rem;\n}\n\n.links-and-logos {\n  margin-top: 0.5rem;\n  padding: 1rem 0rem;\n  display: flex;\n  flex-direction: row;\n  color: #227;\n  background-color: white;\n  max-width: 60rem;\n}\n.logos {\n  display: grid;\n  gap: 3rem;\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n  padding: 2rem 0rem;\n\n  a {\n    margin: 0 auto;\n  }\n}\n\nh2.splash-readme {\n  padding: 1rem 1rem 0 1rem;\n  font-size: 1.5rem;\n  font-weight: normal;\n  line-height: 1.8rem;\n}\n\n.funding {\n  font-size: 0.9rem;\n  margin: 0.5rem 0 0.5rem 0;\n}\n\n.legal {\n  // padding: 0rem 2rem 0rem 2rem;\n  // display: flex;\n  p {\n    margin: 0 0;\n  }\n  a {\n    margin-right: 0.75rem;\n  }\n  a:hover {\n    color: #a8ffc8;\n  }\n}\n\n.img-logo {\n  height: 5rem;\n  object-fit: contain;\n}\n\n.project-root {\n  display: flex;\n  flex-direction: column;\n  margin-top: 0.75rem;\n  padding: 0.5rem 0.5rem;\n  background-color: #181818;\n  border-left: 3px solid #29d09a;\n  border-right: 1px solid #8888aa00;\n  border-top: 1px solid #8888aa00;\n  border-bottom: 1px solid #8888aa00;\n\n  h5 {\n    font-size: 1rem;\n    line-height: 1rem;\n    font-weight: bold;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    line-height: 1.1rem;\n  }\n}\n\n.project-root.local {\n  border-left: 3px solid $matsimBlue;\n}\n\n// .local {\n// }\n\n.mb1 {\n  margin-bottom: 1rem;\n}\n\n.pt1 {\n  padding-top: 2.5rem;\n}\n\n.project-root:hover {\n  cursor: pointer;\n  background-color: #34618b;\n  transition: background-color 0.1s ease-in-out;\n  border-right: 1px solid #66666640;\n  border-top: 1px solid #66666640;\n  border-bottom: 1px solid #66666640;\n}\n\n.fa-times {\n  opacity: 0;\n  float: right;\n  padding: 1px 1px;\n}\n\n.fa-times:hover {\n  color: red;\n}\n\n.fa-times:active {\n  color: darkred;\n}\n\n.project-root:hover .fa-times {\n  opacity: 0.15;\n}\n\n.project-root:hover .fa-times:hover {\n  opacity: 1;\n}\n\n.config-sources {\n  opacity: 0.85;\n}\n\n.roots {\n  display: grid;\n  gap: 0rem 0.75rem;\n  grid-template-columns: repeat(auto-fit, 18rem);\n  list-style: none;\n  font-size: 0.9rem;\n}\n\n.section-head {\n  margin-top: 0rem;\n}\n\n.tagline {\n  font-size: 1.8rem;\n  margin: 0rem 0 1rem 0rem; // 2.4rem\n  font-weight: 100;\n  line-height: 2rem;\n}\n\n.is-chrome {\n  margin-top: 2rem;\n}\n\n.newbie-area {\n  font-size: 1.1rem;\n  background-image: linear-gradient(45deg, rgb(7, 103, 57), #2a2de0); // #5e1419\n  padding-bottom: 1rem;\n}\n\n.example-root {\n  margin-top: 0;\n}\n\n.screenshot {\n  float: right;\n  width: 20rem;\n  padding: 0.5rem;\n}\n</style>\n","export default \"__VITE_ASSET__08181573__\"","export default \"__VITE_ASSET__542a5eb3__\"","<template lang=\"pug\">\n.panel\n\n  .top-panel\n    h4 Split View\n\n\n    .trail(v-if=\"root\")\n      .x-home\n        p(@click=\"clickedBreadcrumb({url: '//'})\")\n          i.fa.fa-home\n\n      .x-breadcrumbs(v-if=\"root\")\n        p(v-for=\"crumb,i in globalState.breadcrumbs.slice(1)\" :key=\"crumb.url\"\n          @click=\"clickedBreadcrumb(crumb)\"\n          @dragstart=\"dragBreadCrumb($event, crumb.url)\"\n          @dragend=\"dragEnd\"\n          draggable\n        ) &nbsp;&bullet;&nbsp;{{ crumb.label }}\n\n  .middle-panel\n\n      .hint-clicks(style=\"margin-bottom: 1rem; opacity: 1\")\n          p\n            b Drag a folder&nbsp;\n            | from here to the main window area to open side-by-side.\n\n\n      //- Starting point if not in a project root: list all existing roots\n      .curated-sections(v-if=\"!root\")\n\n        .is-chrome(v-if=\"isChrome\")\n          h3 Local Folders\n\n          p(v-if=\"!localFileHandles.length\") Chrome & Edge can browse folders directly:\n          .project-root.local(v-for=\"row in localFileHandles\" :key=\"row.key\"\n            @click=\"clickedBrowseChromeLocalFolder(row)\"\n            @dragstart=\"dragStart($event, row.slug)\"\n            @dragend=\"dragEnd\"\n            draggable\n          )\n\n            h5.remove-local(style=\"flex: 1;\") {{ row.handle.name}}\n            p Local folder\n\n          p.config-sources: a(@click=\"showChromeDirectory\") Add local folder...\n\n        h3(style=\"margin-top: 1rem\") Data Sources\n\n        .project-root(v-for=\"project in allRoots\" :key=\"project.slug\"\n          @click=\"clickedOnFolder({root: project.slug})\"\n          @dragstart=\"dragStart($event, project.slug)\"\n          @dragend=\"dragEnd\"\n          draggable\n        )\n          h5 {{ project.name }}\n          p {{ project.description }}\n\n\n      //- Starting point if in a project folder: -------------------------\n      .curated-sections(v-else)\n\n        h3.curate-heading(\n          @dragstart=\"dragStart($event, subfolder)\"\n          @dragend=\"dragEnd\"\n          draggable\n        ) {{ globalState.breadcrumbs[globalState.breadcrumbs.length - 1].label }}\n\n        .curate-content(v-if=\"myState.folders.length\")\n\n          .folder-table\n\n            .folder(v-for=\"folder,i in myState.folders\" :key=\"folder\"\n              :class=\"{fade: myState.isLoading, upfolder: i == 0}\"\n              @dragstart=\"dragStart($event, `${myState.subfolder}/${folder}`)\"\n              @dragend=\"dragEnd\"\n              @click=\"clickedOnFolder({folder, i})\"\n              draggable\n            )\n              i.fa(:class=\"i == 0 ? 'fa-arrow-up' : 'fa-folder-open'\")\n              p {{ cleanName(folder) }}\n\n          p(v-if=\"myState.folders.length==1\" style=\"font-size: 0.9rem; opacity: 0.7; margin: 0.5rem 0; text-align: right\") No subfolders.\n\n</template>\n\n<script lang=\"ts\">\n// Typescript doesn't know the Chrome File System API\ndeclare const window: any\nconst BASE_URL = import.meta.env.BASE_URL\nconst NO_DASHBOARDS = ['.nodashboards', 'nodashboards', 'nodashboards.txt']\n\nconst i18n = {\n  messages: {\n    en: {\n      Maps: 'Maps & Dashboards',\n      Images: 'Images',\n      Analysis: 'Analysis',\n      Files: 'Files',\n      Folders: 'Folders',\n      Topsheet: 'Table',\n      privacy:\n        'SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.\\n\\nSimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.',\n    },\n    de: {\n      Maps: 'Karten',\n      Images: 'Bilder',\n      Analysis: 'Ergebnisse',\n      Files: 'Dateien',\n      Folders: 'Ordner',\n      Topsheet: 'Tabelle',\n    },\n  },\n}\n\nconst tabColors = {\n  // blank means dashboard:\n  '': '#118860',\n  // others are kebab-case:\n  'aggregate-od': '#E98B52',\n  'vehicle-anim': '#330033',\n  'x-y-t': '#583270',\n  carriers: '#c97A2C',\n  events: '#4400ff',\n  hexagons: '#900564',\n  map: '#c94264',\n  network: '#894654',\n  sankey: '#D8A672',\n  summary: '#2EA95B',\n  transit: '#3B6FE4',\n} as any\n\ninterface VizEntry {\n  component: string\n  config: string\n  title: string\n}\n\ninterface IMyState {\n  errorStatus: string\n  folders: string[]\n  files: string[]\n  isLoading: boolean\n  readme: string\n  svnProject: FileSystemConfig | null\n  svnRoot?: HTTPFileSystem\n  subfolder: string\n  summary: boolean\n  vizes: VizEntry[]\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport { get, set, clear } from 'idb-keyval'\nimport markdown from 'markdown-it'\nimport mediumZoom from 'medium-zoom'\nimport micromatch from 'micromatch'\nimport yaml from 'yaml'\n\nimport globalStore from '@/store'\nimport { BreadCrumb, FileSystemConfig, YamlConfigs } from '@/Globals'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\n\nimport TopsheetsFinder from '@/components/TopsheetsFinder/TopsheetsFinder.vue'\nimport FileSystemProjects from '@/components/FileSystemProjects.vue'\n\nconst components = Object.assign({ FileSystemProjects, TopsheetsFinder }, pluginComponents)\n\nexport default defineComponent({\n  name: 'BrowserPanel',\n  i18n,\n  components,\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      subfolder: '/',\n      root: '',\n      summaryYamlFilename: 'viz-summary.yml',\n      highlightedViz: -2, // -2:none, -1: dashboard, 0-x: tile\n      needDoubleClickHint: false,\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      allRoots: [] as FileSystemConfig[],\n      mdRenderer: new markdown({ html: true, linkify: true, typographer: true }),\n      myState: {\n        errorStatus: '',\n        folders: [],\n        files: [],\n        isLoading: false,\n        readme: '',\n        svnProject: null,\n        svnRoot: undefined,\n        subfolder: '',\n        vizes: [],\n        summary: false,\n      } as IMyState,\n      // we have really weird double-clicks; we want the single click to pass thru\n      // after a long delay. so this is how we do it\n      clicks: 0,\n      clickTimer: {} as any,\n    }\n  },\n  mounted() {\n    this.updateShortcuts()\n    this.getRootAndRoute(this.$route.params.pathMatch)\n  },\n\n  watch: {\n    'globalState.svnProjects'() {\n      this.updateShortcuts()\n    },\n    'globalState.colorScheme'() {\n      // medium-zoom freaks out if color theme is swapped.\n      // so let's reload images just in case.\n      this.fetchFolderContents()\n    },\n    subfolder() {\n      this.updateRoute()\n    },\n    'globalState.authAttempts'() {\n      this.authenticationChanged()\n    },\n    'myState.files'() {\n      this.filesChanged()\n    },\n  },\n  computed: {\n    isChrome() {\n      return !!window.showDirectoryPicker\n    },\n\n    localFileHandles(): any[] {\n      // sort a copy of the array so we don't get an infinite loop\n      return this.$store.state.localFileHandles\n        .concat()\n        .sort((a: any, b: any) =>\n          parseInt(a.key.substring(2)) < parseInt(b.key.substring(2)) ? -1 : 1\n        )\n    },\n  },\n  methods: {\n    updateRoute() {\n      if (!this.root) return\n\n      const svnProject = this.getFileSystem(this.root)\n\n      this.myState.svnProject = svnProject\n      this.myState.subfolder = this.subfolder || ''\n      this.myState.readme = ''\n      this.highlightedViz = -2\n\n      if (!this.myState.svnProject) return\n\n      this.myState.svnRoot = new HTTPFileSystem(this.myState.svnProject, globalStore)\n\n      this.generateBreadcrumbs()\n\n      // this happens async\n      this.fetchFolderContents()\n    },\n\n    authenticationChanged() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n\n    async filesChanged() {\n      // clear visualizations\n      this.myState.vizes = []\n      if (this.myState.files.length === 0) return\n\n      this.showReadme()\n\n      this.myState.summary = this.myState.files.indexOf(this.summaryYamlFilename) !== -1\n\n      if (this.myState.summary) {\n        await this.buildCuratedSummaryView()\n      } else {\n        this.buildShowEverythingView()\n      }\n\n      // make sure page is rendered before we attach zoom semantics\n      await this.$nextTick()\n      mediumZoom('.medium-zoom', {\n        background: '#444450',\n      })\n    },\n\n    updateShortcuts() {\n      const roots = this.globalState.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    generateBreadcrumbs() {\n      if (!this.myState.svnProject) return []\n\n      const crumbs = [\n        {\n          label: 'SimWrapper',\n          url: '/',\n        },\n        {\n          label: this.myState.svnProject.name,\n          url: '/' + this.myState.svnProject.slug,\n        },\n      ]\n\n      const subfolders = this.myState.subfolder.split('/')\n      let buildFolder = '/'\n      for (const folder of subfolders) {\n        if (!folder) continue\n\n        buildFolder += folder + '/'\n        crumbs.push({\n          label: folder,\n          url: '/' + this.myState.svnProject.slug + buildFolder,\n        })\n      }\n\n      // save them!\n      globalStore.commit('setBreadCrumbs', crumbs)\n      return crumbs\n    },\n\n    clickedBreadcrumb(crumb: { url: string }) {\n      this.getRootAndRoute(crumb.url.slice(1)) // drop leading slash\n    },\n\n    getRootAndRoute(pathMatch: string | undefined) {\n      if (!pathMatch) {\n        // console.log('NOPE')\n        return\n      }\n\n      // splash page:\n      if (pathMatch === '/') {\n        this.root = ''\n        return\n      }\n\n      // split panel:\n      if (pathMatch.startsWith('split/')) {\n        console.log('SPLIT')\n        // ?????\n        const payload = pathMatch.substring(6)\n        try {\n          // const content = atob(payload)\n          // const json = JSON.parse(content)\n          // this.panels = json\n        } catch (e) {\n          // couldn't do; you failed!\n          this.$router.replace('/')\n        }\n        return\n      }\n\n      // split out project root and subfolder\n      // console.log(777, pathMatch, JSON.stringify(this.myState))\n      let root = pathMatch\n      let subfolder = ''\n      const slash = pathMatch.indexOf('/')\n      if (slash > -1) {\n        root = pathMatch.substring(0, slash)\n        subfolder = pathMatch.substring(slash + 1)\n      }\n      this.root = root\n      this.subfolder = subfolder\n    },\n\n    activateVisualization(vizNumber: number) {\n      // if this is not a valid viz, just open the file/dashboard browser\n      const viz = this.myState.vizes[vizNumber] || {\n        component: 'TabbedDashboardView',\n        title: 'Dashboard',\n      }\n\n      // special case: images don't click thru\n      if (viz.component === 'image-view') return\n\n      if (!this.myState.svnProject) return\n\n      this.highlightedViz = -2\n\n      const cleanSubfolder = this.myState.subfolder.replaceAll('//', '/')\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: cleanSubfolder,\n        subfolder: cleanSubfolder,\n        yamlConfig: viz.config,\n        thumbnail: false,\n      }\n\n      this.$emit('navigate', { component: viz.component, props })\n    },\n\n    updateTitle(viz: number, title: string) {\n      this.myState.vizes[viz].title = title\n    },\n\n    configureSources() {\n      this.$emit('activate', { name: 'Settings', class: 'SettingsPanel' })\n    },\n\n    getTabColor(kebabName: string) {\n      const color = tabColors[kebabName] || '#8778BB'\n      return { backgroundColor: color }\n    },\n    async showReadme() {\n      this.myState.readme = ''\n      const readme = 'readme.md'\n      if (this.myState.files.map(f => f.toLocaleLowerCase()).indexOf(readme) > -1) {\n        if (!this.myState.svnRoot) return\n        const text = await this.myState.svnRoot.getFileText(this.myState.subfolder + '/' + readme)\n        this.myState.readme = this.mdRenderer.render(text)\n      }\n    },\n\n    buildShowEverythingView() {\n      // loop on each viz type\n      for (const viz of this.globalState.visualizationTypes.values()) {\n        // filter based on file matching\n        const matches = micromatch(this.myState.files, viz.filePatterns)\n        for (const file of matches) {\n          // add thumbnail for each matching file\n          this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n        }\n      }\n    },\n\n    // Curate the view, if viz-summary.yml exists\n    async buildCuratedSummaryView() {\n      if (!this.myState.svnRoot) return\n\n      const summaryYaml = yaml.parse(\n        await this.myState.svnRoot.getFileText(\n          this.myState.subfolder + '/' + this.summaryYamlFilename\n        )\n      )\n\n      // loop on each curated viz type\n      for (const vizName of summaryYaml.plugins) {\n        // load plugin user asked for\n        const viz = this.globalState.visualizationTypes.get(vizName)\n        if (!viz) continue\n\n        // curate file list if provided for this plugin\n        if (summaryYaml[viz.kebabName]) {\n          for (const pattern of summaryYaml[viz.kebabName]) {\n            // add thumbnail for each matching file\n            const matches = await this.findMatchingFiles(pattern)\n            for (const file of matches) {\n              this.myState.vizes.push({ component: viz.kebabName, config: file, title: file })\n            }\n          }\n        } else {\n          // filter based on file matching\n          const matches = micromatch(this.myState.files, viz.filePatterns)\n          for (const file of matches) {\n            // add thumbnail for each matching file\n            this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n          }\n        }\n      }\n    },\n\n    async findMatchingFiles(glob: string): Promise<string[]> {\n      // first see if file itself is in this folder\n      if (this.myState.files.indexOf(glob) > -1) return [glob]\n\n      // return globs in this folder\n      const matches = micromatch(this.myState.files, glob)\n      if (matches.length) return matches\n\n      // search subfolder for glob, for now just one subfolder down\n      if (!this.myState.svnRoot) return []\n      try {\n        const split = glob.split('/')\n        const subsubfolder = this.myState.subfolder + '/' + split[0]\n        console.log(subsubfolder)\n        const contents = await this.myState.svnRoot.getDirectory(subsubfolder)\n        const matches = micromatch(contents.files, split[1])\n        return matches.map(f => split[0] + '/' + f)\n      } catch (e) {\n        // oh well, we tried\n      }\n\n      return []\n    },\n\n    async fetchFolderContents() {\n      if (!this.myState.svnRoot) return []\n\n      this.myState.isLoading = true\n      this.myState.errorStatus = ''\n      this.myState.files = []\n\n      try {\n        this.allConfigFiles = await this.findAllConfigsAndDashboards()\n        const folderContents = await this.myState.svnRoot.getDirectory(this.myState.subfolder)\n\n        // hide dot folders\n        const folders = folderContents.dirs.filter(f => !f.startsWith('.')).sort()\n        const files = folderContents.files.filter(f => !f.startsWith('.')).sort()\n\n        // Also show any project-level viz thumbnails from other folders\n        // (but, ensure that files in this folder supercede any project viz files\n        // with the same name)\n        const mergedFilesAndVizes = Object.assign({}, this.allConfigFiles.vizes)\n        for (const file of files) {\n          mergedFilesAndVizes[file] = file\n        }\n\n        const allVizes = Object.values(mergedFilesAndVizes)\n\n        this.myState.errorStatus = ''\n        this.myState.folders = ['UP'].concat(folders)\n\n        this.myState.files = allVizes\n      } catch (err) {\n        // First see if we can get the one-up folder\n        const parent = this.myState.subfolder.lastIndexOf('/')\n\n        if (parent > -1) {\n          // subfolder is @Watched, this triggers a reset:\n          this.subfolder = this.myState.subfolder.slice(0, parent)\n          return\n        } else {\n          // top level fail?\n          this.subfolder = ''\n          return\n        }\n      } finally {\n        this.myState.isLoading = false\n      }\n    },\n\n    clickedOnFolder(props: { folder: string; i: number; root: string }) {\n      this.needDoubleClickHint = false\n\n      const { folder, root, i } = props\n\n      if (root) {\n        this.root = root\n        this.subfolder = ''\n        this.updateRoute()\n        return\n      }\n\n      if (this.myState.isLoading) return\n      if (!this.myState.svnProject) return\n\n      // up button is a non-navigate case: might revisit this\n      if (i == 0 && folder === 'UP') {\n        if (this.subfolder === '/' || this.subfolder === '') {\n          this.root = ''\n        } else {\n          const lastSlash = this.subfolder.lastIndexOf('/')\n          this.subfolder = lastSlash > -1 ? this.subfolder.slice(0, lastSlash) : '/'\n        }\n        return\n      }\n\n      let subfolder = `${this.subfolder}/${folder}`\n      if (subfolder.startsWith('/')) subfolder = subfolder.slice(1)\n      this.subfolder = subfolder\n    },\n\n    dragEnd() {\n      this.$emit('isDragging', false)\n    },\n\n    dragStart(event: DragEvent, folder: string) {\n      this.$emit('isDragging', true)\n\n      const panel = { component: 'TabbedDashboardView', props: {} }\n      const root = this.root || folder // might be at root panel\n      const correctFolder = this.root ? folder : ''\n\n      const bundle = Object.assign({}, panel, {\n        root,\n        subfolder: correctFolder,\n        xsubfolder: correctFolder,\n      }) as any\n\n      bundle.yamlConfig = bundle.config\n      delete bundle.config\n\n      const text = JSON.stringify(bundle) as any\n      event.dataTransfer?.setData('bundle', text)\n    },\n\n    dragBreadCrumb(event: DragEvent, url: string) {\n      let folder = url.startsWith('/') ? url.slice(1) : url\n      if (folder.endsWith('/')) folder = folder.slice(0, -1)\n      let subfolder = folder.indexOf('/') > -1 ? folder.slice(folder.indexOf('/')) : ''\n\n      this.dragStart(event, subfolder)\n    },\n\n    async findAllConfigsAndDashboards() {\n      if (!this.myState.svnRoot) return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n\n      let loadErrorMessage = ''\n\n      try {\n        const { files } = await this.myState.svnRoot.getDirectory(this.subfolder)\n\n        // if folder has .nodashboards, then skip all dashboards!\n        let showDashboards = true\n        NO_DASHBOARDS.forEach(filename => {\n          if (files.indexOf(filename) > -1) {\n            showDashboards = false\n          }\n        })\n\n        const allConfigs = await this.myState.svnRoot.findAllYamlConfigs(this.subfolder)\n\n        // force hide dashboards if user has a .nodashboards file\n        if (!showDashboards) allConfigs.dashboards = {}\n        return allConfigs\n      } catch (e) {\n        // console.error('' + e)\n        return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n        // throw Error('' + e)\n      }\n    },\n\n    async clickedBrowseChromeLocalFolder(row: { key: string; handle: any }) {\n      try {\n        const status = await row.handle.requestPermission({ mode: 'read' })\n        console.log(row.handle, status)\n\n        if (status !== 'granted') return\n\n        // if first time, add its key to the fileSystemConfig\n        const exists = fileSystems.find(f => f.slug == row.key)\n        if (!exists) addLocalFilesystem(row.handle, row.key)\n\n        const props = { root: row.key } as any\n        this.clickedOnFolder(props)\n      } catch (e) {\n        console.error('' + e)\n      }\n    },\n\n    async showChromeDirectory() {\n      try {\n        const FileSystemDirectoryHandle = window.showDirectoryPicker()\n        const dir = await FileSystemDirectoryHandle\n        const slug = addLocalFilesystem(dir, null) // no key yet\n        this.$router.push(`${BASE_URL}${slug}/`)\n      } catch (e) {\n        // shrug\n      }\n    },\n\n    // - END Chrome File System Access API support\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n.panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 0.25rem;\n  user-select: none;\n  font-size: 0.9rem;\n  color: #ddd;\n}\n\n.top-panel {\n  display: flex;\n  flex-direction: column;\n  margin: 0.25rem 1rem 1rem 1rem;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.25rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #ddd;\n}\n\n.middle-panel,\n.bottom-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  // width: 100%;\n  margin-bottom: 0rem;\n  padding: 0 1rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n  user-select: none;\n\n  h1 {\n    letter-spacing: -1px;\n  }\n  h3 {\n    font-size: 1.2rem;\n    border-bottom: 1px solid #cccccc80;\n    margin-top: 0rem;\n    margin-bottom: 0.25rem;\n  }\n\n  p,\n  a {\n    max-width: 100%;\n    overflow-wrap: break-word;\n  }\n}\n\n.bottom-panel {\n  padding: 0 0.5rem 0.25rem 0.5rem;\n  flex: unset;\n}\n\n.white {\n  background-color: var(--bgBold);\n}\n\n.cream {\n  background-color: var(--bgCream);\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\n.badnews {\n  border-left: 3rem solid #af232f;\n  margin: 0rem 0rem;\n  padding: 0.5rem 0rem;\n  background-color: #ffc;\n  color: $matsimBlue;\n}\n\n.viz-table {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n}\n\n.viz-grid-item {\n  z-index: 1;\n  margin: 4px 0;\n  // padding: 2px 2px;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  background-color: var(--bgMapPanel);\n  border-radius: 4px;\n}\n\n.viz-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.folder-table {\n  display: grid;\n  gap: 2px;\n  grid-template-columns: repeat(auto-fit, minmax(115px, 1fr));\n  list-style: none;\n  margin-top: 0.5rem;\n  padding-left: 0px;\n}\n\n.folder {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  background-color: #14141a;\n  color: #c6c1b9;\n  line-height: 1.05rem;\n  padding: 3px 4px;\n  border-radius: 0;\n  word-wrap: break-word;\n\n  i {\n    margin-top: 1px;\n  }\n  p {\n    margin-left: 4px;\n  }\n}\n\n.folder:hover {\n  background-color: #21516d;\n  transition: background-color 0.08s ease-in-out;\n}\n\n.fade {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.curated-sections {\n  display: flex;\n  flex-direction: column;\n}\n\n.curate-heading {\n  padding: 0rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.curate-content {\n  margin-bottom: 2rem;\n}\n\n.viz-image-table {\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n}\n\n.fa-arrow-up {\n  margin-right: 2px;\n}\n\n.project-root {\n  display: flex;\n  flex-direction: column;\n  margin-top: 0.75rem;\n  padding: 0.5rem 0.5rem;\n  background-color: #14141a;\n  color: #bbb;\n  border-left: 3px solid var(--sliderThumb);\n\n  h5 {\n    font-size: 1rem;\n    line-height: 1rem;\n    font-weight: bold;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    line-height: 1.1rem;\n  }\n}\n\n.project-root.local {\n  border-left: 3px solid $matsimBlue;\n}\n\n.project-root:hover {\n  cursor: pointer;\n  background-color: #21516d;\n  transition: background-color 0.1s ease-in-out;\n}\n\n.flex-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.hint-clicks {\n  margin: 0 0 0 0;\n  line-height: 1.2rem;\n  opacity: 0;\n  transition: opacity 0.2s ease-in;\n  padding: 0.25rem 0.25rem;\n\n  p {\n    text-align: center;\n  }\n}\n\n.config-sources {\n  margin-top: 0.5rem;\n  text-align: right;\n  a {\n    color: var(--text);\n  }\n}\n\n.config-sources a:hover {\n  cursor: pointer;\n  color: var(--linkHover);\n}\n\n.viz-frame {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  overflow: hidden;\n  padding: 4px 0 0 4px;\n  border-radius: 3px;\n  p {\n    margin: 0 0 0 0;\n    line-height: 1rem;\n    padding: 0 0;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-frame:hover {\n  background-color: var(--bgHover);\n  border-radius: 3px;\n  transition: background-color 0.08s ease-in-out;\n}\n\n.highlighted {\n  background-color: var(--bgHover);\n}\n\n// p.v-title {\n//   // font-size: 1rem;\n// }\n\np.v-filename {\n  margin: 5px 0;\n}\n\np.v-plugin {\n  text-align: right;\n  text-transform: lowercase;\n  margin-left: auto;\n  color: white;\n  background-color: var(--bgCream3);\n  padding: 2px 3px;\n  border-radius: 0 0 4px 0;\n}\n\n.trail {\n  display: flex;\n  width: 100%;\n  font-size: 0.8rem;\n  p:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n.x-breadcrumbs {\n  flex: 1;\n  display: flex;\n  flex-flow: row wrap;\n  line-height: 0.85rem;\n  max-width: 100%;\n  margin-top: 3px;\n\n  p {\n    width: max-content;\n  }\n\n  p:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n.add-folder {\n  margin-top: 1rem;\n}\n\n.fa-times {\n  opacity: 0;\n  float: right;\n  padding: 1px 1px;\n}\n\n.fa-times:hover {\n  color: red;\n}\n\n.fa-times:active {\n  color: darkred;\n}\n\n.project-root:hover .fa-times {\n  opacity: 0.15;\n}\n\n.project-root:hover .fa-times:hover {\n  opacity: 1;\n}\n\n.logo {\n  margin: 1.5rem auto 0.5rem auto;\n}\n\n.logo:hover {\n  color: var(--linkHover);\n  cursor: pointer;\n}\n</style>\n","<template lang=\"pug\">\n.add-data-panel\n  .xtitle\n    i.fa.fa-plus\n    | &nbsp;Add Data Source\n  .add\n    .markdown(v-html=\"notes\")\n    .flex-row\n      p.flex1: b Label\n      b-input.flex5(size=\"is-small\" placeholder=\"e.g. server1\" maxlength=\"32\" v-model=\"labelField\")\n    .flex-row\n      p.flex1: b URL\n      b-input.flex5(size=\"is-small\" placeholder=\"http://localhost:8001\" maxlength=\"512\" v-model=\"urlField\")\n    .flex-row\n      p.flex1: b Note\n      b-input.flex5(size=\"is-small\" placeholder=\"optional\" maxlength=\"255\" v-model=\"noteField\")\n\n    .flex-row.gap\n      p.flex1 &nbsp;\n\n      b-button(\n        size=\"is-small\"\n        type=\"is-primary\"\n        outlined\n        inverted\n        @click=\"$emit('close')\"\n      ) Cancel\n\n      b-button.is-warning(\n        size=\"is-small\"\n        :disabled=\"!isValidURL\"\n        :type=\"isValidURL ? '' : 'is-outlined'\"\n        @click=\"addURL\"\n      ) Add Data URL\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport MarkdownIt from 'markdown-it'\n\nimport globalStore from '@/store'\n\nconst mdAddNotes = `\nAdd any URL-based data provider.\nSee SimWrapper documentation for details.\n`\n\nexport default defineComponent({\n  name: 'AddDataSource',\n  props: {},\n  data: () => {\n    return {\n      labelField: '',\n      urlField: '',\n      noteField: '',\n      notes: '',\n      mdParser: new MarkdownIt(),\n    }\n  },\n  mounted() {\n    this.notes = this.mdParser.render(mdAddNotes)\n  },\n  watch: {\n    labelField() {\n      this.fixField()\n    },\n  },\n  computed: {\n    isValidURL() {\n      if (!this.labelField) return false\n      if (!this.urlField) return false\n      if (!this.urlField.startsWith('http')) return false\n      return true\n    },\n  },\n  methods: {\n    addURL() {\n      this.fixField()\n      console.log('Adding', this.labelField, this.urlField)\n\n      const KEY = 'projectShortcuts'\n      try {\n        let existingRoot = localStorage.getItem(KEY) || ('{}' as any)\n\n        let roots = JSON.parse(existingRoot)\n\n        roots[this.labelField] = {\n          name: `${this.labelField}`,\n          slug: `${this.labelField}`,\n          description: this.noteField,\n          baseURL: this.urlField,\n        }\n\n        console.log('NEW ROOTS', roots)\n        localStorage.setItem(KEY, JSON.stringify(roots))\n        globalStore.commit('setURLShortcuts', roots)\n      } catch (e) {\n        // you failed\n        console.error('' + e)\n      }\n      this.$emit('close')\n    },\n\n    fixField() {\n      this.labelField = this.labelField.toLowerCase().replaceAll(/[^a-z\\-0-9@]*/g, '')\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.add {\n  gap: 0.25rem;\n  margin: 0.5rem 0.25rem 0rem 0;\n  color: #eee;\n\n  b-field {\n    color: white;\n  }\n}\n\n.flex-row {\n  width: 100%;\n  margin-bottom: 4px;\n}\n.flex1 {\n  text-align: right;\n  margin: auto 0.5rem;\n}\n\n.markdown {\n  margin-bottom: 1rem;\n  line-height: 1.2rem;\n}\n\nb-button {\n  text-align: right;\n}\n\n.add-data-panel {\n  background-color: #557;\n}\n\n.add {\n  padding: 0 0.25rem 0.25rem 0.25rem;\n}\n\n.xtitle {\n  font-weight: bold;\n  background-color: black;\n  padding: 3px 3px;\n  margin-top: 0.5rem;\n}\n\n.is-warning {\n  margin-left: 0.5rem;\n}\n\n.gap {\n  padding-top: 2px;\n}\n@media only screen and (max-width: 640px) {\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n  .top-panel\n    .simwrapper-logo(@click=\"clickedOnFolder({root: ''})\")\n      img(:src=\"logo\")\n\n  .middle-panel\n\n    .is-chrome(v-if=\"isChrome\")\n      h3 Local Files\n      .items\n        .project-root.local(v-for=\"row in localFileHandles\" :key=\"row.key\"\n          @click=\"clickedBrowseChromeLocalFolder(row)\")\n\n          p.root(style=\"flex: 1;\") {{ row.handle.name}}\n            i.fa.fa-times(@click.stop=\"clickedLocalDelete(row)\")\n\n        .project-root.open-folder(@click=\"showChromeDirectory\")\n          p.root Open folder...\n          p.description This browser can access local folders\n\n    h3 Data Sources\n    .items(v-if=\"!showAddDataSource\")\n      .project-root(v-for=\"project in allRoots\" :key=\"project.slug\"\n        @click=\"clickedOnFolder({root: project.slug})\")\n\n        p.root {{ project.name }}\n          i.fa.fa-times(@click.stop=\"clickedDataSourceDelete(project)\")\n        p.description {{ project.description }}\n\n      p.config-sources\n        a(@click=\"showAddDataSource=true\")\n          i.fa.fa-plus\n          | &nbsp;Add data source...\n\n    .items(v-if=\"showAddDataSource\")\n      add-data-source(@close=\"showAddDataSource=false\" )\n\n    h3 PINNED\n    .items\n      .project-root(v-for=\"favorite in globalState.favoriteLocations\" :key=\"favorite.fullPath\"\n        @click=\"clickedOnFavorite(favorite)\")\n        p.root {{ favorite.label }}\n          i.fa.fa-times(@click.stop=\"clickedDeleteFavorite(favorite)\")\n        p.description {{ favorite.hint || `${favorite.root}${favorite.subfolder}` }}\n\n  //- .bottom-panel\n\n  //-   h3 DOCUMENTATION\n  //-   .items\n  //-     p: a(href=\"https://simwrapper.github.io/docs\" target=\"_blank\") Documentation site\n  //-     p: a(href=\"https://simwrapper.github.io/docs/examples\" target=\"_blank\") Getting started\n  //-     p: a(href=\"https://simwrapper.github.io/blog\" target=\"_blank\") News &amp; updates\n\n  //- .action-panel\n  //-   p.show-hide(@click=\"$store.commit('setShowLeftBar', false)\")\n  //-     i.fas.fa-arrow-left\n  //-     | &nbsp;&nbsp;hide\n    //- p.settings-icon(@click=\"$store.commit('rotateColors')\")\n    //-   i.fas.fa-adjust\n    //-   | &nbsp;&nbsp;{{ globalState.isDarkMode ? 'dark':'light' }}\n    //- p.settings-icon(@click=\"updateLanguage\")\n    //-   i.fas.fa-globe\n    //-   | &nbsp;&nbsp;{{ globalState.locale }}\n    //- p.settings-icon(@click=\"$emit('split', {root, xsubfolder: subfolder})\")\n    //-   i.fas.fa-columns\n    //-   | &nbsp;&nbsp;split\n\n</template>\n\n<script lang=\"ts\">\n// Typescript doesn't know the Chrome File System API\ndeclare const window: any\nconst BASE_URL = import.meta.env.BASE_URL\nconst NO_DASHBOARDS = ['.nodashboards', 'nodashboards', 'nodashboards.txt']\n\nconst i18n = {\n  messages: {\n    en: {\n      Maps: 'Maps & Dashboards',\n      Images: 'Images',\n      Analysis: 'Analysis',\n      Files: 'Files',\n      Folders: 'Folders',\n      Topsheet: 'Table',\n      privacy:\n        'SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.\\n\\nSimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.',\n    },\n    de: {\n      Maps: 'Karten',\n      Images: 'Bilder',\n      Analysis: 'Ergebnisse',\n      Files: 'Dateien',\n      Folders: 'Ordner',\n      Topsheet: 'Tabelle',\n    },\n  },\n}\n\nconst tabColors = {\n  // blank means dashboard:\n  '': '#118860',\n  // others are kebab-case:\n  'aggregate-od': '#E98B52',\n  'vehicle-anim': '#330033',\n  'x-y-t': '#583270',\n  carriers: '#c97A2C',\n  events: '#4400ff',\n  hexagons: '#900564',\n  map: '#c94264',\n  network: '#894654',\n  sankey: '#D8A672',\n  summary: '#2EA95B',\n  transit: '#3B6FE4',\n} as any\n\ninterface VizEntry {\n  component: string\n  config: string\n  title: string\n}\n\ninterface IMyState {\n  errorStatus: string\n  folders: string[]\n  files: string[]\n  isLoading: boolean\n  readme: string\n  svnProject: FileSystemConfig | null\n  svnRoot?: HTTPFileSystem\n  subfolder: string\n  summary: boolean\n  vizes: VizEntry[]\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport { get, set, clear } from 'idb-keyval'\nimport markdown from 'markdown-it'\nimport mediumZoom from 'medium-zoom'\nimport micromatch from 'micromatch'\n\nimport globalStore from '@/store'\nimport { BreadCrumb, FavoriteLocation, FileSystemConfig, YamlConfigs } from '@/Globals'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\n\nimport AddDataSource from './AddDataSource.vue'\nimport ErrorPanel from '@/components/left-panels/ErrorPanel.vue'\nimport FileSystemProjects from '@/components/FileSystemProjects.vue'\nimport LeftIconPanel, { Section } from './LeftIconPanel.vue'\nimport TopsheetsFinder from '@/components/TopsheetsFinder/TopsheetsFinder.vue'\n\nimport LOGO_SIMWRAPPER from '@/assets/simwrapper-logo/SW_logo_white.png'\n\nconst components = Object.assign(\n  { AddDataSource, FileSystemProjects, TopsheetsFinder, ErrorPanel },\n  pluginComponents\n)\n\nexport default defineComponent({\n  name: 'SystemPanel',\n  i18n,\n  components: { AddDataSource },\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      root: '',\n      subfolder: '/',\n      activeSection: 'Files',\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      allRoots: [] as FileSystemConfig[],\n      mdRenderer: new markdown({ html: true, linkify: true, typographer: true }),\n      showAddDataSource: false,\n      summaryYamlFilename: 'viz-summary.yml',\n      logo: LOGO_SIMWRAPPER,\n      myState: {\n        errorStatus: '',\n        folders: [],\n        files: [],\n        isLoading: false,\n        readme: '',\n        svnProject: null,\n        svnRoot: undefined,\n        subfolder: '',\n        vizes: [],\n        summary: false,\n      } as IMyState,\n    }\n  },\n  mounted() {\n    this.updateShortcuts()\n    this.getRootAndRoute(this.$route.params.pathMatch)\n    this.updateFavorites()\n  },\n\n  watch: {\n    'globalState.svnProjects'() {\n      this.updateShortcuts()\n    },\n    'globalState.colorScheme'() {\n      // medium-zoom freaks out if color theme is swapped.\n      // so let's reload images just in case.\n      // this.fetchFolderContents()\n    },\n    subfolder() {\n      this.updateRoute()\n    },\n    'globalState.authAttempts'() {\n      this.authenticationChanged()\n    },\n    'myState.files'() {\n      this.filesChanged()\n    },\n  },\n  computed: {\n    hasDashboards(): boolean {\n      return !!Object.keys(this.allConfigFiles.dashboards).length\n      // const d = /^dashboard.*ml/\n      // for (const viz of this.myState.files) {\n      //   if (d.test(viz)) return true\n      // }\n      // return false\n    },\n\n    isChrome() {\n      return !!window.showDirectoryPicker\n    },\n\n    localFileHandles(): any[] {\n      // sort a copy of the array so we don't get an infinite loop\n      return this.$store.state.localFileHandles\n        .concat()\n        .sort((a: any, b: any) =>\n          parseInt(a.key.substring(2)) < parseInt(b.key.substring(2)) ? -1 : 1\n        )\n    },\n\n    hasErrors(): any {\n      return this.globalState.statusErrors.length > 0\n    },\n  },\n  methods: {\n    updateRoute() {\n      if (!this.root) return\n\n      const svnProject = this.getFileSystem(this.root)\n\n      this.myState.svnProject = svnProject\n      this.myState.subfolder = this.subfolder || ''\n      this.myState.readme = ''\n\n      if (!this.myState.svnProject) return\n\n      this.myState.svnRoot = new HTTPFileSystem(this.myState.svnProject, globalStore)\n    },\n\n    updateLanguage() {\n      this.$store.commit('setLocale', this.$store.state.locale == 'en' ? 'de' : 'en')\n      this.$root.$i18n.locale = this.$store.state.locale\n    },\n\n    authenticationChanged() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n\n    async filesChanged() {\n      // clear visualizations\n      this.myState.vizes = []\n      if (this.myState.files.length === 0) return\n\n      this.showReadme()\n\n      this.myState.summary = this.myState.files.indexOf(this.summaryYamlFilename) !== -1\n\n      if (this.myState.summary) {\n        // await this.buildCuratedSummaryView()\n      } else {\n        this.buildShowEverythingView()\n      }\n\n      // make sure page is rendered before we attach zoom semantics\n      await this.$nextTick()\n      mediumZoom('.medium-zoom', {\n        background: '#444450',\n      })\n    },\n\n    updateShortcuts() {\n      const roots = this.globalState.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    async updateFavorites() {\n      try {\n        const f = localStorage.getItem('favoriteLocations') || '[]'\n        const favorites = JSON.parse(f)\n        this.$store.commit('setFavorites', favorites)\n      } catch (e) {\n        // oh welll, no favorites\n      }\n    },\n\n    clickedDeleteFavorite(favorite: FavoriteLocation) {\n      this.$store.commit('removeFavorite', favorite)\n    },\n\n    clickedOnFavorite(favorite: FavoriteLocation) {\n      const page = {\n        component: 'TabbedDashboardView',\n        props: {\n          root: favorite.root,\n          xsubfolder: favorite.subfolder,\n        },\n      }\n\n      this.$emit('navigate', page)\n      return\n    },\n\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    getRootAndRoute(pathMatch: string | undefined) {\n      if (!pathMatch) {\n        // console.log('NOPE')\n        return\n      }\n\n      // splash page:\n      if (pathMatch === '/') {\n        this.root = ''\n        return\n      }\n\n      // split panel:\n      if (pathMatch.startsWith('split/')) {\n        console.log('SPLIT')\n        // ?????\n        const payload = pathMatch.substring(6)\n        try {\n          // const content = atob(payload)\n          // const json = JSON.parse(content)\n          // this.panels = json\n        } catch (e) {\n          // couldn't do; you failed!\n          this.$router.replace('/')\n        }\n        return\n      }\n\n      // split out project root and subfolder\n      // console.log(777, pathMatch, JSON.stringify(this.myState))\n      let root = pathMatch\n      let subfolder = ''\n      const slash = pathMatch.indexOf('/')\n      if (slash > -1) {\n        root = pathMatch.substring(0, slash)\n        subfolder = pathMatch.substring(slash + 1)\n      }\n      this.root = root\n      this.subfolder = subfolder\n    },\n\n    updateTitle(viz: number, title: string) {\n      this.myState.vizes[viz].title = title\n    },\n\n    getTabColor(kebabName: string) {\n      const color = tabColors[kebabName] || '#8778BB'\n      return { backgroundColor: color }\n    },\n    async showReadme() {\n      this.myState.readme = ''\n      const readme = 'readme.md'\n      if (this.myState.files.map(f => f.toLocaleLowerCase()).indexOf(readme) > -1) {\n        if (!this.myState.svnRoot) return\n        const text = await this.myState.svnRoot.getFileText(this.myState.subfolder + '/' + readme)\n        this.myState.readme = this.mdRenderer.render(text)\n      }\n    },\n\n    buildShowEverythingView() {\n      // loop on each viz type\n      for (const viz of this.globalState.visualizationTypes.values()) {\n        // filter based on file matching\n        const matches = micromatch(this.myState.files, viz.filePatterns)\n        for (const file of matches) {\n          // add thumbnail for each matching file\n          this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n        }\n      }\n    },\n\n    clickedOnFolder(props: { root: string }) {\n      // if (this.myState.isLoading) return\n\n      const rootPage = {\n        component: 'TabbedDashboardView',\n        props: {\n          root: props.root,\n          xsubfolder: '',\n        },\n      }\n\n      this.$emit('navigate', rootPage)\n      return\n    },\n\n    dragEnd() {\n      this.$emit('isDragging', false)\n    },\n\n    dragStart(event: DragEvent, item: any) {\n      this.$emit('isDragging', true)\n\n      const bundle = Object.assign({}, item, {\n        root: this.root,\n        subfolder: this.myState.subfolder,\n        xsubfolder: this.myState.subfolder,\n      }) as any\n\n      bundle.yamlConfig = bundle.config\n      delete bundle.config\n\n      const text = JSON.stringify(bundle) as any\n      event.dataTransfer?.setData('bundle', text)\n    },\n\n    clickedLogo() {\n      this.$router.push('/')\n    },\n\n    async findAllConfigsAndDashboards() {\n      if (!this.myState.svnRoot) return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n\n      let loadErrorMessage = ''\n\n      try {\n        const { files } = await this.myState.svnRoot.getDirectory(this.subfolder)\n\n        // if folder has .nodashboards, then skip all dashboards!\n        let showDashboards = true\n        NO_DASHBOARDS.forEach(filename => {\n          if (files.indexOf(filename) > -1) {\n            showDashboards = false\n          }\n        })\n\n        const allConfigs = await this.myState.svnRoot.findAllYamlConfigs(this.subfolder)\n\n        // force hide dashboards if user has a .nodashboards file\n        if (!showDashboards) allConfigs.dashboards = {}\n        return allConfigs\n      } catch (e) {\n        // console.error('' + e)\n        return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n        // throw Error('' + e)\n      }\n    },\n\n    async clickedBrowseChromeLocalFolder(row: { key: string; handle: any }) {\n      try {\n        const status = await row.handle.requestPermission({ mode: 'read' })\n        console.log(row.handle, status)\n\n        if (status !== 'granted') return\n\n        // if first time, add its key to the fileSystemConfig\n        const exists = fileSystems.find(f => f.slug == row.key)\n        if (!exists) addLocalFilesystem(row.handle, row.key)\n\n        const props = { root: row.key } as any\n        this.clickedOnFolder(props)\n      } catch (e) {\n        console.error('' + e)\n      }\n    },\n\n    async showChromeDirectory() {\n      try {\n        const FileSystemDirectoryHandle = window.showDirectoryPicker()\n        const dir = await FileSystemDirectoryHandle\n        const slug = addLocalFilesystem(dir, null) // no key yet\n        this.$router.push(`${BASE_URL}${slug}/`)\n      } catch (e) {\n        // shrug\n      }\n    },\n\n    async clickedLocalDelete(row: { key: string; handle: any }) {\n      const handles = this.$store.state.localFileHandles\n      // just filter out the key I guess?\n      const filtered = handles.filter((f: any) => f.key !== row.key)\n\n      // and save it everywhere\n      await set('fs', filtered)\n      this.$store.commit('setLocalFileSystem', filtered)\n    },\n\n    async clickedDataSourceDelete(project: { slug: string }) {\n      console.log({ project })\n      // const handles = this.$store.state.localFileHandles\n      // // just filter out the key I guess?\n      this.$store.commit('removeURLShortcut', project.slug)\n      // const filtered = handles.filter((f: any) => f.key !== row.key)\n\n      // // and save it everywhere\n      // await set('fs', filtered)\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n.panel {\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-template-rows: auto 1fr auto auto;\n  height: 100%;\n  user-select: none;\n  font-size: 0.9rem;\n  color: #eee;\n}\n\n.left-icon-panel {\n  grid-column: 1 / 2;\n  grid-row: 2 / 5;\n}\n\n.top-panel {\n  grid-column: 1 / 3;\n  grid-row: 1 / 2;\n  display: flex;\n  flex-direction: column;\n  border-bottom: 1px solid #ffffff44;\n  margin: 0 16px;\n\n  // background-color: #216a6d; // bgTreeItem;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.25rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #ddd;\n}\n\n.middle-panel {\n  grid-column: 2 / 3;\n  grid-row: 2 / 3;\n}\n\n.bottom-panel {\n  grid-column: 2 / 3;\n  grid-row: 3 / 4;\n}\n\n.middle-panel,\n.bottom-panel {\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.5rem 0 0.75rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n  user-select: none;\n\n  p,\n  a {\n    max-width: 100%;\n    overflow-wrap: break-word;\n  }\n}\n\n.bottom-panel {\n  margin-right: 0.5rem;\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\n.fade {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.fa-arrow-up {\n  margin-right: 2px;\n}\n\n.project-root {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.25rem;\n  padding: 1px 0 1px 4px;\n  border-left: 2px solid #00000000; // #989898;\n  color: #ddd;\n  opacity: 0.85;\n\n  h5 {\n    font-size: 1rem;\n    line-height: 1rem;\n    font-weight: bold;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    line-height: 1.1rem;\n  }\n}\n\n// .project-root.local {\n//   // border-left: 2px solid $matsimBlue;\n// }\n\n.project-root:hover {\n  cursor: pointer;\n  // background-color: #383e46;\n  opacity: 1;\n  color: white;\n  transition: background-color 0.1s ease-in-out;\n  border-left: 2px solid var(--sliderThumb);\n}\n\n.project-root:hover .root {\n  color: $yellowHighlight;\n}\n\n.flex-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.hint-clicks {\n  margin: 0 0 0 0;\n  line-height: 1.2rem;\n  opacity: 0;\n  transition: opacity 0.2s ease-in;\n\n  p {\n    padding-bottom: 0.5rem;\n    text-align: center;\n  }\n}\n\n.config-sources {\n  margin-left: 0.5rem;\n  margin-top: 0.75rem;\n  font-size: 0.75rem;\n  a {\n    padding: 0.25rem 0.4rem;\n    border: 1px solid #00000000;\n    border-radius: 4px;\n    color: var(--textLink);\n  }\n\n  a:hover {\n    border: 1px solid #778;\n  }\n}\n\n.config-sources a:hover {\n  cursor: pointer;\n  color: var(--linkHover);\n}\n\n.highlighted {\n  background-color: var(--bgHover);\n}\n\n.add-folder {\n  margin-top: 1rem;\n}\n\n.fa-times {\n  opacity: 0;\n  float: right;\n  padding: 1px 1px;\n}\n\n.fa-times:hover {\n  color: red;\n}\n\n.fa-times:active {\n  color: darkred;\n}\n\n.project-root:hover .fa-times {\n  opacity: 0.45;\n  color: white;\n}\n\n.project-root:hover .fa-times:hover {\n  opacity: 1;\n  color: #f44;\n}\n\n.logo {\n  margin: 1.5rem auto 0.5rem auto;\n}\n\n.logo:hover {\n  color: var(--linkHover);\n  cursor: pointer;\n}\n\n// hello\n\n.items {\n  margin-left: 0.75rem;\n  margin-right: 0.25rem;\n\n  a {\n    color: #ccc;\n  }\n  a:hover {\n    color: $yellowHighlight;\n  }\n}\n\n.simwrapper-logo {\n  max-width: 120px;\n  opacity: 0.85;\n  margin: 1rem auto 0.5rem 0;\n}\n\n.simwrapper-logo:hover {\n  cursor: pointer;\n  opacity: 1;\n}\n\n.root {\n  font-weight: bold;\n  color: #5fe2a7; // $appTag;\n}\n\n.description {\n  font-size: 0.75rem;\n  margin-top: -2px;\n}\n\n.open-folder {\n  margin-top: 0.5rem;\n}\n\n.action-panel {\n  grid-column: 2 / 3;\n  grid-row: 4 / 5;\n  background-color: #48485f;\n  margin-top: 0.5rem;\n  display: flex;\n  flex-direction: row;\n\n  p {\n    padding: 2px 0;\n    font-size: 0.8rem;\n    text-align: center;\n    vertical-align: center;\n    flex: 1;\n  }\n\n  p:hover {\n    background-color: #3c3c49;\n    color: $yellowHighlight;\n    cursor: pointer;\n  }\n}\n\n.settings-icon {\n  border-left: 1px solid #888;\n}\n\nh3 {\n  font-family: $mainFont;\n  font-size: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 0.5rem;\n  margin-left: 6px;\n  text-transform: uppercase;\n}\n\n.actual-error-panel {\n  background-color: #28385d;\n}\n\n.spacer {\n  background-color: $themeColorPale;\n  height: 0.5rem;\n}\n</style>\n","<template lang=\"pug\">\n.tabbed-folder-view\n\n  p.load-error(v-show=\"loadErrorMessage\" @click=\"authorizeAfterError\"): b {{ loadErrorMessage }}\n\n  .tabholder(v-if=\"isShowingBreadcrumbs && !isMultipanel && !isZoomed\" :style=\"dashWidthCalculator\")\n    .tabholdercontainer.white-text\n      .project-header(v-if=\"header\" v-html=\"header\")\n      .project-path(v-else)\n        .nav-title\n          p.title-text {{ finalFolder }}\n          p.favorite-icon(\n            @click=\"clickedFavorite\"\n            title=\"Favorite\"\n            :class=\"{'is-favorite': isFavorite}\"\n          ): i.fa.fa-star\n        bread-crumbs.breadcrumbs(\n            :root=\"root\"\n            :subfolder=\"xsubfolder\"\n            @navigate=\"onNavigate\"\n            @crumbs=\"updateCrumbs\"\n        )\n\n  .dashboard-finder(:class=\"{isMultipanel, isZoomed}\")\n    ul.dashboard-right-sections(v-show=\"!isZoomed && Object.keys(dashboards).length > 1\")\n      li.tab-list(v-for=\"tab,index in Object.keys(dashboards)\" :key=\"tab\"\n        :class=\"{'is-active': tab===activeTab, 'is-not-active': tab!==activeTab}\"\n        :style=\"{opacity: tab===activeTab ? 1.0 : 0.75}\"\n        @click=\"switchLeftTab(tab,index)\"\n      )\n        a(v-if=\"dashboards[tab].header\" @click=\"switchLeftTab(tab,index)\") {{ dashboards[tab].header.tab }}\n\n    .dashboard-content(\n      v-if=\"dashboardTabWithDelay && dashboardTabWithDelay !== 'FILE__BROWSER' && dashboards[dashboardTabWithDelay] && dashboards[dashboardTabWithDelay].header.tab !== '...'\"\n      :class=\"{'is-breadcrumbs-hidden': !isShowingBreadcrumbs && !isZoomed}\"\n    )\n      dash-board(\n        :root=\"root\"\n        :xsubfolder=\"xsubfolder\"\n        :config=\"dashboards[dashboardTabWithDelay]\"\n        :datamanager=\"dashboardDataManager\"\n        :zoomed=\"isZoomed\"\n        :allConfigFiles=\"allConfigFiles\"\n        @zoom=\"handleZoom\"\n        @layoutComplete=\"handleLayoutComplete\"\n      )\n\n    folder-browser.dashboard-folder-browser(v-if=\"dashboardTabWithDelay && dashboardTabWithDelay === 'FILE__BROWSER'\"\n      :root=\"root\"\n      :xsubfolder=\"xsubfolder\"\n      :allConfigFiles=\"allConfigFiles\"\n      @navigate=\"onNavigate\"\n      @up=\"goUpOneFolder()\"\n    )\n\n  footer.footer-holder(v-show=\"showFooter && !isZoomed\" :class=\"{wiide}\" :style=\"dashWidthCalculator\")\n    .tabholdercontainer(:class=\"{wiide}\")\n      .project-footer(v-if=\"footer\" v-html=\"footer\" :class=\"{wiide}\")\n\n</template>\n\n<script lang=\"ts\">\nimport Vue, { defineComponent } from 'vue'\n\nimport markdown from 'markdown-it'\nimport micromatch from 'micromatch'\nimport DOMPurify from 'dompurify'\nimport YAML from 'yaml'\n\nimport globalStore from '@/store'\nimport { FavoriteLocation, FileSystemConfig, NavigationItem, Status, YamlConfigs } from '@/Globals'\nimport BreadCrumbs from '@/components/BreadCrumbs.vue'\nimport DashBoard from './DashBoard.vue'\nimport DashboardDataManager from '@/js/DashboardDataManager'\nimport FolderBrowser from './FolderBrowser.vue'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\n\nconst NO_DASHBOARDS = ['.nodashboards', 'nodashboards', 'nodashboards.txt']\n\nconst mdRenderer = new markdown({\n  html: true,\n  linkify: true,\n  typographer: true,\n})\n\nexport default defineComponent({\n  name: 'TabbedDashboardView',\n  components: { BreadCrumbs, DashBoard, FolderBrowser },\n  props: {\n    root: { type: String, required: true },\n    xsubfolder: { type: String, required: true },\n    isMultipanel: { type: Boolean, required: false },\n  },\n  data: () => {\n    return {\n      activeTab: '',\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      crumbs: [] as any,\n      customCSS: '',\n      dashboards: [] as any[],\n      dashboardDataManager: null as DashboardDataManager | null,\n      dashboardTabWithDelay: '',\n      finalFolder: '',\n      folderReadme: '',\n      footer: '',\n      globalState: globalStore.state,\n      header: '',\n      isShowingBreadcrumbs: false,\n      isZoomed: false,\n      loadErrorMessage: '',\n      pageHeader: '',\n      showFooter: false,\n      styleElement: null as any,\n      // project site navigation\n      leftNavItems: null as null | {\n        top: NavigationItem[]\n        middle: NavigationItem[]\n        bottom: NavigationItem[]\n      },\n      topNavItems: null as null | {\n        fileSystem: FileSystemConfig\n        subfolder: string\n        left: NavigationItem[]\n        right: NavigationItem[]\n        logo?: NavigationItem\n        style?: any\n      },\n    }\n  },\n  computed: {\n    fileApi(): HTTPFileSystem {\n      return new HTTPFileSystem(this.fileSystem, globalStore)\n    },\n    fileSystem(): FileSystemConfig {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === this.root\n      )\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n      return svnProject[0]\n    },\n    wiide(): boolean {\n      return this.$store.state.isFullWidth\n    },\n\n    dashWidthCalculator(): any {\n      if (this.$store.state.dashboardWidth && this.$store.state.isFullWidth) {\n        return { maxWidth: this.$store.state.dashboardWidth }\n      }\n      return {}\n    },\n\n    isFavorite(): any {\n      let key = this.root\n      if (this.xsubfolder) key += `/${this.xsubfolder}`\n\n      const indexOfPathInFavorites = this.globalState.favoriteLocations.findIndex(\n        f => key == f.fullPath\n      )\n      return indexOfPathInFavorites > -1\n    },\n  },\n  watch: {\n    root() {\n      this.updateRoute()\n    },\n    xsubfolder() {\n      this.updateRoute()\n    },\n    'globalState.colorScheme'() {\n      const allConfigs = Object.values(this.allConfigFiles.configs)\n      if (!allConfigs.length) return\n\n      // Set theme for bottommost config only\n      const config = allConfigs[allConfigs.length - 1]\n      const configKey = `theme-${config}`\n      localStorage.setItem(configKey, this.globalState.colorScheme)\n    },\n  },\n  methods: {\n    clearStyles() {\n      if (this.styleElement) {\n        document.getElementsByTagName('head')[0].removeChild(this.styleElement)\n        this.styleElement = null\n      }\n    },\n\n    getPageHeader() {\n      if (this.xsubfolder) return this.xsubfolder.substring(1 + this.xsubfolder.lastIndexOf('/'))\n\n      return this.fileSystem.name || this.root\n    },\n\n    onNavigate(options: any) {\n      this.$emit('navigate', options)\n      this.setTitle()\n    },\n\n    clickedFavorite() {\n      let hint = `${this.root}/${this.xsubfolder}`\n      // remove current folder from subfolder\n      hint = hint.substring(0, hint.lastIndexOf('/'))\n\n      const favorite: FavoriteLocation = {\n        root: this.root,\n        subfolder: this.xsubfolder,\n        label: this.finalFolder,\n        fullPath: `${this.root}/${this.xsubfolder}`,\n        hint,\n      }\n\n      this.$store.commit(this.isFavorite ? 'removeFavorite' : 'addFavorite', favorite)\n      if (this.isFavorite) this.$store.commit('setShowLeftBar', true)\n    },\n\n    async getFolderReadme() {\n      try {\n        this.folderReadme = ''\n        const { files } = await this.fileApi.getDirectory(this.xsubfolder)\n        const readmes = files.filter(f => f.toLocaleLowerCase() === 'readme.md')\n        if (!readmes.length) return\n\n        const readmeText = await this.fileApi.getFileText(`${this.xsubfolder}/${readmes[0]}`)\n        const html = mdRenderer.render(readmeText)\n        this.folderReadme = html\n      } catch (e) {\n        // no readme is OK\n        this.folderReadme = ''\n      }\n    },\n\n    async findConfigsAndDashboards() {\n      this.loadErrorMessage = ''\n      if (!this.fileApi) return []\n\n      await this.fileApi.getChromePermission(this.fileSystem.handle)\n\n      this.getFolderReadme()\n\n      try {\n        this.allConfigFiles = await this.fileApi.findAllYamlConfigs(this.xsubfolder)\n\n        const { files } = await this.fileApi.getDirectory(this.xsubfolder)\n\n        // if folder has .nodashboards, then skip all dashboards!\n        let showDashboards = true\n        NO_DASHBOARDS.forEach(filename => {\n          if (files.indexOf(filename) > -1) {\n            showDashboards = false\n          }\n        })\n\n        if (showDashboards) {\n          for (const fullPath of Object.values(this.allConfigFiles.dashboards)) {\n            // add the tab now\n            Vue.set(this.dashboards, fullPath, { header: { tab: '...' } })\n            // load the details (title)\n            const showThisDashboard = await this.initDashboard(fullPath)\n            // and now remove it if it isn't triggered. Yes this order is correct\n            if (!showThisDashboard) delete this.dashboards[fullPath as any]\n          }\n        }\n\n        // headers, footers, etc\n        await this.setupProjectConfig()\n\n        // Add FileBrowser as \"Files\" tab\n        if (this.globalState.isShowingFilesTab) {\n          Vue.set(this.dashboards, 'FILE__BROWSER', { header: { tab: 'Files' } })\n        }\n\n        // // Start on correct tab\n        if (this.$route.query.tab) {\n          try {\n            const userSupplied = parseInt('' + this.$route.query.tab) - 1\n            const userTab = Object.keys(this.dashboards)[userSupplied]\n            this.activeTab = userTab || Object.keys(this.dashboards)[0]\n          } catch (e) {\n            // user spam; just use first tab\n            this.activeTab = Object.keys(this.dashboards)[0]\n          }\n        } else {\n          this.activeTab = Object.keys(this.dashboards)[0]\n        }\n        this.dashboardTabWithDelay = this.activeTab\n      } catch (e) {\n        // Bad things happened! Tell user\n        console.warn({ eeee: e })\n        if (this.fileSystem.handle) {\n          this.loadErrorMessage = `Click to grant access to folder \"${this.fileSystem.handle.name}\"`\n        } else {\n          this.loadErrorMessage =\n            this.fileSystem.baseURL + '/' + this.xsubfolder + ': Could not load'\n        }\n      }\n    },\n\n    async setupProjectConfig() {\n      const allConfigs = Object.values(this.allConfigFiles.configs)\n\n      // no configs: no project mode.\n      if (!allConfigs.length) {\n        this.isShowingBreadcrumbs = true\n        return\n      }\n\n      // configs: set up \"project mode\" ----------------------------------\n      let projectFolder = ''\n      for (const filename of allConfigs) {\n        try {\n          let yamlFolder = ''\n          const config = await this.fileApi.getFileText(filename)\n          const yaml = YAML.parse(config)\n\n          // figure out relative path for config file\n          if (!filename.startsWith('http')) {\n            const i = filename.indexOf('simwrapper-config.y')\n            yamlFolder = filename.substring(0, i)\n            // project folder is the folder CONTAINING the simwrapper-config.yaml file\n            const chunks = yamlFolder.split('/')\n            projectFolder = chunks.slice(0, chunks.length - 2).join('/')\n          }\n\n          // always reveal quickview bar unless told not to\n          if (yaml.hideLeftBar === true) {\n            this.$store.commit('setShowLeftBar', false)\n            this.$store.commit('setShowLeftStrip', false)\n          }\n          if (yaml.hideLeftBar === false) {\n            this.$store.commit('setShowLeftBar', true)\n            this.$store.commit('setShowLeftStrip', true)\n          }\n\n          // theme\n          if (yaml.theme) this.setProjectTheme(yaml.theme, filename)\n\n          // set margins wide if requested to do so\n          this.$store.commit('setFullWidth', !!yaml.fullWidth)\n          this.$store.commit('setDashboardWidth', '')\n          if (yaml.width !== undefined) {\n            this.$store.commit('setDashboardWidth', '' + yaml.width)\n            this.$store.commit('setFullWidth', true)\n          }\n\n          if (yaml.hideFilesSection || yaml.hideFiles) {\n            this.$store.commit('setShowFilesTab', false)\n          }\n\n          // Breadcrumb-Bar. Delicious!\n          this.isShowingBreadcrumbs = !yaml.hideBreadcrumbs\n          // if (yaml.hideBreadcrumbs) this.isShowingBreadcrumbs = false\n\n          // TOP Nav Bar -----------------------------------\n          if (yaml.topNavBar) {\n            this.topNavItems = {\n              left: [],\n              right: [],\n              fileSystem: this.fileSystem,\n              subfolder: this.xsubfolder,\n              style: yaml.topNavBar.style,\n            }\n\n            if (yaml.topNavBar.logo) this.topNavItems.logo = yaml.topNavBar.logo\n\n            if (yaml.topNavBar.left) {\n              this.topNavItems.left = this.topNavItems.left.concat(yaml.topNavBar.left)\n            }\n            if (yaml.topNavBar.right) {\n              this.topNavItems.right = this.topNavItems.right.concat(yaml.topNavBar.right)\n            }\n          }\n          this.$store.commit('setTopNavItems', this.topNavItems)\n\n          // Left-Nav Panel --------------------------------\n          if (yaml.leftNavBar) {\n            // if (!this.leftNavItems) this.leftNavItems = { top: [], middle: [], bottom: [] }\n            this.leftNavItems = { top: [], middle: [], bottom: [] }\n\n            if (yaml.leftNavBar.top) {\n              this.leftNavItems.top = this.leftNavItems.top.concat(yaml.leftNavBar.top)\n            }\n            if (yaml.leftNavBar.middle) {\n              this.leftNavItems.middle = this.leftNavItems.middle.concat(yaml.leftNavBar.middle)\n            }\n            if (yaml.leftNavBar.bottom) {\n              this.leftNavItems.bottom = this.leftNavItems.bottom.concat(yaml.leftNavBar.bottom)\n            }\n\n            // User defined a leftNavBar: so make it visible\n            this.$store.commit('setShowLeftBar', true)\n            this.$store.commit('setShowLeftStrip', false)\n            this.$store.commit('setLeftNavItems', this.leftNavItems)\n\n            this.$emit('activate', {\n              name: 'Project',\n              class: 'LeftProjectPanel',\n              onlyIfVisible: false,\n              navRoot: this.root,\n              navSubfolder: this.xsubfolder,\n            })\n          }\n\n          // CSS\n          const cssFile = `${yamlFolder}${yaml.css}`\n          try {\n            if (yaml.css) {\n              this.customCSS = await this.fileApi.getFileText(cssFile)\n              this.styleElement = document.createElement('style')\n              this.styleElement.appendChild(document.createTextNode(this.customCSS))\n              document.getElementsByTagName('head')[0].appendChild(this.styleElement)\n            }\n          } catch (e) {\n            // no css, oh well\n            console.error(`Error reading ${cssFile}: ` + e)\n          }\n\n          this.header = await this.buildPanel('header', yaml, yamlFolder)\n          this.footer = await this.buildPanel('footer', yaml, yamlFolder)\n        } catch (e) {\n          // note parsing error and move on\n          const msg = `Error reading ${filename}: ` + e\n          this.$emit('error', msg)\n          console.error(msg)\n        }\n      }\n\n      // lastly: if project folder, notify layout manager\n      if (projectFolder) this.$emit('projectFolder', projectFolder)\n    },\n\n    setProjectTheme(theme: string, configFilepath: string) {\n      // Encourage the project theme, but don't force user to use it\n\n      // 1) If browser cache has a user theme for this project-config, use it\n      // 2) Otherwise, use theme in project config -- and save it in cache!\n      // 3) Listen for theme changes, save in browser cache for this project\n\n      // 1) If browser cache has a user theme for this project-config, use it\n      const cacheKey = `theme-${configFilepath}`\n      const userTheme = localStorage.getItem(cacheKey)\n      console.log(cacheKey, userTheme)\n      if (userTheme) {\n        this.$store.commit('setTheme', userTheme)\n        return\n      }\n\n      // 2) No user-chosen theme: honor simwrapper-config setting\n      this.$store.commit('setTheme', theme)\n      localStorage.setItem(cacheKey, theme)\n\n      // 3) Watch for theme changes in watch{}\n    },\n\n    async buildPanel(which: string, yaml: any, folder: string) {\n      // first get the correct/best header for this locale\n      let header = ''\n      if (this.$store.state.locale === 'de') {\n        header = yaml[which + '_de'] || yaml[which] || yaml[which + '_en'] || ''\n      } else {\n        header = yaml[which + '_en'] || yaml[which] || yaml[which + '_de'] || ''\n      }\n\n      if (!header) return ''\n\n      // if it is a filename, load it from disk\n      if (header.indexOf('\\n') == -1 && header.endsWith('.md')) {\n        const text = await this.fileApi.getFileText(`${folder}${header}`)\n        header = text\n      }\n\n      // convert to HTML\n      const html = mdRenderer.render(header)\n\n      // sanitize it\n      // const clean = DOMPurify.sanitize(html, { USE_PROFILES: { html: true } })\n\n      // use it\n      return html\n    },\n\n    // for each dashboard, fetch the yaml, set the tab title, and config the ... switcher?\n    async initDashboard(fullPath: any) {\n      try {\n        const config = await this.fileApi.getFileText(fullPath)\n        const yaml = YAML.parse(config)\n\n        // see if trigger condition is met\n        if (yaml.header?.triggerPattern) {\n          const { files, dirs } = await this.fileApi.getDirectory(this.xsubfolder)\n          const allContents = [...files, ...dirs]\n\n          const matches = micromatch.match(allContents, yaml.header.triggerPattern).length\n          if (matches === 0) {\n            // no files matched trigger; skip this dashboard\n            return false\n          }\n        }\n\n        const shortFilename = fullPath.substring(0, fullPath.lastIndexOf('.'))\n        if (!yaml.header) yaml.header = { title: fullPath, tab: shortFilename }\n        if (!yaml.header.tab) yaml.header.tab = yaml.header.title || shortFilename\n\n        this.dashboards[fullPath] = yaml\n        // console.log('DASHBOARD:', fullPath)\n        return true\n      } catch (e) {\n        this.$emit('error', { type: Status.ERROR, msg: '' + e })\n        return false\n      }\n    },\n    updateRoute() {\n      this.clearStyles()\n\n      if (this.dashboardDataManager) this.dashboardDataManager.clearCache()\n      this.dashboardDataManager = new DashboardDataManager(this.root, this.xsubfolder)\n\n      this.header = ''\n      this.footer = ''\n      this.dashboards = []\n      this.pageHeader = this.getPageHeader()\n\n      // this happens async\n      this.findConfigsAndDashboards()\n    },\n\n    updateCrumbs(props: { crumbs: any[]; finalFolder: string }) {\n      this.finalFolder = props.finalFolder || ''\n      this.crumbs = props.crumbs\n    },\n\n    async switchLeftTab(tab: string, index: number) {\n      if (tab === this.activeTab) return\n\n      // Force teardown the dashboard to ensure we start with a clean slate\n      this.activeTab = ''\n      this.dashboardTabWithDelay = ''\n      this.showFooter = false\n\n      await this.$nextTick()\n\n      this.activeTab = tab\n\n      // to give browser time to teardown\n      setTimeout(() => {\n        this.dashboardTabWithDelay = tab\n        if (index) {\n          this.$router.replace({ query: { tab: `${index + 1}` } })\n        } else {\n          this.$router.replace({ query: {} })\n        }\n      }, 125)\n    },\n\n    handleZoom(isZoomed: any) {\n      this.isZoomed = !!isZoomed\n      this.$emit('zoom', this.isZoomed)\n    },\n\n    handleLayoutComplete() {\n      this.showFooter = true\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.warn('no such project')\n        this.loadErrorMessage = `Can't locate \"${name}\": please check running services and browser version.`\n        return null\n      }\n\n      return svnProject[0]\n    },\n\n    goUpOneFolder() {\n      let target = this.xsubfolder\n      if (this.xsubfolder.endsWith('/')) target = this.xsubfolder.slice(0, -1)\n      target = target.substring(0, target.lastIndexOf('/'))\n\n      const props = {\n        root: this.fileSystem.slug,\n        xsubfolder: target,\n      }\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!target && !this.xsubfolder) {\n        this.onNavigate({ component: 'SplashPage', props: {} })\n      } else {\n        this.onNavigate({ component: 'TabbedDashboardView', props })\n      }\n    },\n\n    async authorizeAfterError() {\n      try {\n        const handle = this.fileSystem.handle\n        if (handle) {\n          const status = await handle.requestPermission({ mode: 'read' })\n          if (status === 'granted') this.updateRoute()\n        }\n      } catch (e) {\n        // meh\n      }\n    },\n\n    setTitle() {\n      // Now we have breadcrumbs so just use the current folder name instead of whole path\n      const title = `${this.fileSystem.name}/${this.xsubfolder}`\n      let lastFolder = title.substring(1 + title.lastIndexOf('/'))\n      if (!lastFolder) lastFolder = this.fileSystem.name\n\n      this.$emit('title', lastFolder)\n    },\n  },\n  mounted() {\n    this.updateRoute()\n    this.setTitle()\n  },\n  beforeDestroy() {\n    if (this.dashboardDataManager) this.dashboardDataManager.clearCache()\n    this.clearStyles()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.tabbed-folder-view {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bgDashboard);\n  flex-direction: column;\n}\n\n.centered-vessel.wiide {\n  max-width: unset;\n}\n\n.tabs {\n  margin: 0 0rem;\n}\n\n.tabs ul {\n  line-height: 0.8rem;\n  border-bottom-width: 5px;\n  border-bottom-color: var(--bgDashboard);\n}\n\n.tabholder {\n  z-index: 50;\n  padding: 0.75rem 0rem 0.25rem 0rem;\n}\n\n.tabholdercontainer {\n  margin: 0 $cardSpacing;\n  display: flex;\n  flex-direction: row;\n  // background-image: linear-gradient(45deg, #0c8ed3, #8f00ff);\n}\n\n.tabholdercontainer.wiide {\n  margin: 0 0rem;\n}\n\nli.is-not-active b a {\n  color: var(--textBlack);\n}\n\n.dashboard-finder {\n  display: flex;\n  flex: 1;\n  flex-direction: row-reverse;\n  margin: 0 $cardSpacing;\n  position: relative;\n  overflow-y: auto;\n}\n\n.dashboard-finder.isMultipanel {\n  margin: 0 0.5rem;\n}\n\n.dashboard-finder.isZoomed {\n  margin: 0 0.5rem;\n}\n\n.dashboard-right-sections {\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem 0rem 2rem 0rem;\n}\n\n.dashboard-content {\n  flex: 1;\n  position: relative;\n}\n\n.dashboard-content.is-breadcrumbs-hidden {\n  margin-top: 1rem;\n}\n\n.dashboard-folder-browser {\n  // margin: 2rem 2rem 1rem 1rem;\n  // padding-top: 1rem;\n  flex: 1;\n}\n\n.tab-list {\n  font-family: $fancyFont;\n  font-size: 0.9rem;\n  line-height: 1.1rem;\n  padding: 3px 0.5rem 5px 0.5rem;\n  border-right: 5px solid #00000000;\n  user-select: none;\n  margin-bottom: 1px;\n\n  a {\n    color: var(--text);\n  }\n}\n\n.tab-list:hover {\n  background-color: var(--bgBold);\n  cursor: pointer;\n}\n\n.tab-list.is-active {\n  background-color: var(--bgBold);\n  border-right: 5px solid var(--highlightActiveSection);\n  border-radius: 3px 0 0 3px;\n  font-weight: bold;\n  a {\n    color: var(--textBold);\n  }\n}\n\n.up-link a {\n  color: var(--link);\n  border-bottom: none;\n}\n\n.up-link a:hover {\n  color: var(--linkHover);\n}\n\n.load-error {\n  margin: 3rem auto;\n  padding: 1rem 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  font-size: 1.2rem;\n  color: var(--link);\n  background-color: var(--bgPanel);\n  border: 1px solid pink;\n  max-width: 40rem;\n}\n\n.project-header {\n  margin-bottom: 1rem;\n  color: var(--text);\n  padding: 1rem 0.5rem;\n\n  :deep(h1) {\n    font-size: 3rem;\n    font-weight: bold;\n  }\n\n  :deep(h2) {\n    font-size: 1.5rem;\n    margin-top: 1rem;\n  }\n\n  :deep(h3) {\n    font-size: 1.25rem;\n    margin-top: 0.5rem;\n  }\n\n  :deep(h4) {\n    margin-top: 0.5rem;\n    font-size: 1.1rem;\n  }\n\n  :deep(ul) {\n    list-style: inside;\n  }\n}\n\n.project-header.wiide {\n  padding: 1rem 2rem;\n}\n\n.footer-holder {\n  font-size: 0.75rem;\n  z-index: 50;\n  line-height: 0.9rem;\n  margin-top: 0.5rem;\n}\n\n.project-footer {\n  width: 100%;\n  margin: 0rem 0rem 0.25rem 0rem;\n  color: var(--text);\n  padding: 0rem 1rem;\n\n  :deep(h1) {\n    font-size: 2rem;\n    font-weight: bold;\n  }\n\n  :deep(h2) {\n    font-size: 1.5rem;\n    margin-top: 1rem;\n  }\n\n  :deep(h3) {\n    font-size: 1.25rem;\n    margin-top: 0.5rem;\n  }\n\n  :deep(h4) {\n    margin-top: 0.5rem;\n    font-size: 1.1rem;\n  }\n\n  :deep(ul) {\n    list-style: inside;\n  }\n}\n\n.folder-readme {\n  margin-top: 0.5rem;\n}\n\n.folder-readme.readme-centered {\n  text-align: center;\n}\n\n.project-path {\n  flex: 1;\n}\n\n.nav-title {\n  display: flex;\n  padding: 0.75rem 1rem;\n  background-image: linear-gradient(45deg, #0c8ed3, #8f00ff);\n  color: white;\n  font-size: 1.4rem;\n  font-family: $fancyFont;\n  font-weight: bold;\n}\n\n.title-text {\n  flex: 1;\n}\n\n.favorite-icon {\n  margin: auto 0 auto 1rem;\n  opacity: 0.3;\n  font-size: 1.1rem;\n}\n\n.is-favorite {\n  opacity: 1;\n}\n.favorite-icon:hover {\n  cursor: pointer;\n}\n\n.breadcrumbs {\n  padding: 0.25rem 0;\n  font-size: 0.9rem;\n  color: var(--text);\n}\n\nimg {\n  margin-right: 1rem;\n}\n\n.logos img {\n  margin-right: 1rem;\n}\n\n.white-text {\n  color: white;\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: white;\n  }\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n    .close(@click.stop=\"$emit('close')\")\n      i.fa.fa-times\n\n    // theme ------------------\n    .option\n      h5 {{ $t('theme') }}\n      b-button.button.is-small.is-white(@click=\"setTheme('light')\"\n        outlined\n        :style=\"isLight\") {{ $t('light') }}\n\n      b-button.button.is-small.is-gray(@click=\"setTheme('dark')\"\n        outlined\n        :style=\"isDark\") {{ $t('dark') }}\n\n    // language ---------------\n    .option\n      h5 {{ $t('language') }}\n      b-button.button.is-small.is-white(@click=\"setLanguage('en')\"\n        outlined\n        :style=\"isEN\") EN\n\n      b-button.button.is-small.is-gray(@click=\"setLanguage('de')\"\n        outlined\n        :style=\"isDE\") DE\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: {\n      translate: 'Note: German translations are incomplete, but steadily improving',\n      theme: 'Theme',\n      light: 'Light',\n      dark: 'Dark',\n      language: 'Language',\n      dataSources: 'Data Sources',\n      addDataSources: 'Add Data Source',\n    },\n    de: {\n      translate: 'Die Übersetzungen sind unvollständig, werden aber immer besser...',\n      theme: 'Thema',\n      light: 'Hell',\n      dark: 'Dunkel',\n      language: 'Sprache',\n      dataSources: 'Datenquellen',\n    },\n  },\n}\n\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\n\nexport default defineComponent({\n  name: 'SettingsPanel',\n  i18n,\n  data: () => {\n    return {\n      state: globalStore.state,\n      theme: '',\n      shortcuts: [] as any[],\n    }\n  },\n  mounted() {\n    this.theme = this.state.isDarkMode ? 'dark' : 'light'\n  },\n  watch: {\n    'state.isDarkMode'() {\n      console.log('ooop!', this.state.isDarkMode)\n      this.theme = this.state.isDarkMode ? 'dark' : 'light'\n    },\n  },\n  computed: {\n    isLight(): any {\n      return this.theme == 'light'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isDark(): any {\n      return this.theme == 'dark'\n        ? {\n            backgroundColor: '#7957d5',\n            color: 'white',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isEN(): any {\n      return this.state.locale == 'en'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isDE(): any {\n      return this.state.locale == 'de'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n  },\n  methods: {\n    setTheme(theme: string) {\n      this.theme = theme\n      console.log(this.theme)\n      globalStore.commit('setTheme', theme)\n    },\n\n    setLanguage(lang: string) {\n      this.$store.commit('setLocale', lang)\n      this.$root.$i18n.locale = lang\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.panel {\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  width: 12.25rem;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n}\n\nh5 {\n  font-weight: bold;\n  margin-top: 0rem;\n  margin-bottom: 0.25rem;\n}\n\n.top-panel {\n  display: flex;\n  flex-direction: column;\n  margin: 0.25rem 0.5rem 0rem 0.5rem;\n}\n\n.bottom-panel {\n  margin: 1rem 0.5rem;\n}\n\n.settings-area {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 0rem 0rem;\n  overflow-y: auto;\n}\n\n.message-area h3 {\n  margin-top: 1rem;\n  font-size: 1.2rem;\n}\n\n::-webkit-scrollbar-corner {\n  background: rgba(0, 0, 0, 0);\n}\n\n.button {\n  margin-right: 0.25rem;\n  width: 60px;\n  margin-bottom: 1rem;\n}\n\n.button:hover {\n  border: 1px solid white !important;\n}\n\n.option {\n  h5 {\n    text-transform: uppercase;\n  }\n\n  p {\n    margin-top: 0.5rem;\n    line-height: 1.2rem;\n  }\n}\n\n.slide-right {\n  padding-left: 1rem;\n}\n\n.source {\n  // margin-left: 1rem;\n  margin-bottom: 3px;\n  background-color: var(--bgCream4);\n}\n\n.source .desc p {\n  margin: 0 0;\n  padding: 1px 4px;\n}\n\n.delete {\n  margin: 2px 2px;\n  opacity: 0.4;\n}\n\n.delete:hover {\n  opacity: 1;\n  background-color: red;\n}\n\n.close {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  float: right;\n  text-align: right;\n  padding: 0 4px;\n  font-size: 0.8rem;\n  opacity: 0.4;\n}\n\n.close:hover {\n  cursor: pointer;\n  background-color: #444;\n  opacity: 1;\n}\n</style>\n","export default \"__VITE_ASSET__862cee4c__\"","export default \"__VITE_ASSET__9d7275c6__\"","export default \"data:image/png;base64,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\"","<template lang=\"pug\">\n.icon-panel\n\n  .top\n\n    .item(v-for=\"section in topSections\" :key=\"section.name\"\n      :class=\"{'is-active': section.name === activeSection, 'is-dark': isDarkMode}\"\n      @click=\"select(section)\"\n    )\n      .sideways\n        p {{ section.name }}\n\n      img.svg-icon(v-if=\"section.icon\"\n        :src=\"section.icon\"\n        :draggable=\"false\"\n        :style=\"{filter: section.colorize ? issueColor : 'invert(100%)'}\"\n      )\n      i.fa-icon.fas(v-if=\"section.fontAwesomeIcon\" :class=\"section.fontAwesomeIcon\")\n\n  .bottom\n\n    .item(v-for=\"section in bottomSections\" :key=\"section.name\"\n      @click=\"select(section)\"\n    )\n      .sideways\n        p {{ section.name }}\n\n      img.svg-icon(v-if=\"section.icon\"\n        :src=\"section.icon\"\n        :draggable=\"false\"\n        :style=\"{filter: section.colorize ? issueColor : 'invert(100%)'}\"\n      )\n\n  settings-panel.settings-popup(v-if=\"isShowingSettings\"\n    @close=\"toggleSettings()\"\n  )\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\nimport SettingsPanel from './SettingsPanel.vue'\n\nimport ICON_INFO from '@/assets/icons/settings.svg'\nimport ICON_DOCS from '@/assets/icons/readme.svg'\nimport ICON_SIMWRAPPER from '@/assets/simwrapper-logo/SW_logo_icon_black.png'\n\nconst DOCS_URL = 'https://simwrapper.github.io/docs'\n\nexport interface Section {\n  name: string\n  class: string\n  icon?: string\n  colorize?: boolean\n  link?: string\n  onlyIfVisible?: boolean\n  navRoot?: string\n}\n\nexport default defineComponent({\n  name: 'LeftIconPanel',\n  components: { SettingsPanel },\n  props: {\n    activeSection: { type: String, required: true },\n  },\n  data: () => {\n    return {\n      state: globalStore.state,\n      isShowingSettings: false,\n      isDarkMode: false,\n      topSections: [\n        { name: 'Data', class: 'LeftSystemPanel', icon: ICON_SIMWRAPPER },\n        { name: 'Split', class: 'LeftSplitFolderPanel', fontAwesomeIcon: 'fa-columns' },\n        // { name: 'Issues', class: 'ErrorPanel', icon: ICON_ISSUES, colorize: true },\n        // { name: 'Search', class: 'RunFinderPanel', icon: ICON_ARROW },\n        // { name: 'Gallery', class: 'RunFinderPanel', icon: ICON_ARROW },\n      ] as Section[],\n      bottomSections: [\n        { name: 'Documentation', link: DOCS_URL, icon: ICON_DOCS },\n        { name: 'Settings', class: 'SettingsPanel', icon: ICON_INFO },\n      ] as Section[],\n    }\n  },\n\n  watch: {\n    'state.isDarkMode'() {\n      this.isDarkMode = this.state.isDarkMode\n    },\n  },\n\n  computed: {\n    isDark() {\n      return this.state.isDarkMode\n    },\n\n    issueColor() {\n      // red\n      if (this.state.statusErrors.length)\n        return 'invert(60%) sepia(100%) hue-rotate(310deg) saturate(8.5)'\n      // yellow\n      if (this.state.statusWarnings.length)\n        return 'invert(75%) sepia(100%) hue-rotate(15deg) saturate(5.5)'\n      // white\n      return 'invert(100%)'\n    },\n  },\n  methods: {\n    select(section: Section) {\n      if (section.name == 'Settings') {\n        this.toggleSettings()\n        return\n      }\n\n      if (section.name !== this.activeSection) {\n        // user picked new tab\n        this.$store.commit('setShowLeftBar', true)\n        this.$emit('activate', section)\n      } else {\n        // user picked same tab: toggle left panel!\n        this.$store.commit('setShowLeftBar', !this.$store.state.isShowingLeftBar)\n      }\n    },\n\n    toggleSettings() {\n      this.isShowingSettings = !this.isShowingSettings\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.icon-panel {\n  background-color: var(--bgIconBar);\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n  color: #fff;\n}\n\n.top {\n  margin-top: 0rem;\n  margin-bottom: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.bottom {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n}\n\n.item {\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 0;\n  margin: 0 auto 0 auto;\n  opacity: 0.7;\n  width: 26px;\n  p {\n    font-size: 13px;\n    line-height: 1rem;\n  }\n}\n\n.item:hover {\n  cursor: pointer;\n  opacity: 1;\n}\n\n.bottom .item {\n  margin-top: 1rem;\n}\n\n.is-active {\n  opacity: 1;\n  background-color: $themeColorPale;\n}\n\nimg {\n  margin: 10px auto 0 auto;\n  width: 12px;\n}\n\n.sideways {\n  transform: rotate(-90deg);\n  margin-top: 0.75rem;\n}\n\n.fa-icon {\n  margin: 10px auto 0 auto;\n  font-size: 10px;\n}\n\n.settings-popup {\n  position: absolute;\n  bottom: 0.5rem;\n  left: 28px;\n  right: 8px;\n  background-color: #202028;\n  padding: 0.5rem 0.5rem 0rem 0.5rem;\n  font-size: 0.9rem;\n  z-index: 10000;\n  filter: drop-shadow(0px 0px 8px #00000060);\n}\n\n.hide-left-panel-button:hover {\n  background-color: #666; // #3c3c49;\n  color: #deef6f;\n  cursor: pointer;\n}\n</style>\n","<template lang=\"pug\">\n#layout-manager\n\n top-nav-bar(v-if=\"$store.state.topNavItems\"\n  @navigate=\"onNavigate($event,0,0)\"\n  :projectFolder=\"firstPanelProjectFolder\"\n  :currentFolder=\"firstPanelSubfolder\"\n )\n\n #split-screen(\n  @mousemove=\"dividerDragging\"\n  @mouseup=\"dividerDragEnd\"\n  :style=\"{'userSelect': isDraggingDivider ? 'none' : 'unset'}\"\n )\n\n  // do not show left-strip if we are in project mode\n  left-icon-panel.left-icon-panel(\n    v-if=\"$store.state.isShowingLeftStrip\"\n    :activeSection=\"activeLeftSection.name\"\n    @activate=\"setActiveLeftSection\"\n  )\n\n  .left-panel(v-show=\"showLeftBar\")\n\n    .left-panel-active-section(\n      v-show=\"isShowingActiveSection\"\n      :style=\"activeSectionStyle\"\n    )\n      component(:is=\"activeLeftSection.class\"\n        @navigate=\"onNavigate($event,0,0)\"\n        @activate=\"setActiveLeftSection\"\n        @isDragging=\"handleDragStartStop\"\n        @split=\"splitMainPanel\"\n        :currentFolder=\"firstPanelSubfolder\"\n        :projectFolder=\"firstPanelProjectFolder\"\n        :navRoot=\"navRoot\"\n      )\n\n    .left-panel-divider(v-show=\"activeLeftSection\"\n      @mousedown=\"dividerDragStart\"\n      @mouseup=\"dividerDragEnd\"\n      @mousemove.stop=\"dividerDragging\"\n    )\n\n  .table-of-tiles(ref=\"tileTable\")\n    .authorization-strip(v-if=\"authHandles.length\")\n      .auth-row(v-for=\"auth in authHandles\")\n        p.flex1 {{ '' + auth }}\n        //- b-button hello\n\n    .row-drop-target(:style=\"buildDragHighlightStyle(-1,-1)\"\n        @drop=\"onDrop({event: $event, row: 'rowTop'})\"\n        @dragover=\"stillDragging({event: $event, row: 'rowTop'})\"\n        @dragover.prevent\n        @dragenter.prevent\n        @dragleave=\"dragEnd\"\n    )\n\n    .tile-row(v-for=\"panelRow,y in panels\" :key=\"y\"\n        v-show=\"fullScreenPanel.y == -1 || fullScreenPanel.y == y\"\n    )\n      .drag-container(\n        v-for=\"panel,x in panelRow\" :key=\"panel.key\"\n        @drop=\"onDrop({event: $event,x,y})\"\n        @dragover.prevent\n        @dragenter.prevent\n        @dragover=\"stillDragging({event: $event,x,y})\"\n        @dragleave=\"dragEnd\"\n        :ref=\"`dragContainer${x}-${y}`\"\n        :style=\"getContainerStyle(panel,x,y)\"\n      )\n        .tile-header.flex-row(v-if=\"getShowHeader(panel)\")\n\n          .tile-buttons(v-if=\"panel.component !== 'SplashPage'\")\n            .nav-button.is-small.is-white(\n              @click=\"onBack(x,y)\"\n            ): i.fa.fa-arrow-left\n\n          .tile-labels(:class=\"{'is-singlepanel': !isMultipanel}\")\n            h3(v-if=\"panel.title\" :style=\"{textAlign: 'left'}\") {{ panel.title }}\n            p(v-if=\"panel.description\") {{ panel.description }}\n\n          .flex-row\n            .tile-buttons\n              .nav-button.is-small.is-white(\n                v-if=\"panel.info\"\n                @click=\"handleToggleInfoClicked(panel)\"\n              ): i.fa.fa-info-circle\n              //- :title=\"infoToggle[panel.id] ? 'Hide Info':'Show Info'\"\n\n              .nav-button.is-small.is-white(\n                v-show=\"panels.length > 1 || panels[0].length > 1\"\n                @click=\"toggleZoom(panel, x, y)\"\n                :title=\"fullScreenPanel.x > -1 ? 'Restore':'Enlarge'\"\n              ): i.fa.fa-expand\n\n              .nav-button.is-small.is-white(v-if=\"isMultipanel\"\n                @click=\"onClose(x,y)\"\n                title=\"Close\"\n              ): i.fa.fa-times-circle\n\n        .breadcrumb-row(v-if=\"getShowHeader(panel)\")\n          bread-crumbs.bread-crumbs(\n            :root=\"panel.props.root || ''\"\n            :subfolder=\"panel.props.xsubfolder || ''\"\n            @navigate=\"onNavigate($event,x,y)\"\n          )\n\n        //- here is the actual component containing the dashboard, viz, etc\n        component.map-tile(\n          :is=\"panel.component\"\n          :isMultipanel=\"isMultipanel\"\n          :style=\"getTileStyle(panel)\"\n          v-bind=\"cleanProps(panel.props)\"\n          @navigate=\"onNavigate($event,x,y)\"\n          @title=\"setCardTitles(panel, $event)\"\n          @activate=\"setActiveLeftSection\"\n          @projectFolder=\"setProjectFolder\"\n        )\n\n        .drag-highlight(v-if=\"isDragHappening\" :style=\"buildDragHighlightStyle(x,y)\")\n\n    .row-drop-target(v-if=\"isDragHappening\" :style=\"buildDragHighlightStyle(-2,-2)\"\n                    @drop=\"onDrop({event: $event, row: 'rowBottom'})\"\n                    @dragover=\"stillDragging({event: $event, row: 'rowBottom'})\"\n                    @dragover.prevent\n                    @dragenter.prevent\n                    @dragleave=\"dragEnd\"\n    )\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { close: 'Close panel', back: 'Go back' },\n    de: { close: 'Schließen', back: 'Zurück' },\n  },\n}\n\nimport Vue, { defineComponent } from 'vue'\n\nimport { Route } from 'vue-router'\nimport micromatch from 'micromatch'\n\nimport globalStore from '@/store'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\n\nimport BreadCrumbs from '@/components/BreadCrumbs.vue'\nimport FolderBrowser from './FolderBrowser.vue'\nimport LeftProjectPanel from './LeftProjectPanel.vue'\nimport TopNavBar from './TopNavBar.vue'\nimport SplashPage from './SplashPage.vue'\nimport LeftSplitFolderPanel from './LeftSplitFolderPanel.vue'\nimport LeftSystemPanel from './LeftSystemPanel.vue'\nimport TabbedDashboardView from './TabbedDashboardView.vue'\n\nimport LeftIconPanel, { Section } from './LeftIconPanel.vue'\nimport ErrorPanel from '@/components/left-panels/ErrorPanel.vue'\nimport { FileSystemConfig } from '@/Globals'\n\nconst BASE_URL = import.meta.env.BASE_URL\nconst DEFAULT_LEFT_WIDTH = 250\n\nexport default defineComponent({\n  name: 'LayoutManager',\n  i18n,\n  components: Object.assign(\n    {\n      BreadCrumbs,\n      ErrorPanel,\n      FolderBrowser,\n      LeftIconPanel,\n      LeftProjectPanel,\n      LeftSplitFolderPanel,\n      LeftSystemPanel,\n      TopNavBar,\n      SplashPage,\n      TabbedDashboardView,\n    },\n    pluginComponents\n  ),\n  data: () => {\n    return {\n      activeLeftSection: { name: 'Data', class: 'LeftSystemPanel' } as Section,\n      authHandles: [] as any[],\n      dragX: -1,\n      dragY: -1,\n      dragQuadrant: null as any,\n      dragStartWidth: 0,\n      // keep track of URL for highlighting purposes\n      firstPanelProjectFolder: '',\n      firstPanelSubfolder: '',\n      fullScreenPanel: { x: -1, y: -1 },\n      isDraggingDivider: 0,\n      isDragHappening: false,\n      isEmbedded: false,\n      isShowingActiveSection: true,\n      leftSectionWidth: DEFAULT_LEFT_WIDTH,\n      // navigation aids for project pages:\n      navRoot: '',\n      // panels is an array of arrays: each row, with its vizes in order.\n      panels: [] as any[][],\n      // scrollbars for dashboards and kebab-case name of any plugins that need them:\n      panelsWithScrollbars: ['TabbedDashboardView', 'FolderBrowser', 'calc-table'],\n      zoomed: false,\n    }\n  },\n\n  computed: {\n    isMultipanel(): boolean {\n      if (this.panels.length > 1) return true\n      return this.panels[0].length > 1\n    },\n\n    showLeftBar(): boolean {\n      return this.$store.state.isShowingLeftBar\n    },\n\n    activeSectionStyle(): any {\n      if (this.activeLeftSection) {\n        return {\n          width: `${this.leftSectionWidth}px`,\n        }\n      } else return { display: 'none' }\n    },\n  },\n\n  watch: {\n    '$store.state.statusErrors'() {\n      // if (this.$store.state.statusErrors.length) {\n      //   this.activeLeftSection = { name: 'Issues', class: 'ErrorPanel' }\n      // }\n    },\n\n    $route(to: Route, from: Route) {\n      if (to.path === BASE_URL) {\n        // root node is not a normal splitpane, so we instead replace\n        // with a brand new clean startpage.\n        this.panels = [[{ component: 'SplashPage', key: Math.random(), props: {} as any }]]\n      } else {\n        this.buildLayoutFromURL()\n        globalStore.commit('resize')\n      }\n    },\n  },\n  methods: {\n    setActiveLeftSection(section: Section) {\n      // don't open the left bar if it's optional, meaning it's currently closed\n      if (section.onlyIfVisible && !this.isShowingActiveSection) return\n\n      // clicked same section as is already shown\n      if (this.isShowingActiveSection && section.name === this.activeLeftSection.name) {\n        return\n      }\n\n      // if there's a link, open a tab\n      if (section.link) {\n        window.open(section.link, '_blank')\n        return\n      }\n\n      // help project pages know where they are rooted\n      if (section.navRoot) this.navRoot = section.navRoot\n\n      this.isShowingActiveSection = true\n      this.activeLeftSection = section\n      localStorage.setItem('activeLeftSection', JSON.stringify(section))\n      if (this.leftSectionWidth < 48) this.leftSectionWidth = DEFAULT_LEFT_WIDTH\n    },\n\n    setProjectFolder(folder: string) {\n      this.firstPanelProjectFolder = folder\n    },\n\n    buildLayoutFromURL() {\n      let pathMatch = this.$route.params.pathMatch\n      if (pathMatch.startsWith('/')) pathMatch = pathMatch.slice(1)\n\n      // splash page:\n      if (!pathMatch || pathMatch === '/') {\n        this.panels = [[{ component: 'SplashPage', key: Math.random(), props: {} as any }]]\n        // this.$store.commit('setShowLeftBar', false)\n        this.$store.commit('setShowLeftStrip', true)\n        return\n      }\n\n      // split panel?\n      if (pathMatch.startsWith('split/')) {\n        const payload = pathMatch.substring(6)\n        try {\n          const content = atob(payload)\n          const json = JSON.parse(content)\n          this.panels = json\n        } catch (e) {\n          // couldn't do\n          console.error('PARSING SPLIT' + e)\n          this.$router.replace('/')\n        }\n        return\n      }\n\n      // figure out project root and subfolder\n      let root = pathMatch\n      let xsubfolder = ''\n      const slash = pathMatch.indexOf('/')\n      if (slash > -1) {\n        root = pathMatch.substring(0, slash)\n        xsubfolder = pathMatch.substring(slash + 1)\n        if (xsubfolder.startsWith('/')) xsubfolder = xsubfolder.slice(1)\n        if (xsubfolder.endsWith('/')) xsubfolder = xsubfolder.slice(0, -1)\n      }\n\n      // single visualization?\n      const fileNameWithoutPath = pathMatch.substring(1 + pathMatch.lastIndexOf('/'))\n      const lowerCaseFileName = fileNameWithoutPath.toLocaleLowerCase()\n\n      for (const vizPlugin of globalStore.state.visualizationTypes.values()) {\n        // be case insensitive for the matching itself\n        if (micromatch.isMatch(lowerCaseFileName, vizPlugin.filePatterns)) {\n          // plugin matched!\n          if (this.panels.length === 1 && this.panels[0].length === 1) {\n            this.panels = [[this.panels[0][0]]]\n          } else {\n            let key = Math.random()\n            let subfolder = xsubfolder.substring(0, xsubfolder.lastIndexOf('/'))\n            if (subfolder.startsWith('/')) subfolder = subfolder.slice(1)\n            this.panels = [\n              [\n                {\n                  key,\n                  component: vizPlugin.kebabName,\n                  title: '',\n                  description: '',\n                  props: {\n                    root,\n                    subfolder, /// : xsubfolder.substring(0, xsubfolder.lastIndexOf('/')),\n                    yamlConfig: fileNameWithoutPath,\n                    thumbnail: false,\n                  } as any,\n                },\n              ],\n            ]\n          }\n\n          // this.$store.commit('setShowLeftBar', false)\n          return\n        }\n      }\n\n      // Last option: folder browser/dashboard panel\n      let key = Math.random()\n      if (this.panels.length === 1 && this.panels[0].length === 1) key = this.panels[0][0].key\n\n      // figure out filesystem\n      const svnProjects: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: any) => a.slug === root\n      )\n      if (!svnProjects.length) throw Error('no such project')\n      const fileSystem = svnProjects[0]\n\n      const folder = xsubfolder.startsWith('/') ? xsubfolder.slice(1) : xsubfolder\n\n      const lastFolder = folder.substring(1 + folder.lastIndexOf('/'))\n      const title = lastFolder || fileSystem.name\n\n      this.panels = [\n        [\n          {\n            key,\n            title,\n            component: 'TabbedDashboardView',\n            props: { root, xsubfolder: folder } as any,\n          },\n        ],\n      ]\n    },\n\n    handleDragStartStop(dragState: boolean) {\n      this.isDragHappening = dragState\n    },\n\n    buildDragHighlightStyle(x: number, y: number) {\n      // top row\n      if (x == -1) {\n        const opacity = this.dragQuadrant == 'rowTop' ? '1' : '0'\n        const pointerEvents = this.isDragHappening ? 'auto' : 'none'\n\n        return { top: 0, opacity, pointerEvents, backgroundColor: '#ffcc4480' }\n      }\n\n      // bottom row\n      if (x == -2) {\n        const opacity = this.dragQuadrant == 'rowBottom' ? '1' : '0'\n        const pointerEvents = this.isDragHappening ? 'auto' : 'none'\n        return { bottom: 0, opacity, pointerEvents, backgroundColor: '#ffcc4480' }\n      }\n\n      // tiles\n      if (x !== this.dragX || y !== this.dragY || !this.dragQuadrant) return {}\n\n      const backgroundColor = this.dragQuadrant.quadrant == 'center' ? '#079f6f80' : '#4444dd90'\n      const area: any = { opacity: 1.0, backgroundColor }\n      Object.entries(this.dragQuadrant).forEach(e => (area[e[0]] = `${e[1]}px`))\n      return area\n    },\n\n    stillDragging(props: { event: DragEvent; x: number; y: number; row: string }) {\n      const { event, x, y, row } = props\n\n      // row is special\n      if (row) {\n        this.dragQuadrant = row\n        return\n      }\n\n      this.dragX = x\n      this.dragY = y\n\n      const ref = this.$refs[`dragContainer${x}-${y}`] as any[]\n\n      // only parent knows its true position\n      const table = this.$refs['tileTable'] as any\n      const navOffset = table.offsetLeft\n\n      const panel = ref[0]\n      const pctX = (event.clientX - panel.offsetLeft - navOffset) / panel.offsetWidth\n      const pctY = (event.clientY - panel.offsetTop) / panel.offsetHeight\n\n      let BORDER = 8\n\n      if (pctX < 0.3) {\n        this.dragQuadrant = {\n          quadrant: 'left',\n          width: panel.offsetWidth / 2 - BORDER * 2,\n          height: panel.offsetHeight - BORDER * 2,\n          marginLeft: BORDER,\n          marginTop: BORDER,\n        }\n      } else if (pctX > 0.7) {\n        this.dragQuadrant = {\n          quadrant: 'right',\n          width: panel.offsetWidth / 2 - BORDER * 2,\n          height: panel.offsetHeight - BORDER * 2,\n          marginLeft: panel.offsetWidth / 2 + BORDER,\n          marginTop: BORDER,\n        }\n        // } else if (pctY < 0.4) {\n        //   this.quadrant = {\n        //     quadrant: 'top',\n        //     width: panel.offsetWidth - BORDER * 2,\n        //     height: panel.offsetHeight / 2 - BORDER * 2,\n        //     marginLeft: BORDER,\n        //     marginTop: BORDER,\n        //   }\n        // } else if (pctY > 0.6) {\n        //   this.quadrant = {\n        //     quadrant: 'bottom',\n        //     width: panel.offsetWidth - BORDER * 2,\n        //     height: panel.offsetHeight / 2 - BORDER * 2,\n        //     marginLeft: BORDER,\n        //     marginTop: panel.offsetHeight / 2 + BORDER,\n        //   }\n      } else {\n        BORDER *= 5\n        const w = (panel.offsetWidth - BORDER * 2) * 0.95\n        const h = (panel.offsetHeight - BORDER * 2) * 0.95\n        this.dragQuadrant = {\n          quadrant: 'center',\n          width: w,\n          height: h,\n          marginLeft: (panel.offsetWidth - w) / 2,\n          marginTop: (panel.offsetHeight - h) / 2,\n        }\n      }\n    },\n\n    dragEnd() {\n      this.dragQuadrant = null\n      this.dragX = -1\n      this.dragY = -1\n    },\n\n    onDrop(props: { event: DragEvent; x: number; y: number; row: string }) {\n      if (!this.dragQuadrant) return\n\n      const { event, x, y, row } = props\n\n      try {\n        const bundle = event.dataTransfer?.getData('bundle') as string\n        const componentConfig = JSON.parse(bundle)\n\n        // dashboard is not a plugin, it is special\n        const component = componentConfig.component || 'TabbedDashboardView'\n\n        const viz = { component, props: componentConfig }\n        this.onSplit({ x, y, row, quadrant: this.dragQuadrant.quadrant, viz })\n      } catch (e) {\n        console.warn('' + e)\n      }\n\n      this.dragEnd()\n    },\n\n    splitMainPanel(props: { root: string; xsubfolder?: string }) {\n      let x = 0\n      let y = 0\n\n      const newPanel = {\n        component: 'SplashPage',\n        props: {} as any,\n        key: Math.random(),\n      }\n\n      if (props.root) {\n        newPanel.component = 'TabbedDashboardView'\n        newPanel.props.root = props.root\n        newPanel.props.xsubfolder = props.xsubfolder || ''\n      }\n\n      this.panels[y].splice(x, 0, newPanel)\n      this.updateURL()\n      globalStore.commit('resize')\n    },\n\n    async onSplit(props: {\n      x: number\n      y: number\n      row: string\n      quadrant: string\n      viz: { component: string; props: any }\n    }) {\n      const { x, y, row, quadrant, viz } = props\n\n      const newPanel = {\n        component: viz.component,\n        props: viz.props,\n        title: '',\n        description: '',\n        key: Math.random(),\n      }\n\n      if (row) {\n        switch (row) {\n          case 'rowTop':\n            // add new row at the top\n            this.panels.unshift([newPanel])\n            break\n          case 'rowBottom':\n            // add new row at the bottom\n            this.panels.push([newPanel])\n            break\n          default:\n            console.warn('HUH?', row)\n            break\n        }\n      } else {\n        switch (quadrant) {\n          case 'center':\n            this.panels[y][x] = newPanel\n            break\n          case 'left':\n            this.panels[y].splice(x, 0, newPanel)\n            break\n          case 'right':\n            this.panels[y].splice(x + 1, 0, newPanel)\n            break\n          default:\n            console.warn('TOP AND BOTTOM to be added later')\n            return\n        }\n      }\n\n      this.updateURL()\n      globalStore.commit('resize')\n    },\n\n    onNavigate(newPanel: { component: string; props: any }, x: number, y: number) {\n      if (newPanel.component === 'SplashPage') {\n        this.panels[y][x] = { component: 'SplashPage', props: {}, key: Math.random() }\n      } else {\n        this.panels[y][x] = Object.assign({ key: Math.random() }, newPanel)\n      }\n\n      this.updateURL()\n      this.buildLayoutFromURL()\n    },\n\n    onClose(x: number, y: number) {\n      // kill the element\n      this.panels[y][x].component = null\n\n      // remove the panel\n      this.panels[y].splice(x, 1) // at column x of row y, remove 1 item\n\n      // if whole row is empty, deal with it\n      if (!this.panels[y].length) {\n        if (this.panels.length > 1) {\n          // remove row y if there are other rows\n          this.panels.splice(y, 1)\n        } else {\n          // if EVERYTHING is empty, show the previous page\n          // (does this work if there is no \"previous\" page, i.e. user got here from a direct url?)\n          // doesn't work!\n          // this.$router.back()\n\n          this.panels[0].push({ component: 'SplashPage', key: Math.random(), props: {} as any })\n        }\n      }\n\n      this.updateURL()\n      globalStore.commit('resize')\n    },\n\n    onBack(x: number, y: number) {\n      const panel = this.panels[y][x]\n\n      // can't go above splash screen\n      if (panel.component == 'SplashPage') return\n\n      // is this a viz instead of a folder/dashboard? Go back to folder.\n      if (panel.component !== 'TabbedDashboardView') {\n        panel.component = 'TabbedDashboardView'\n        panel.props.xsubfolder = this.panels[y][x].props.subfolder\n        delete panel.props.yamlConfig\n        this.updateURL()\n        return\n      }\n\n      let folder = '' + panel.props.xsubfolder\n\n      // if we're at the root, switch to SplashPage\n      if (!folder || folder === '/') {\n        panel.component = 'SplashPage'\n        panel.props = {}\n        this.updateURL()\n        return\n      }\n\n      // this is a folder/dashboard: go up one level\n      folder = folder.replaceAll('//', '/')\n      if (folder.endsWith('/')) folder = folder.slice(0, -1)\n      let segments = folder.split('/')\n      let upFolder = segments.slice(0, -1).join('/')\n\n      // new subfolder!\n      panel.props.xsubfolder = upFolder\n      delete panel.props.yamlConfig\n      this.updateURL()\n    },\n\n    getShowHeader(panel: any) {\n      // // whether or not to show the panel header is a bit convoluted:\n      // if (panel.component === 'SplashPage') return false\n      // if (this.showLeftBar) return true\n      // if (this.panels.length == 1 && this.panels[0].length == 1) return false\n      // return true\n\n      // some panels don't require header (or provide their own)\n      if (this.panels.length > 1 || this.panels[0].length > 1) return true\n\n      const panelsWithoutHeader = ['SplashPage', 'TabbedDashboardView']\n      if (panelsWithoutHeader.includes(panel.component)) return false\n\n      return true\n    },\n\n    updateURL() {\n      // save the first-most panel URL for highlighting purposes\n      this.firstPanelSubfolder = this.panels[0][0]?.props?.xsubfolder || ''\n\n      // multipanel has a base64 murky URL:\n      if (this.panels.length > 1 || this.panels[0].length > 1) {\n        const base64 = btoa(JSON.stringify(this.panels))\n        this.$router.push(`${BASE_URL}split/${base64}`)\n      } else {\n        // single panel has user-readable friendly URL:\n        const props = this.panels[0][0].props\n\n        const root = props.root || ''\n        const xsubfolder = props.xsubfolder || props.subfolder || ''\n        const yaml = props.yamlConfig || ''\n\n        if (yaml.indexOf('/') > -1) {\n          // a YAML from a config folder will have a path in it:\n          const yamlFileWithoutPath = yaml.substring(yaml.lastIndexOf('/'))\n          this.$router.replace(`${BASE_URL}${root}/${xsubfolder}/${yamlFileWithoutPath}`)\n        } else if (yaml) {\n          // YAML config specified\n          this.$router.push(`${BASE_URL}${root}/${xsubfolder}/${yaml}`)\n        } else {\n          // Just the folder and viz file itself\n          let finalUrl = `${BASE_URL}${root}/${xsubfolder}`\n          if (props.config) finalUrl += `/${props.config}`\n          this.$router.push(finalUrl)\n        }\n      }\n    },\n\n    // remove title from properties to avoid weird tooltips on components\n    cleanProps(props: any) {\n      const { title, ...propsWithoutTitle } = props\n      return propsWithoutTitle\n    },\n\n    dividerDragStart(e: MouseEvent) {\n      this.isDraggingDivider = e.clientX\n      this.dragStartWidth = this.leftSectionWidth\n    },\n\n    dividerDragEnd(e: MouseEvent) {\n      this.isDraggingDivider = 0\n    },\n\n    dividerDragging(e: MouseEvent) {\n      if (!this.isDraggingDivider) return\n\n      const deltaX = e.clientX - this.isDraggingDivider\n      this.leftSectionWidth = Math.max(0, this.dragStartWidth + deltaX)\n      localStorage.setItem('leftPanelWidth', `${this.leftSectionWidth}`)\n    },\n\n    setCardTitles(card: any, event: any) {\n      if (typeof event == 'string') {\n        // card.title = event // this isn't working, use Vue.set() instead\n        Vue.set(card, 'title', event)\n        card.description = ''\n      } else {\n        card.title = event.title\n        card.description = event.description || ''\n      }\n    },\n\n    async handleToggleInfoClicked(card: any) {\n      console.log('CARD INFO?', card)\n    },\n\n    async toggleZoom(card: any, x: number, y: number) {\n      console.log('ZOOM', card)\n      if (this.fullScreenPanel.x > -1) {\n        this.fullScreenPanel = { x: -1, y: -1 }\n      } else {\n        this.fullScreenPanel = { x, y }\n      }\n\n      // this.$emit('zoom', this.fullScreenCardId)\n      // // allow vue to resize everything\n      // await this.$nextTick()\n      // // tell plotly to resize everything\n      // this.updateDimensions(card.id)\n    },\n\n    updateDimensions(cardId: string) {\n      // const element = document.getElementById(cardId)\n      // if (element) {\n      //   const dimensions = { width: element.clientWidth, height: element.clientHeight }\n      //   if (this.resizers[cardId]) this.resizers[cardId](dimensions)\n      // }\n      // if (!this.isResizing) globalStore.commit('resize')\n    },\n\n    getTileStyle(panel: any) {\n      return {\n        overflow: this.panelsWithScrollbars.includes(panel.component) ? 'auto' : 'hidden',\n        // padding: '5px 5px',\n      }\n    },\n\n    restoreLeftPanel() {\n      this.$store.commit('setShowLeftBar', true)\n      this.$store.commit('setManualLeftPanelHidden', false)\n    },\n\n    getContainerStyle(panel: any, x: number, y: number) {\n      const rightPadding = x === this.panels[y].length - 1 ? '6px' : '0'\n      let style: any = {\n        padding: this.isMultipanel ? `6px ${rightPadding} 6px 6px` : '0px 0px',\n      }\n\n      // // figure out height. If card has registered a resizer with changeDimensions(),\n      // // then it needs a default height (300)\n      // const defaultHeight = plotlyChartTypes[card.type] ? 300 : undefined\n      // const height = card.height ? card.height * 60 : defaultHeight\n\n      // const flex = card.width || 1\n\n      // let style: any = {\n      //   flex: flex,\n      // }\n\n      // if (height) style.minHeight = `${height}px`\n\n      if (this.fullScreenPanel.x == -1) return style\n\n      // full screen ?\n      if (this.fullScreenPanel.x !== x) {\n        style.display = 'none'\n      } else {\n        style = {\n          position: 'absolute',\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          margin: '6px 6px',\n        }\n      }\n      return style\n    },\n  },\n  mounted() {\n    // EMBEDDED MODE? We'll hide some chrome\n    if ('embed' in this.$route.query) this.isEmbedded = true\n\n    const width = localStorage.getItem('leftPanelWidth')\n    this.leftSectionWidth = width == null ? DEFAULT_LEFT_WIDTH : parseInt(width)\n    if (this.leftSectionWidth < 0) this.leftSectionWidth = 2\n\n    // const section = localStorage.getItem('activeLeftSection')\n    // if (section) {\n    //   try {\n    //     this.activeLeftSection = JSON.parse(section)\n    //   } catch (e) {\n    //     this.activeLeftSection = { name: 'Files', class: 'BrowserPanel' }\n    //   }\n    // } else {\n    this.activeLeftSection = { name: 'Data', class: 'LeftSystemPanel' }\n    // }\n\n    this.buildLayoutFromURL()\n\n    // save the first-most panel URL for highlighting purposes\n    this.firstPanelSubfolder = this.panels[0][0]?.props?.xsubfolder || ''\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n#layout-manager {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n#split-screen {\n  display: flex;\n  flex-direction: row;\n  background-image: linear-gradient(45deg, #0c8ed3, #8f00ff);\n  flex: 1;\n}\n\n.left-panel {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\n\n.table-of-tiles {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  filter: drop-shadow(0px 0px 5px #00000040);\n}\n\n.tile-row {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n}\n\n.map-tile {\n  grid-row: 3 / 4;\n  grid-column: 1 / 2;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow-y: hidden;\n}\n\n.drag-container {\n  position: relative;\n  flex: 1;\n  height: 100%;\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  grid-template-columns: 1fr;\n}\n\n.drag-highlight {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin-left: 0px;\n  margin-top: 0px;\n  width: 100%;\n  height: 100%;\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  opacity: 0;\n  z-index: 50000;\n  border: 8px solid #00000000;\n  transition: background-color 0.2s, opacity 0.2s, height 0.2s, width 0.2s, margin-top 0.2s,\n    margin-left 0.2s;\n  transition-timing-function: ease-in;\n  pointer-events: none;\n}\n\n// .control-buttons {\n//   // background-color: var(--bgPanel);\n//   padding: 0.25rem 0.5rem;\n//   z-index: 250;\n//   grid-row: 1 / 2;\n//   grid-column: 1 / 2;\n//   display: flex;\n//   flex-direction: column;\n//   margin: 0 auto auto 0;\n\n//   a {\n//     color: var(--textVeryPale);\n//     font-size: 0.9rem;\n//     margin: 2px 0rem 0.1rem -4px;\n//     padding: 2px 4px 1px 4px;\n//     border-radius: 10px;\n//   }\n\n//   a:hover {\n//     color: var(--textBold);\n//     background-color: var(--bgHover);\n//   }\n// }\n\n.left-panel-divider {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 5px;\n  height: 100%;\n  background-color: #00000000;\n  margin-right: -4px;\n  transition: 0.25s background-color;\n  z-index: 1000;\n}\n\n.left-panel-divider:hover {\n  background-color: var(--sliderThumb); // matsimBlue;\n  transition-delay: 0.25s;\n  cursor: ew-resize;\n}\n\n.left-panel-active-section {\n  background-color: $themeColorPale;\n  color: white;\n  width: 300px;\n  padding: 0 0;\n}\n\n.row-drop-target {\n  position: absolute;\n  width: 100%;\n  height: 48px;\n  opacity: 0;\n  z-index: 60000;\n  transition: background-color 0.2s, opacity 0.2s, height 0.2s, width 0.2s, margin-top 0.2s;\n}\n\n.tile-labels {\n  flex: 1;\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  display: flex;\n  flex-direction: column;\n  margin-left: 2px;\n\n  h3 {\n    font-size: 1.2rem;\n    line-height: 1.1rem;\n    margin: 5px 1rem 0 2px;\n    color: white; // var(--textFancy);\n  }\n  p {\n    margin-top: -0.5rem;\n    margin-bottom: 0.5rem;\n  }\n}\n\n.tile-labels.getpanel {\n  padding: 3px 0;\n}\n\n.tile-buttons {\n  display: flex;\n  flex-direction: row;\n  // margin-right: 5px;\n  margin-left: auto;\n  color: var(--textFancy);\n}\n\n.nav-button {\n  opacity: 0.4;\n  margin-bottom: auto;\n  padding: 2px;\n  i {\n    font-size: 0.8rem;\n    padding: 0px 6px;\n  }\n}\n\n.nav-button:hover {\n  background-color: #ffffff20;\n  opacity: 1;\n  cursor: pointer;\n}\n.nav-button:hover .fa-expand {\n  color: var(--linkHover);\n}\n.nav-button:hover .fa-times-circle {\n  color: red;\n}\n\n.tile-header {\n  user-select: none;\n  background-color: var(--bgDashboardHeader);\n  padding: 0px 0px;\n  border-bottom: 1px solid #6666cc77;\n  display: flex;\n}\n\n.authorization-strip {\n  z-index: 10000;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: #ffc;\n  border: 2px solid blue;\n  border-left: 1rem solid blue;\n  margin: 0.25rem;\n  padding: 0.5rem;\n  filter: $filterShadow;\n}\n\n.is-white {\n  color: white;\n}\n\n.auth-row {\n  display: flex;\n}\n\n.breadcrumb-row {\n  grid-row: 2 / 3;\n  grid-column: 1 / 2;\n  display: flex;\n  color: var(--text);\n  background-color: var(--bgDashboard);\n  padding: 0 0.5rem;\n}\n\n.bread-crumbs {\n  padding: 2px 2rem 2px 0;\n  font-size: 0.9rem;\n}\n\n.restore-left-panel-button {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 3rem;\n  margin-bottom: 1rem;\n  background-color: #48485f; // $appTag;\n  z-index: 8000;\n  color: #ccc;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    margin: auto 0;\n    padding: 0 3px;\n    font-size: 9px;\n    text-align: center;\n  }\n}\n\n.restore-left-panel-button:hover {\n  background-color: #666; // #3c3c49;\n  color: #deef6f;\n  cursor: pointer;\n}\n</style>\n"],"names":["_sfc_main$f","defineComponent","svnProject","a","zcrumbs","subfolders","buildFolder","finalFolder","folder","crumb","props","_extends","target","i","source","key","isSupported","node","isNodeList","selector","isNode","isSvg","image","getImagesFromSelector","createOverlay","background","overlay","cloneTarget","template","_template$getBounding","top","left","width","height","clone","scrollTop","scrollLeft","createCustomEvent","type","params","eventParams","customEvent","mediumZoom","options","Promise","fn","noop","_handleClick","event","close","images","toggle","_handleScroll","isAnimating","active","currentScroll","zoomOptions","_handleKeyUp","update","newOptions","zoom","attach","_len","selectors","_key","newImages","imagesAccumulator","currentSelector","newImage","eventListeners","_ref","listener","detach","_len2","_key2","imagesToDetach","on","off","eventListener","open","_ref2","_animate","container","viewportWidth","viewportHeight","zoomContainer","_zoomContainer$getBou","_width","_height","_left","_top","zoomTarget","naturalWidth","naturalHeight","_zoomTarget$getBoundi","scaleX","scaleY","scale","translateX","translateY","transform","resolve","_handleOpenEnd","_images","getZoomTargetSize","loadEventListener","_handleCloseEnd","_ref3","getOptions","getImages","getZoomedImage","styleInject","css","ref","insertAt","head","style","mediumZoom$1","i18n","_sfc_main$e","TopSheet","HTTPFileSystem","tabColors","_sfc_main$d","TopsheetsFinder","pluginComponents","globalStore","markdown","maps","text","name","vizNumber","viz","title","readme","readmeIndex","f","readmeFilename","matches","micromatch","file","summaryYaml","yaml","vizName","pattern","glob","split","subsubfolder","contents","folderContents","folders","files","mergedFilesAndVizes","allVizes","err","e","kebabName","_sfc_main$c","color","message","isError","index","components","ErrorPanel","_sfc_main$b","_a","item","label","url","isLink","xsubfolder","roots","rootPage","hexToRgb_1","hex","result","isDarkColor_1","_hexToRgb2","require$$0","hexColor","overridedColor","k","_hexToRgb","r","g","b","colorArray","v","luminance","exports","_isDarkColor","module","_sfc_main$a","items","isDarkColor","group","_sfc_main$9","destination","SCREENSHOT_BERLIN","BASE_URL","logos","_sfc_main$7","FileSystemProjects","InfoBottom","p","root","row","status","fileSystems","addLocalFilesystem","dir","slug","filtered","set","crumbs","LOGO_SIMWRAPPER","__$_require_0412fa3e__","NO_DASHBOARDS","_sfc_main$6","pathMatch","subfolder","slash","cleanSubfolder","parent","lastSlash","panel","correctFolder","bundle","showDashboards","filename","allConfigs","mdAddNotes","_sfc_main$5","MarkdownIt","KEY","existingRoot","AddDataSource","_sfc_main$4","favorites","favorite","page","project","mdRenderer","_sfc_main$3","BreadCrumbs","DashBoard","FolderBrowser","configKey","hint","readmes","readmeText","html","fullPath","Vue","userSupplied","userTab","projectFolder","yamlFolder","config","YAML","chunks","cssFile","msg","theme","configFilepath","cacheKey","userTheme","which","header","dirs","allContents","shortFilename","Status","DashboardDataManager","tab","isZoomed","handle","lastFolder","_sfc_main$2","lang","ICON_INFO","ICON_DOCS","ICON_SIMWRAPPER","DOCS_URL","_sfc_main$1","SettingsPanel","section","DEFAULT_LEFT_WIDTH","_sfc_main","LeftIconPanel","LeftProjectPanel","LeftSplitFolderPanel","LeftSystemPanel","TopNavBar","SplashPage","TabbedDashboardView","to","from","payload","content","json","fileNameWithoutPath","lowerCaseFileName","vizPlugin","svnProjects","fileSystem","dragState","x","y","opacity","pointerEvents","area","navOffset","pctX","BORDER","w","h","componentConfig","newPanel","quadrant","upFolder","_b","base64","yamlFileWithoutPath","finalUrl","propsWithoutTitle","deltaX","card","cardId","rightPadding"],"mappings":"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","x_google_ignoreList":[1,6,7,8]}